(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/home/home"],{

/***/ 41:
/*!******************************************************************************************************!*\
  !*** D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/main.js?{"page":"pages%2Fhome%2Fhome"} ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, createPage) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
__webpack_require__(/*! uni-pages */ 26);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
var _home = _interopRequireDefault(__webpack_require__(/*! ./pages/home/home.vue */ 42));
// @ts-ignore
wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
createPage(_home.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["createPage"]))

/***/ }),

/***/ 42:
/*!***********************************************************************************!*\
  !*** D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=92bb8f34& */ 43);
/* harmony import */ var _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=js& */ 45);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&lang=scss& */ 47);
/* harmony import */ var _plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 36);

var renderjs





/* normalize component */

var component = Object(_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["render"],
  _home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/home/home.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 43:
/*!******************************************************************************************************************!*\
  !*** D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?vue&type=template&id=92bb8f34& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=92bb8f34& */ 44);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_92bb8f34___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 44:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?vue&type=template&id=92bb8f34& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var g0 = _vm.pullDistance > 0 ? Math.min(_vm.pullDistance / 60, 1) : null
  var g1 = !(_vm.isLoading && _vm.page === 1) ? _vm.postList.length : null
  var l0 =
    !(_vm.isLoading && _vm.page === 1) && g1 > 0
      ? _vm.__map(_vm.leftColumnPosts, function (post, __i0__) {
          var $orig = _vm.__get_orig(post)
          var g2 = post.images && post.images.length > 0
          var m0 = _vm.truncateNickname(post.nickname)
          return {
            $orig: $orig,
            g2: g2,
            m0: m0,
          }
        })
      : null
  var l1 =
    !(_vm.isLoading && _vm.page === 1) && g1 > 0
      ? _vm.__map(_vm.rightColumnPosts, function (post, __i1__) {
          var $orig = _vm.__get_orig(post)
          var g3 = post.images && post.images.length > 0
          var m1 = _vm.truncateNickname(post.nickname)
          return {
            $orig: $orig,
            g3: g3,
            m1: m1,
          }
        })
      : null
  var m2 =
    !(_vm.isLoading && _vm.page === 1) && !(g1 > 0) ? _vm.getEmptyText() : null
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        g0: g0,
        g1: g1,
        l0: l0,
        l1: l1,
        m2: m2,
      },
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 45:
/*!************************************************************************************************************!*\
  !*** D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */ 46);
/* harmony import */ var _plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 46:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 30));
var _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ 18));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 32));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _vuex = __webpack_require__(/*! vuex */ 33);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
var _default = {
  data: function data() {
    return {
      // è½®æ’­å›¾æ•°æ®
      bannerList: [],
      // âœ… å¯¼èˆªå’Œåˆ†ç±»
      sortMode: 'discover',
      // discover(å‘ç°) / follow(å…³æ³¨) / latest(æœ€æ–°)
      categoryMode: 'recommend',
      // recommend(æ¨è) / daily(æ—¥å¸¸) / friend(äº¤å‹) / complaint(åæ§½)

      // âœ… å¸–å­åˆ—è¡¨
      postList: [],
      page: 1,
      pageSize: 6,
      isLoading: false,
      isLoadingMore: false,
      hasMore: true,
      // âœ… æ¨èæ¨¡å¼æ’é™¤åˆ—è¡¨
      excludePostIds: [],
      // é˜²æŠ–ç›¸å…³
      isReachingBottom: false,
      lastReachTime: 0,
      reachThrottle: 500,
      // âœ… å¯¼èˆªæ å¸é¡¶ç›¸å…³
      isNavFixed: false,
      // æ˜¯å¦å›ºå®š
      navTop: 0,
      // å¯¼èˆªæ çš„ top å€¼
      bannerHeight: 300,
      // è½®æ’­å›¾é«˜åº¦ï¼ˆrpx è½¬ px åçš„å€¼ï¼‰
      scrollTop: 0,
      // å½“å‰æ»šåŠ¨ä½ç½®
      navOffsetTop: 0,
      // ğŸ†• å¯¼èˆªæ åˆå§‹ä½ç½®ï¼ˆè·ç¦»é¡µé¢é¡¶éƒ¨çš„è·ç¦»ï¼‰
      iconLikeUrl: 'https://img.xinshi00.com/label/like.png',
      iconLikedUrl: 'https://img.xinshi00.com/label/liked.png',
      // ğŸ”¥ æ–°å¢ï¼šè‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°ç›¸å…³
      isPulling: false,
      // æ˜¯å¦æ­£åœ¨ä¸‹æ‹‰
      isRefreshing: false,
      // æ˜¯å¦æ­£åœ¨åˆ·æ–°
      pullDistance: 0,
      // ä¸‹æ‹‰è·ç¦»
      startY: 0,
      // è§¦æ‘¸èµ·å§‹ä½ç½®
      refreshThreshold: 80,
      // è§¦å‘åˆ·æ–°çš„é˜ˆå€¼ï¼ˆpxï¼‰

      maxPullDistance: 120,
      // æœ€å¤§ä¸‹æ‹‰è·ç¦»ï¼ˆpxï¼‰
      lastTouchTime: 0,
      // ğŸ†• æ–°å¢ï¼šä¸Šæ¬¡è§¦æ‘¸æ—¶é—´
      touchThrottle: 16,
      // ğŸ†• æ–°å¢ï¼šèŠ‚æµé—´éš”ï¼ˆçº¦60fpsï¼‰
      showSideMenu: false,
      // æ§åˆ¶ä¾§è¾¹æ æ˜¾ç¤º
      // èœå•æ•°æ®
      menuGroups: [{
        id: 'content',
        items: [{
          name: 'æˆ‘çš„ä½œå“',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/photo.png',
          route: '/subpkg/my-posts/my-posts'
        }, {
          name: 'æˆ‘çš„ç‚¹èµ',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/like.png',
          route: '/subpkg/like/like'
        }, {
          name: 'æˆ‘çš„è¯„è®º',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/jianpan.png',
          route: '/subpkg/my-post-comments/my-post-comments'
        }, {
          name: 'æˆ‘çš„æ¶ˆæ¯',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/chat.png',
          route: '/pages/message/message'
        }, {
          name: 'æˆ‘çš„åˆ é™¤',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/shanchu.png',
          route: '/subpkg/my-deleted-posts/my-deleted-posts'
        }]
      }, {
        id: 'system',
        items: [{
          name: 'å°é»‘æ¿',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/school.png',
          route: '/subpkg/board/board'
        }, {
          name: 'ç¤¾åŒºå…¬çº¦',
          icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/department.png',
          route: '/subpkg/rules/rules'
        }]
      }],
      bottomActions: [{
        name: 'å¸®åŠ©ä¸å®¢æœ',
        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/bottom-kefu.png',
        action: 'help'
      }, {
        name: 'è®¾ç½®',
        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/bottom-shezhi.png',
        route: '/subpkg/edit/edit'
      }],
      _loadingStates: [],
      pendingLoadMore: false,
      pendingTimer: null
    };
  },
  computed: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, (0, _vuex.mapState)('m_user', ['openid', 'userBase', 'preference'])), (0, _vuex.mapState)('m_posts', ['newPublishedPost'])), (0, _vuex.mapGetters)('m_posts', ['shouldShowNewPost'])), {}, {
    // ğŸ”¥ æ–°å¢ï¼šåˆ·æ–°æç¤ºæ–‡æœ¬
    refreshText: function refreshText() {
      if (this.isRefreshing) {
        return 'æ­£åœ¨åˆ·æ–°...';
      } else if (this.pullDistance >= this.refreshThreshold) {
        return 'æ¾å¼€åˆ·æ–°';
      } else if (this.isPulling) {
        return 'ä¸‹æ‹‰åˆ·æ–°';
      }
      return '';
    },
    // å·¦åˆ—å¸–å­
    leftColumnPosts: function leftColumnPosts() {
      return this.postList.filter(function (_, index) {
        return index % 2 === 0;
      });
    },
    // å³åˆ—å¸–å­
    rightColumnPosts: function rightColumnPosts() {
      return this.postList.filter(function (_, index) {
        return index % 2 === 1;
      });
    }
  }),
  onLoad: function onLoad() {
    var _this = this;
    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
      var _yield$uni$$http$get, res;
      return _regenerator.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return _this.loadPostList();
            case 2:
              if (!_this.openid) {
                _context.next = 8;
                break;
              }
              _context.next = 5;
              return uni.$http.get('/users/userinfo', {
                code: _this.openid
              });
            case 5:
              _yield$uni$$http$get = _context.sent;
              res = _yield$uni$$http$get.data;
              if (res.meta.status === 200) {
                _this.updateUserBase(res.message);
              }
            case 8:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))();
  },
  onShow: function onShow() {
    console.log('ğŸ“„ home é¡µé¢ onShow è§¦å‘');

    // æ£€æŸ¥æ˜¯å¦æœ‰æ–°å‘å¸ƒçš„å¸–å­
    if (this.shouldShowNewPost('home')) {
      console.log('ğŸ“¥ æ”¶åˆ°æ–°å‘å¸ƒçš„å¸–å­:', this.newPublishedPost);

      // æ’å…¥åˆ°åˆ—è¡¨
      this.insertNewPost(this.newPublishedPost);

      // æ¸…ç©º Vuex çŠ¶æ€ï¼ˆé˜²æ­¢é‡å¤æ˜¾ç¤ºï¼‰
      this.clearNewPost();
    }
  },
  // onPullDownRefresh() {
  // 	this.refreshPostList()
  // },
  onReachBottom: function onReachBottom() {
    var _this2 = this;
    var now = Date.now();
    if (this.isLoading || this.isLoadingMore || this.isReachingBottom) {
      this.pendingLoadMore = true;
      console.log('[onReachBottom] loading ä¸­ï¼Œæ’é˜Ÿä¸€æ¬¡');
      return;
    }
    if (now - this.lastReachTime < 400) {
      // èŠ‚æµçª—å£ç¼©çŸ­ï¼Œä¹Ÿå¯ä»¥ä¿æŒ 800
      this.pendingLoadMore = true;
      if (!this.pendingTimer) {
        this.pendingTimer = setTimeout(function () {
          _this2.pendingTimer = null;
          _this2.flushPendingLoadMore();
        }, 400 - (now - this.lastReachTime));
      }
      console.log('[onReachBottom] èŠ‚æµå‘½ä¸­ï¼Œæ’é˜Ÿä¸€æ¬¡');
      return;
    }
    this.lastReachTime = now;
    this.loadMore();
  },
  methods: _objectSpread(_objectSpread(_objectSpread({}, (0, _vuex.mapMutations)('m_user', ['updateUserBase', 'updatepreference'])), (0, _vuex.mapMutations)('m_posts', ['clearNewPost'])), {}, {
    flushPendingLoadMore: function flushPendingLoadMore() {
      if (!this.pendingLoadMore) return;
      if (!this.hasMore) {
        this.pendingLoadMore = false;
        return;
      }
      if (this.isLoading || this.isLoadingMore || this.isReachingBottom) return;
      this.pendingLoadMore = false;
      this.loadMore();
    },
    // ğŸ”¥ æ–°å¢ï¼šè§¦æ‘¸å¼€å§‹
    onTouchStart: function onTouchStart(e) {
      // åªåœ¨é¡µé¢é¡¶éƒ¨ä¸”æœªåˆ·æ–°æ—¶å…è®¸ä¸‹æ‹‰
      if (this.isRefreshing || this.scrollTop > 5) return;
      this.startY = e.touches[0].pageY;
      this.isPulling = false; // åˆå§‹çŠ¶æ€
      console.log('ğŸ‘† è§¦æ‘¸å¼€å§‹:', this.startY);
    },
    // ğŸ”¥ ä¿®å¤ï¼šè§¦æ‘¸ç§»åŠ¨ï¼ˆæ·»åŠ èŠ‚æµï¼‰
    onTouchMove: function onTouchMove(e) {
      if (this.isRefreshing || this.scrollTop > 5) return;
      var currentY = e.touches[0].pageY;
      var distance = currentY - this.startY;

      // åªå¤„ç†å‘ä¸‹æ‹‰çš„æƒ…å†µ
      if (distance <= 0) return;

      // ğŸ†• èŠ‚æµå¤„ç†
      var now = Date.now();
      if (now - this.lastTouchTime < this.touchThrottle) {
        return;
      }
      this.lastTouchTime = now;

      // å¼€å§‹ä¸‹æ‹‰
      if (!this.isPulling) {
        this.isPulling = true;
        console.log('ğŸ“ å¼€å§‹ä¸‹æ‹‰');
      }

      // é˜»å°¼æ•ˆæœ
      var damping = distance < 150 ? 0.6 : 0.6;
      this.pullDistance = Math.min(distance * damping, this.maxPullDistance);
      console.log('ğŸ“ ä¸‹æ‹‰è·ç¦»:', this.pullDistance); // ğŸ†• æ·»åŠ æ—¥å¿—
    },
    openSideMenu: function openSideMenu() {
      if (!this.openid) {
        // å¼¹å‡ºç™»å½•æç¤ºæ¡†
        uni.showModal({
          title: 'æç¤º',
          content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',
          cancelText: 'å–æ¶ˆ',
          confirmText: 'ç™»å½•',
          success: function success(res) {
            if (res.confirm) {
              // ç”¨æˆ·ç‚¹å‡»äº†"ç™»å½•"æŒ‰é’®
              uni.switchTab({
                url: '/pages/my/my'
              });
            }
            // ç”¨æˆ·ç‚¹å‡»äº†"å–æ¶ˆ"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ
          }
        });

        return;
      }
      this.showSideMenu = true;
    },
    closeSideMenu: function closeSideMenu() {
      this.showSideMenu = false;
    },
    handleMenuClick: function handleMenuClick(item) {
      this.closeSideMenu();
      setTimeout(function () {
        uni.navigateTo({
          url: item.route,
          fail: function fail() {
            uni.showToast({
              title: 'é¡µé¢å¼€å‘ä¸­',
              icon: 'none'
            });
          }
        });
      }, 300);
    },
    handleBottomAction: function handleBottomAction(action) {
      this.closeSideMenu();
      if (action.route) {
        uni.navigateTo({
          url: action.route
        });
      }
      // å®¢æœé€»è¾‘ç”± <button open-type="contact"> è‡ªåŠ¨å¤„ç†ï¼Œæ­¤å¤„æ— éœ€ä»£ç 
    },
    // ğŸ”¥ ä¿®æ”¹ï¼šè§¦æ‘¸ç»“æŸ - æ·»åŠ ç¼“å†²å›å¼¹åŠ¨ç”»
    onTouchEnd: function onTouchEnd() {
      var _this3 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {
        return _regenerator.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (!(!_this3.isPulling || _this3.isRefreshing)) {
                  _context2.next = 4;
                  break;
                }
                _this3.isPulling = false;
                _this3.pullDistance = 0;
                return _context2.abrupt("return");
              case 4:
                console.log('ğŸ‘‡ è§¦æ‘¸ç»“æŸï¼Œä¸‹æ‹‰è·ç¦»:', _this3.pullDistance);
                _this3.isPulling = false;

                // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°åˆ·æ–°é˜ˆå€¼
                if (!(_this3.pullDistance >= _this3.refreshThreshold)) {
                  _context2.next = 23;
                  break;
                }
                console.log('âœ… è§¦å‘åˆ·æ–°');
                _this3.isRefreshing = true;

                // ğŸ”¥ å…³é”®ï¼šå…ˆå›å¼¹åˆ°é˜ˆå€¼ä½ç½®ï¼ˆå¸¦åŠ¨ç”»ï¼‰
                _this3.pullDistance = _this3.refreshThreshold;
                _context2.prev = 10;
                _context2.next = 13;
                return _this3.refreshPostList();
              case 13:
                _context2.next = 18;
                break;
              case 15:
                _context2.prev = 15;
                _context2.t0 = _context2["catch"](10);
                console.error('âŒ åˆ·æ–°å¤±è´¥:', _context2.t0);
              case 18:
                _context2.prev = 18;
                // ğŸ”¥ ä¿®æ”¹ï¼šå»¶é•¿å›å¼¹æ—¶é—´ï¼Œè®©ç”¨æˆ·çœ‹åˆ°åˆ·æ–°å®Œæˆ
                setTimeout(function () {
                  _this3.isRefreshing = false;
                  // ğŸ”¥ æ·»åŠ æ¸è¿›å¼å›å¼¹åŠ¨ç”»
                  _this3.pullDistance = 0;
                }, 800); // å»¶é•¿è‡³ 800ms
                return _context2.finish(18);
              case 21:
                _context2.next = 25;
                break;
              case 23:
                // ğŸ”¥ ä¿®æ”¹ï¼šæœªè¾¾åˆ°é˜ˆå€¼æ—¶ä¹Ÿæ·»åŠ ç¼“å†²å›å¼¹
                console.log('âš ï¸ æœªè¾¾åˆ°é˜ˆå€¼ï¼Œç¼“å†²å›å¼¹');

                // å»¶è¿Ÿ 100ms å†å¼€å§‹å›å¼¹ï¼Œè®©ç”¨æˆ·æ„Ÿå—åˆ°æ¾æ‰‹
                setTimeout(function () {
                  _this3.pullDistance = 0;
                }, 100);
              case 25:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[10, 15, 18, 21]]);
      }))();
    },
    // ğŸ”¥ æ–°å¢ï¼šæ’å…¥æ–°å¸–å­åˆ°åˆ—è¡¨é¡¶éƒ¨
    // ğŸ”¥ ä¿®æ”¹ï¼šæ’å…¥æ–°å¸–å­åˆ°åˆ—è¡¨é¡¶éƒ¨
    insertNewPost: function insertNewPost(post) {
      if (!post) return;

      // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ï¼ˆé¿å…é‡å¤æ’å…¥ï¼‰
      var exists = this.postList.some(function (p) {
        return p.post_id === post.post_id;
      });
      if (exists) {
        console.log('âš ï¸ å¸–å­å·²å­˜åœ¨ï¼Œè·³è¿‡æ’å…¥');
        return;
      }

      // ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šå®Œæ•´åˆå§‹åŒ–å¸–å­å¯¹è±¡ï¼ˆä¸ loadPostList ä¿æŒä¸€è‡´ï¼‰
      var formattedPost = _objectSpread(_objectSpread({}, post), {}, {
        id: post.post_id || post.id,
        // ç¡®ä¿æœ‰ id å­—æ®µ
        timeText: this.formatTime(post.created_at || new Date().toISOString()),
        images: this.processPostImages(post.images),
        viewCount: post.viewCount || post.view_count || 0,
        likeCount: post.likeCount || post.like_count || post.likes_count || 0,
        commentCount: post.commentCount || post.comment_count || post.comments_count || 0,
        isLiked: post.isLiked || post.is_liked || false,
        isTopicDiscussion: post.isTopicDiscussion || 0,
        // ğŸ”¥ æ ¸å¿ƒï¼šåˆå§‹åŒ–å›¾ç‰‡åŠ è½½çŠ¶æ€
        imageLoaded: false,
        imageError: false
      });

      // æ’å…¥åˆ°åˆ—è¡¨é¡¶éƒ¨
      this.postList.unshift(formattedPost);
      console.log('âœ… æ–°å¸–å­å·²æ’å…¥åˆ—è¡¨é¡¶éƒ¨:', formattedPost.id);

      // æ˜¾ç¤ºæç¤º
      uni.showToast({
        title: 'å¸–å­å·²å‘å¸ƒ',
        icon: 'success',
        duration: 2000
      });
    },
    // ğŸ”¥ æ–°å¢ï¼šå›¾ç‰‡åŠ è½½æˆåŠŸå›è°ƒ
    onImageLoad: function onImageLoad(post) {
      this.$set(post, 'imageLoaded', true);
      console.log("\u2705 \u56FE\u7247\u52A0\u8F7D\u6210\u529F: ".concat(post.id));
    },
    // ğŸ”¥ æ–°å¢ï¼šå›¾ç‰‡åŠ è½½å¤±è´¥å›è°ƒ
    onImageError: function onImageError(post) {
      this.$set(post, 'imageError', true);
      console.error("\u274C \u56FE\u7247\u52A0\u8F7D\u5931\u8D25: ".concat(post.id));

      // è®¾ç½®é»˜è®¤å›¾ç‰‡
      var index = this.postList.findIndex(function (p) {
        return p.id === post.id;
      });
      if (index !== -1) {
        this.postList[index].images = ['https://img.xinshi00.com/label/default-post.png'];
      }
    },
    // ğŸ”¥ æ–°å¢ï¼šæ›´æ–°å¸–å­ç‚¹èµçŠ¶æ€çš„æ–¹æ³•
    updatePostLikeStatus: function updatePostLikeStatus(data) {
      var postId = data.postId,
        isLiked = data.isLiked,
        likeCount = data.likeCount;
      console.log('ğŸ“¥ æ”¶åˆ°ç‚¹èµçŠ¶æ€æ›´æ–°:', data);

      // åœ¨ postList ä¸­æŸ¥æ‰¾å¯¹åº”çš„å¸–å­
      var index = this.postList.findIndex(function (post) {
        return post.id === postId;
      });
      console.log("imhere");
      console.log(index);
      if (index !== -1) {
        // æ›´æ–°å¸–å­çš„ç‚¹èµçŠ¶æ€
        this.postList[index].isLiked = isLiked;
        this.postList[index].likeCount = likeCount;

        // å¼ºåˆ¶æ›´æ–°è§†å›¾
        this.$set(this.postList, index, _objectSpread({}, this.postList[index]));
        console.log("\u2705 \u5DF2\u66F4\u65B0\u5E16\u5B50 ".concat(postId, " \u7684\u70B9\u8D5E\u72B6\u6001:"), {
          isLiked: isLiked,
          likeCount: likeCount
        });
      } else {
        console.warn("\u26A0\uFE0F \u672A\u627E\u5230\u5E16\u5B50 ".concat(postId));
      }
    },
    // âœ… ä¿®æ”¹ï¼šåˆ‡æ¢æ’åºæ¨¡å¼ï¼ˆå‘ç°/å…³æ³¨/æœ€æ–°ï¼‰
    selectSortMode: function selectSortMode(mode) {
      if (this.sortMode === mode) {
        uni.pageScrollTo({
          scrollTop: 0,
          duration: 300
        });
        return;
      }
      if (mode === 'follow' && !this.openid) {
        // å¼¹å‡ºç™»å½•æç¤ºæ¡†
        uni.showModal({
          title: 'æç¤º',
          content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',
          cancelText: 'å–æ¶ˆ',
          confirmText: 'ç™»å½•',
          success: function success(res) {
            if (res.confirm) {
              // ç”¨æˆ·ç‚¹å‡»äº†"ç™»å½•"æŒ‰é’®
              uni.switchTab({
                url: '/pages/my/my'
              });
            }
            // ç”¨æˆ·ç‚¹å‡»äº†"å–æ¶ˆ"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ
          }
        });

        return;
      }
      console.log("\uD83D\uDD04 \u5207\u6362\u6392\u5E8F\u6A21\u5F0F: ".concat(this.sortMode, " \u2192 ").concat(mode));
      uni.pageScrollTo({
        scrollTop: 0,
        duration: 300
      });
      this.sortMode = mode;
      if (mode === 'latest' || mode === 'follow') {
        this.categoryMode = 'recommend';
      }

      // ğŸ”¥ åˆ‡æ¢æ¨¡å¼æ—¶é‡ç½®æ‰€æœ‰çŠ¶æ€
      this.page = 1;
      this.postList = [];
      this.excludePostIds = [];
      this.hasMore = true;
      this._lastLoadCount = undefined;
      this.loadPostList();
    },
    // ğŸ”¥ æ–°å¢ï¼šæˆªæ–­æ˜µç§°çš„æ–¹æ³•
    truncateNickname: function truncateNickname(name) {
      if (!name) return '';
      var maxLength = 7; // é™åˆ¶ 7 ä¸ªå­—
      if (name.length > maxLength) {
        return name.substring(0, maxLength) + '...';
      }
      return name;
    },
    // âœ… ä¿®æ”¹ï¼šåˆ‡æ¢åˆ†ç±»ï¼ˆæ¨è/æ—¥å¸¸/äº¤å‹/åæ§½ï¼‰
    // âœ… ä¿®æ”¹ selectCategory() æ–¹æ³•
    selectCategory: function selectCategory(category) {
      if (this.categoryMode === category) {
        uni.pageScrollTo({
          scrollTop: 0,
          duration: 300
        });
        return;
      }
      console.log("\uD83D\uDCC2 \u5207\u6362\u5206\u7C7B: ".concat(this.categoryMode, " \u2192 ").concat(category));
      this.categoryMode = category;

      // ğŸ”¥ åˆ‡æ¢åˆ†ç±»æ—¶é‡ç½®æ‰€æœ‰çŠ¶æ€
      this.page = 1;
      this.postList = [];
      this.excludePostIds = [];
      this.hasMore = true;
      this._lastLoadCount = undefined; // é‡ç½®è®¡æ•°

      this.loadPostList();
    },
    // âœ… è·³è½¬åˆ°æœç´¢é¡µé¢
    gotoSearch: function gotoSearch() {
      uni.navigateTo({
        url: '/subpkg/post-search/post-search?'
      });
    },
    gotoFeedback: function gotoFeedback() {
      uni.navigateTo({
        url: '/subpkg/feedback/feedback'
      });
    },
    loadPostList: function loadPostList() {
      var _this4 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {
        var _this4$userBase, department, params, categoryMap, requestPromise, timeoutPromise, _yield$Promise$race, res, newPosts, actualNewPostsCount, newPostIds, i, _this4$postList;
        return _regenerator.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                if (!_this4.isLoading) {
                  _context3.next = 4;
                  break;
                }
                console.log('[loadPostList] å·²æœ‰è¯·æ±‚åœ¨è¿›è¡Œï¼Œè·³è¿‡');
                return _context3.abrupt("return");
              case 4:
                _this4.isLoading = true;
                department = ((_this4$userBase = _this4.userBase) === null || _this4$userBase === void 0 ? void 0 : _this4$userBase.major) || '';
                params = {
                  page: _this4.page,
                  pageSize: _this4.pageSize,
                  openid: _this4.openid || '',
                  department: department,
                  filterMode: 'all',
                  isTopicDiscussion: 'true',
                  excludePostIds: _this4.excludePostIds.join(',')
                }; // æ ¹æ®ä¸åŒæ¨¡å¼è®¾ç½®å‚æ•°
                if (!(_this4.sortMode === 'discover')) {
                  _context3.next = 11;
                  break;
                }
                if (_this4.categoryMode === 'recommend') {
                  params.preference = _this4.preference;
                } else {
                  categoryMap = {
                    'daily': 'æ—¥å¸¸',
                    'friend': 'è¯¢é—®',
                    'complaint': 'åæ§½'
                  };
                  params.category = categoryMap[_this4.categoryMode];
                }
                _context3.next = 19;
                break;
              case 11:
                if (!(_this4.sortMode === 'latest')) {
                  _context3.next = 15;
                  break;
                }
                params.sortBy = 'created_at';
                _context3.next = 19;
                break;
              case 15:
                if (!(_this4.sortMode === 'follow')) {
                  _context3.next = 19;
                  break;
                }
                _context3.next = 18;
                return _this4.loadFollowPosts();
              case 18:
                return _context3.abrupt("return", _context3.sent);
              case 19:
                console.log("\uD83D\uDCE1 \u52A0\u8F7D\u5E16\u5B50 - \u9875\u7801: ".concat(_this4.page, ", \u6392\u9664: ").concat(_this4.excludePostIds.length, " \u4E2A, \u6A21\u5F0F: ").concat(_this4.sortMode));

                // ğŸ”¥ æ–°å¢:æ·»åŠ è¯·æ±‚è¶…æ—¶å¤„ç†
                requestPromise = uni.$http.get('/posts/list', params);
                timeoutPromise = new Promise(function (_, reject) {
                  return setTimeout(function () {
                    return reject(new Error('è¯·æ±‚è¶…æ—¶'));
                  }, 10000);
                });
                _context3.next = 24;
                return Promise.race([requestPromise, timeoutPromise]);
              case 24:
                _yield$Promise$race = _context3.sent;
                res = _yield$Promise$race.data;
                if (!(res.meta.status === 200)) {
                  _context3.next = 47;
                  break;
                }
                newPosts = (res.message.list || []).map(function (post) {
                  return _objectSpread(_objectSpread({}, post), {}, {
                    id: post.post_id || post.id,
                    timeText: _this4.formatTime(post.created_at),
                    images: _this4.processPostImages(post.images),
                    viewCount: post.viewCount || 0,
                    likeCount: post.likeCount || 0,
                    commentCount: post.commentCount || 0,
                    isLiked: post.isLiked || false,
                    isTopicDiscussion: post.isTopicDiscussion || 0,
                    imageLoaded: false,
                    imageError: false
                  });
                });
                actualNewPostsCount = newPosts.length;
                console.log("\uD83D\uDCCA \u540E\u7AEF\u8FD4\u56DE: ".concat(actualNewPostsCount, " \u4E2A\u5E16\u5B50"));

                // ğŸ”¥ ç´¯ç§¯æœ¬æ¬¡è·å–åˆ°çš„æ‰€æœ‰å¸–å­ID
                if (newPosts.length > 0) {
                  newPostIds = newPosts.map(function (post) {
                    return post.id;
                  });
                  _this4.excludePostIds = [].concat((0, _toConsumableArray2.default)(_this4.excludePostIds), (0, _toConsumableArray2.default)(newPostIds));
                  console.log("\u2705 \u7D2F\u79EF\u5E16\u5B50ID: \u65B0\u589E ".concat(newPostIds.length, " \u4E2A\uFF0C\u603B\u8BA1 ").concat(_this4.excludePostIds.length, " \u4E2A"));
                }

                // ğŸ”¥ å…³é”®ä¿®æ”¹:æ›´æ–°åˆ—è¡¨å‰æ·»åŠ å»¶è¿Ÿ,é¿å…æ¸²æŸ“é˜»å¡
                if (!(_this4.page === 1)) {
                  _context3.next = 35;
                  break;
                }
                _this4.postList = newPosts;
                _context3.next = 44;
                break;
              case 35:
                i = 0;
              case 36:
                if (!(i < newPosts.length)) {
                  _context3.next = 44;
                  break;
                }
                (_this4$postList = _this4.postList).push.apply(_this4$postList, (0, _toConsumableArray2.default)(newPosts.slice(i, i + 2)));
                if (!(i + 2 < newPosts.length)) {
                  _context3.next = 41;
                  break;
                }
                _context3.next = 41;
                return new Promise(function (resolve) {
                  return setTimeout(resolve, 16);
                });
              case 41:
                i += 2;
                _context3.next = 36;
                break;
              case 44:
                // hasMoreåˆ¤æ–­é€»è¾‘
                if (_this4.sortMode === 'discover') {
                  _this4.hasMore = true;
                  _this4._lastLoadCount = actualNewPostsCount;
                  console.log("\u2705 \u53D1\u73B0\u6A21\u5F0F - \u672C\u6B21\u8FD4\u56DE: ".concat(actualNewPostsCount, "\uFF0C\u603B\u8BA1: ").concat(_this4.postList.length));
                } else {
                  _this4.hasMore = res.message.hasMore === true;
                  console.log("\u2705 ".concat(_this4.sortMode, "\u6A21\u5F0F - \u52A0\u8F7D\u6210\u529F: ").concat(newPosts.length, "\uFF0ChasMore: ").concat(_this4.hasMore));
                }
                _context3.next = 49;
                break;
              case 47:
                console.error('âŒ è¯·æ±‚å¤±è´¥:', res.meta.msg);
                _this4.hasMore = false;
              case 49:
                _context3.next = 56;
                break;
              case 51:
                _context3.prev = 51;
                _context3.t0 = _context3["catch"](0);
                console.error('âŒ åŠ è½½å¼‚å¸¸:', _context3.t0);
                _this4.showMessageToast(_context3.t0.message === 'è¯·æ±‚è¶…æ—¶' ? 'ç½‘ç»œè¶…æ—¶ï¼Œè¯·é‡è¯•' : 'åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ');
                _this4.hasMore = false;
              case 56:
                _context3.prev = 56;
                _this4.isLoading = false;
                _this4.isLoadingMore = false;
                _this4.isReachingBottom = false;
                if (_this4.pendingTimer && !_this4.pendingLoadMore) {
                  clearTimeout(_this4.pendingTimer);
                  _this4.pendingTimer = null;
                }
                _this4.$nextTick(function () {
                  return _this4.flushPendingLoadMore();
                });
                return _context3.finish(56);
              case 63:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[0, 51, 56, 63]]);
      }))();
    },
    // ğŸ†• æ–°å¢ï¼šåŠ è½½å…³æ³¨ç”¨æˆ·çš„å¸–å­
    loadFollowPosts: function loadFollowPosts() {
      var _this5 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {
        var _this5$userBase, followingIds, params, _yield$uni$$http$get2, res, newPosts, _this5$postList;
        return _regenerator.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.prev = 0;
                // æ£€æŸ¥æ˜¯å¦æœ‰å…³æ³¨åˆ—è¡¨
                followingIds = ((_this5$userBase = _this5.userBase) === null || _this5$userBase === void 0 ? void 0 : _this5$userBase.following_ids) || [];
                if (!(!Array.isArray(followingIds) || followingIds.length === 0)) {
                  _context4.next = 9;
                  break;
                }
                console.log('âš ï¸ æ²¡æœ‰å…³æ³¨ä»»ä½•ç”¨æˆ·');
                _this5.postList = [];
                _this5.hasMore = false;
                _this5.isLoading = false;
                _this5.isLoadingMore = false;
                return _context4.abrupt("return");
              case 9:
                params = {
                  page: _this5.page,
                  pageSize: _this5.pageSize,
                  openid: _this5.openid,
                  following_ids: followingIds.join(',')
                };
                console.log("\uD83D\uDCE1 \u52A0\u8F7D\u5173\u6CE8\u5E16\u5B50 - \u9875\u7801: ".concat(_this5.page, ", \u5173\u6CE8\u7528\u6237\u6570: ").concat(followingIds.length));
                _context4.next = 13;
                return uni.$http.get('/posts/followlist', params);
              case 13:
                _yield$uni$$http$get2 = _context4.sent;
                res = _yield$uni$$http$get2.data;
                if (res.meta.status === 200) {
                  newPosts = (res.message.list || []).map(function (post) {
                    return _objectSpread(_objectSpread({}, post), {}, {
                      timeText: _this5.formatTime(post.created_at),
                      images: _this5.processPostImages(post.images),
                      viewCount: post.view_count || 0,
                      likeCount: post.like_count || 0,
                      commentCount: post.comment_count || 0,
                      isLiked: post.is_liked || false
                    });
                  });
                  if (_this5.page === 1) {
                    _this5.postList = newPosts;
                  } else {
                    (_this5$postList = _this5.postList).push.apply(_this5$postList, (0, _toConsumableArray2.default)(newPosts));
                  }
                  _this5.hasMore = newPosts.length >= _this5.pageSize;
                  console.log("\u2705 \u5173\u6CE8\u5E16\u5B50\u52A0\u8F7D\u6210\u529F - \u65B0\u589E: ".concat(newPosts.length, ", \u603B\u8BA1: ").concat(_this5.postList.length));
                } else {
                  console.error('âŒ åŠ è½½å¤±è´¥:', res.meta.msg);
                  _this5.showMessageToast(res.meta.msg || 'åŠ è½½å¤±è´¥');
                }
                _context4.next = 23;
                break;
              case 18:
                _context4.prev = 18;
                _context4.t0 = _context4["catch"](0);
                console.error('âŒ è¯·æ±‚å¼‚å¸¸:', _context4.t0);
                _this5.showMessageToast('ç½‘ç»œé”™è¯¯');
                _this5.hasMore = false;
              case 23:
                _context4.prev = 23;
                _this5.isLoading = false;
                _this5.isLoadingMore = false;
                return _context4.finish(23);
              case 27:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, null, [[0, 18, 23, 27]]);
      }))();
    },
    // âœ… ä¿®æ”¹ï¼šä¸Šæ‹‰åŠ è½½æ›´å¤š
    // âœ… ä¿®æ”¹ï¼šä¸Šæ‹‰åŠ è½½æ›´å¤š
    loadMore: function loadMore() {
      var _this6 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {
        var currentPage, categoryNames;
        return _regenerator.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!(_this6.isReachingBottom || _this6.isLoading || _this6.isLoadingMore)) {
                  _context5.next = 3;
                  break;
                }
                console.log('[loadMore] æ­£åœ¨åŠ è½½ä¸­ï¼Œè·³è¿‡');
                return _context5.abrupt("return");
              case 3:
                if (!(_this6.sortMode !== 'discover' && !_this6.hasMore)) {
                  _context5.next = 6;
                  break;
                }
                console.log('[loadMore] å·²æ— æ›´å¤šå†…å®¹');
                return _context5.abrupt("return");
              case 6:
                // ğŸ”¥ å…³é”®ä¿®æ”¹:åŒæ—¶è®¾ç½®ä¸¤ä¸ªloadingæ ‡å¿—
                _this6.isReachingBottom = true;
                _this6.isLoadingMore = true;

                // ğŸ”¥ æ–°å¢:è®°å½•å½“å‰é¡µç ,å¤±è´¥æ—¶å›æ»š
                currentPage = _this6.page;
                _context5.prev = 9;
                _this6.page++;
                console.log("[loadMore] \u5F00\u59CB\u52A0\u8F7D\u7B2C ".concat(_this6.page, " \u9875"));
                _context5.next = 14;
                return _this6.loadPostList();
              case 14:
                console.log("[loadMore] \u7B2C ".concat(_this6.page, " \u9875\u52A0\u8F7D\u5B8C\u6210"));

                // ğŸ”¥ å…³é”®ä¿®æ”¹:åªåœ¨"å‘ç°"æ¨¡å¼ä¸‹åˆ¤æ–­æ˜¯å¦éœ€è¦å¾ªç¯
                if (!(_this6.sortMode === 'discover')) {
                  _context5.next = 22;
                  break;
                }
                if (!(_this6._lastLoadCount === 0)) {
                  _context5.next = 22;
                  break;
                }
                categoryNames = {
                  'recommend': 'æ¨è',
                  'daily': 'æ—¥å¸¸',
                  'friend': 'è¯¢é—®',
                  'complaint': 'åæ§½'
                };
                console.log("\uD83D\uDD04 ".concat(categoryNames[_this6.categoryMode], " \u5DF2\u52A0\u8F7D\u5168\u90E8\u5185\u5BB9\uFF0C\u51C6\u5907\u5FAA\u73AF"));
                uni.showToast({
                  title: 'å·²åŠ è½½å…¨éƒ¨å†…å®¹ï¼Œé‡æ–°å¼€å§‹',
                  icon: 'none',
                  duration: 1500
                });

                // ğŸ”¥ çŸ­æš‚å»¶è¿Ÿåé‡ç½®å¹¶é‡æ–°åŠ è½½
                setTimeout(function () {
                  console.log('ğŸ”„ é‡ç½®æ’é™¤åˆ—è¡¨ï¼Œå¼€å§‹æ–°ä¸€è½®åŠ è½½');
                  _this6.excludePostIds = [];
                  _this6.page = 1;
                  _this6.hasMore = true;
                  _this6._lastLoadCount = undefined;

                  // ğŸ”¥ æ–°å¢:é‡ç½®loadingçŠ¶æ€åå†åŠ è½½
                  _this6.isReachingBottom = false;
                  _this6.isLoadingMore = false;
                  _this6.loadPostList();
                }, 500);
                return _context5.abrupt("return");
              case 22:
                _context5.next = 29;
                break;
              case 24:
                _context5.prev = 24;
                _context5.t0 = _context5["catch"](9);
                console.error('[loadMore] åŠ è½½å¤±è´¥:', _context5.t0);

                // ğŸ”¥ å…³é”®ä¿®æ”¹:å¤±è´¥æ—¶å›æ»šé¡µç 
                _this6.page = currentPage;
                uni.showToast({
                  title: 'åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•',
                  icon: 'none',
                  duration: 2000
                });
              case 29:
                _context5.prev = 29;
                // ğŸ”¥ å…³é”®ä¿®æ”¹:ç¡®ä¿loadingçŠ¶æ€è¢«é‡ç½®
                _this6.isReachingBottom = false;
                _this6.isLoadingMore = false;
                _this6.$nextTick(function () {
                  return _this6.flushPendingLoadMore();
                });
                console.log('[loadMore] loadingçŠ¶æ€å·²é‡ç½®');
                return _context5.finish(29);
              case 35:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, null, [[9, 24, 29, 35]]);
      }))();
    },
    refreshPostList: function refreshPostList() {
      var _this7 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {
        return _regenerator.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.prev = 0;
                console.log('ğŸ”„ ä¸‹æ‹‰åˆ·æ–°');

                // ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šå‘ç°æ¨¡å¼ä¸‹ä¿ç•™ excludePostIds
                if (_this7.sortMode === 'discover') {
                  console.log("\u2705 \u53D1\u73B0\u6A21\u5F0F\u5237\u65B0 - \u4FDD\u7559\u5DF2\u6392\u9664\u7684 ".concat(_this7.excludePostIds.length, " \u4E2A\u5E16\u5B50"));
                } else {
                  // æœ€æ–°/å…³æ³¨æ¨¡å¼ï¼šæ¸…ç©ºæ’é™¤åˆ—è¡¨
                  _this7.excludePostIds = [];
                  console.log('âœ… éå‘ç°æ¨¡å¼åˆ·æ–° - æ¸…ç©ºæ’é™¤åˆ—è¡¨');
                }

                // é‡ç½®é¡µç å’Œåˆ—è¡¨
                _this7.page = 1;
                _this7.postList = [];
                _this7.hasMore = true;
                _this7._lastLoadCount = undefined;
                _context7.next = 9;
                return _this7.loadPostList();
              case 9:
                if (!(_this7.sortMode === 'discover' && _this7.postList.length === 0 && _this7.excludePostIds.length > 0)) {
                  _context7.next = 14;
                  break;
                }
                console.log('âš ï¸ åˆ·æ–°åæ— æ–°å†…å®¹ï¼Œæ¸…ç©ºæ’é™¤åˆ—è¡¨å¹¶é‡æ–°åŠ è½½');
                uni.showToast({
                  title: 'å·²åŠ è½½å…¨éƒ¨å†…å®¹ï¼Œé‡æ–°å¼€å§‹',
                  icon: 'none',
                  duration: 1500
                });

                // å»¶è¿Ÿåæ¸…ç©ºå¹¶é‡æ–°åŠ è½½
                setTimeout( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {
                  return _regenerator.default.wrap(function _callee6$(_context6) {
                    while (1) {
                      switch (_context6.prev = _context6.next) {
                        case 0:
                          _this7.excludePostIds = [];
                          _this7.page = 1;
                          _this7.hasMore = true;
                          _this7._lastLoadCount = undefined;
                          _context6.next = 6;
                          return _this7.loadPostList();
                        case 6:
                          uni.stopPullDownRefresh();
                        case 7:
                        case "end":
                          return _context6.stop();
                      }
                    }
                  }, _callee6);
                })), 500);
                return _context7.abrupt("return");
              case 14:
                // uni.stopPullDownRefresh()
                _this7.showMessageToast('åˆ·æ–°æˆåŠŸ', 1500);
                _context7.next = 21;
                break;
              case 17:
                _context7.prev = 17;
                _context7.t0 = _context7["catch"](0);
                console.error('[refreshPostList] åˆ·æ–°å¤±è´¥:', _context7.t0);
                // uni.stopPullDownRefresh()
                _this7.showMessageToast('åˆ·æ–°å¤±è´¥');
              case 21:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, null, [[0, 17]]);
      }))();
    },
    // âœ… ä¿®æ”¹ï¼šé‡ç½®å¹¶é‡æ–°åŠ è½½
    resetAndReload: function resetAndReload() {
      this.page = 1;
      this.postList = [];

      // ğŸ”¥ æ–°å¢ï¼šåªåœ¨åˆ‡æ¢æ’åºæ¨¡å¼æ—¶æ‰é‡ç½® excludePostIds
      // åˆ†ç±»åˆ‡æ¢ä¸é‡ç½®ï¼Œé¿å…é‡å¤
      if (this.sortMode === 'discover' && this.categoryMode === 'recommend') {
        // æ¨èæ¨¡å¼ï¼šä¿ç•™ excludePostIds
        console.log('ğŸ”„ åˆ·æ–°æ¨èåˆ—è¡¨ï¼Œä¿ç•™å·²æ’é™¤ID');
      } else {
        // å…¶ä»–æ¨¡å¼ï¼šé‡ç½® excludePostIds
        this.excludePostIds = [];
        console.log('ğŸ”„ åˆ‡æ¢æ¨¡å¼ï¼Œé‡ç½®å·²æ’é™¤ID');
      }
      this.hasMore = true;
      this.loadPostList();
    },
    // âœ… è·³è½¬åˆ°å¸–å­è¯¦æƒ…
    gotoPostDetail: function gotoPostDetail(post) {
      this.updatepreference(post.properties || post.category);
      uni.navigateTo({
        url: "/subpkg/topic-detail/topic-detail?id=".concat(post.id)
      });
    },
    // âœ… è·³è½¬åˆ°ç”¨æˆ·ä¸»é¡µ
    gotoUserProfile: function gotoUserProfile(post) {
      var _this8 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {
        var payload, encodedPayload;
        return _regenerator.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (_this8.openid) {
                  _context8.next = 3;
                  break;
                }
                // å¼¹å‡ºç™»å½•æç¤ºæ¡†
                uni.showModal({
                  title: 'æç¤º',
                  content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',
                  cancelText: 'å–æ¶ˆ',
                  confirmText: 'ç™»å½•',
                  success: function success(res) {
                    if (res.confirm) {
                      // ç”¨æˆ·ç‚¹å‡»äº†"ç™»å½•"æŒ‰é’®
                      uni.switchTab({
                        url: '/pages/my/my'
                      });
                    }
                    // ç”¨æˆ·ç‚¹å‡»äº†"å–æ¶ˆ"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ
                  }
                });
                return _context8.abrupt("return");
              case 3:
                if (post) {
                  _context8.next = 5;
                  break;
                }
                return _context8.abrupt("return");
              case 5:
                if (!(post.user_openid === _this8.openid)) {
                  _context8.next = 8;
                  break;
                }
                uni.navigateTo({
                  url: '/subpkg/profile/profile'
                });
                return _context8.abrupt("return");
              case 8:
                // è·³è½¬åˆ°å…¶ä»–ç”¨æˆ·ä¸»é¡µ
                payload = {
                  openid: post.user_openid,
                  nickname: post.nickname,
                  avatarUrl: post.avatar
                };
                encodedPayload = encodeURIComponent(JSON.stringify(payload));
                uni.navigateTo({
                  url: "/subpkg/profile/profile?publisher=".concat(encodedPayload)
                });
              case 11:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8);
      }))();
    },
    // âœ… ç‚¹èµ/å–æ¶ˆç‚¹èµ
    toggleLike: function toggleLike(post) {
      var _this9 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {
        var _yield$uni$$http$post, res, index;
        return _regenerator.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.prev = 0;
                if (_this9.openid) {
                  _context9.next = 4;
                  break;
                }
                // å¼¹å‡ºç™»å½•æç¤ºæ¡†
                uni.showModal({
                  title: 'æç¤º',
                  content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',
                  cancelText: 'å–æ¶ˆ',
                  confirmText: 'ç™»å½•',
                  success: function success(res) {
                    if (res.confirm) {
                      // ç”¨æˆ·ç‚¹å‡»äº†"ç™»å½•"æŒ‰é’®
                      uni.switchTab({
                        url: '/pages/my/my'
                      });
                    }
                    // ç”¨æˆ·ç‚¹å‡»äº†"å–æ¶ˆ"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ
                  }
                });
                return _context9.abrupt("return");
              case 4:
                _context9.next = 6;
                return uni.$http.post('/posts/like', {
                  post_id: post.id,
                  openid: _this9.openid,
                  is_like: !post.isLiked
                });
              case 6:
                _yield$uni$$http$post = _context9.sent;
                res = _yield$uni$$http$post.data;
                if (res.meta.status === 200) {
                  index = _this9.postList.findIndex(function (p) {
                    return p.id === post.id;
                  });
                  if (index !== -1) {
                    _this9.postList[index].isLiked = !_this9.postList[index].isLiked;
                    _this9.postList[index].likeCount = res.message.like_count || 0;
                    _this9.$set(_this9.postList, index, _objectSpread({}, _this9.postList[index]));
                  }
                }
                _context9.next = 15;
                break;
              case 11:
                _context9.prev = 11;
                _context9.t0 = _context9["catch"](0);
                console.error('ç‚¹èµå¤±è´¥:', _context9.t0);
                _this9.showMessageToast('æ“ä½œå¤±è´¥');
              case 15:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, null, [[0, 11]]);
      }))();
    },
    // âœ… è½®æ’­å›¾ç‚¹å‡»
    onBannerClick: function onBannerClick(banner) {
      switch (banner.type) {
        case 'page':
          uni.navigateTo({
            url: banner.url
          });
          break;
        case 'web':
          this.copyLinkAndNotify(banner.url, banner.title);
          break;
        default:
          console.warn('æœªçŸ¥çš„è·³è½¬ç±»å‹:', banner.type);
      }
    },
    // å¤„ç†å›¾ç‰‡æ•°æ®
    processPostImages: function processPostImages(images) {
      if (!images) return [];
      if (typeof images === 'string') {
        try {
          return JSON.parse(images);
        } catch (e) {
          return [];
        }
      }
      return Array.isArray(images) ? images : [];
    },
    // å¤åˆ¶é“¾æ¥å¹¶æç¤º
    copyLinkAndNotify: function copyLinkAndNotify(url, title) {
      uni.setClipboardData({
        data: url,
        success: function success() {
          uni.showToast({
            title: 'é“¾æ¥å·²å¤åˆ¶ï¼Œè¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€',
            icon: 'none',
            duration: 2000
          });
        }
      });
    },
    // æ ¼å¼åŒ–æ—¶é—´
    formatTime: function formatTime(timestamp) {
      var date = new Date(timestamp);
      var now = new Date();
      var diff = now - date;
      if (diff < 3600000) {
        return Math.floor(diff / 60000) + 'åˆ†é’Ÿå‰';
      } else if (diff < 86400000) {
        return Math.floor(diff / 3600000) + 'å°æ—¶å‰';
      } else if (diff < 2592000000) {
        return Math.floor(diff / 86400000) + 'å¤©å‰';
      } else {
        return "".concat(date.getMonth() + 1, "-").concat(date.getDate());
      }
    },
    // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
    showMessageToast: function showMessageToast(text) {
      var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2000;
      uni.showToast({
        title: text,
        icon: 'none',
        duration: duration
      });
    },
    // è·å–ç©ºçŠ¶æ€æ–‡æœ¬
    getEmptyText: function getEmptyText() {
      if (this.sortMode === 'follow') {
        return 'æš‚æ— å…³æ³¨ç”¨æˆ·çš„åŠ¨æ€\nå¿«å»å…³æ³¨æ„Ÿå…´è¶£çš„äººå§~';
      }
      if (this.sortMode === 'latest') {
        return 'æš‚æ— æœ€æ–°å†…å®¹';
      }
      var categoryNames = {
        'recommend': 'æ¨è',
        'daily': 'æ—¥å¸¸',
        'friend': 'è¯¢é—®',
        'complaint': 'åæ§½'
      };
      return "\u6682\u65E0".concat(categoryNames[this.categoryMode], "\u5185\u5BB9");
    },
    // âœ… ç›‘å¬é¡µé¢æ»šåŠ¨
    onPageScroll: function onPageScroll(e) {
      var scrollTop = e.scrollTop;
      this.scrollTop = scrollTop;

      // å°† rpx è½¬æ¢ä¸º pxï¼ˆå‡è®¾å±å¹•å®½åº¦ä¸º 375pxï¼‰
      var bannerHeightPx = uni.upx2px(this.bannerHeight);
      if (scrollTop >= bannerHeightPx) {
        // æ»šåŠ¨è¶…è¿‡è½®æ’­å›¾é«˜åº¦ï¼Œå›ºå®šå¯¼èˆªæ 
        if (!this.isNavFixed) {
          this.isNavFixed = true;
          this.navTop = 0;
        }
      } else {
        // æœªè¶…è¿‡è½®æ’­å›¾é«˜åº¦ï¼Œå¯¼èˆªæ è·Ÿéšæ»šåŠ¨
        this.isNavFixed = false;
        this.navTop = 0;
      }
    }
  })
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 47:
/*!*********************************************************************************************************************!*\
  !*** D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?vue&type=style&index=0&lang=scss& ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=scss& */ 48);
/* harmony import */ var _plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 48:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?vue&type=style&index=0&lang=scss& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[41,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/home/home.js.map