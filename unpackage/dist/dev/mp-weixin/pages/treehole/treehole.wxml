<view class="index-page data-v-0d7ebf74"><view class="banner-section data-v-0d7ebf74"><swiper class="banner-swiper data-v-0d7ebf74" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}" circular="{{true}}" indicator-dots="{{true}}" indicator-color="rgba(255, 255, 255, 0.5)" indicator-active-color="#ffffff"><block wx:for="{{bannerList}}" wx:for-item="banner" wx:for-index="index" wx:key="index"><swiper-item class="data-v-0d7ebf74"><image class="banner-image data-v-0d7ebf74" src="{{banner.image}}" mode="aspectFill" data-event-opts="{{[['tap',[['onBannerClick',['$0'],[[['bannerList','',index]]]]]]]}}" bindtap="__e"></image></swiper-item></block></swiper></view><view class="community-page data-v-0d7ebf74"><view class="nav-bar data-v-0d7ebf74"><view class="nav-left data-v-0d7ebf74"><view data-event-opts="{{[['tap',[['openSideMenu',['$event']]]]]}}" class="menu-btn data-v-0d7ebf74" bindtap="__e"><text class="menu-icon data-v-0d7ebf74">â˜°</text></view></view><view class="nav-center data-v-0d7ebf74"><view data-event-opts="{{[['tap',[['selectSortMode',['hottest']]]]]}}" class="{{['sort-item','data-v-0d7ebf74',(sortMode==='hottest')?'active':'']}}" bindtap="__e"> å‘ç° </view><view class="sort-divider data-v-0d7ebf74">|</view><view data-event-opts="{{[['tap',[['selectSortMode',['follow']]]]]}}" class="{{['sort-item','data-v-0d7ebf74',(sortMode==='follow')?'active':'']}}" bindtap="__e"> å…³æ³¨ </view><view class="sort-divider data-v-0d7ebf74">|</view><view data-event-opts="{{[['tap',[['selectSortMode',['latest']]]]]}}" class="{{['sort-item','data-v-0d7ebf74',(sortMode==='latest')?'active':'']}}" bindtap="__e"> æœ€æ–° </view></view><view class="nav-right data-v-0d7ebf74"><view data-event-opts="{{[['tap',[['gotoSearch',['$event']]]]]}}" class="search-icon-btn data-v-0d7ebf74" bindtap="__e"><image class="nav-bar-icon data-v-0d7ebf74" src="{{iconSearchUrl}}" mode="aspectFit"></image></view></view></view><view data-event-opts="{{[['tap',[['closeSideMenu',['$event']]]]]}}" class="{{['side-menu-overlay','data-v-0d7ebf74',(showSideMenu)?'show':'']}}" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="{{['side-menu-drawer','data-v-0d7ebf74',(showSideMenu)?'show':'']}}" catchtap="__e"><view class="menu-header data-v-0d7ebf74"><text class="menu-title data-v-0d7ebf74">æˆ‘çš„èœå•</text><view data-event-opts="{{[['tap',[['closeSideMenu',['$event']]]]]}}" class="close-btn data-v-0d7ebf74" bindtap="__e"><text class="close-icon data-v-0d7ebf74">âœ•</text></view></view><scroll-view class="menu-list data-v-0d7ebf74" scroll-y="{{true}}"><block wx:for="{{menuItems}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['handleMenuClick',['$0'],[[['menuItems','',index]]]]]]]}}" class="menu-item data-v-0d7ebf74" bindtap="__e"><text class="menu-item-icon data-v-0d7ebf74">{{item.icon}}</text><text class="menu-item-text data-v-0d7ebf74">{{item.name}}</text><text class="menu-arrow data-v-0d7ebf74">â€º</text></view></block></scroll-view></view></view><block wx:if="{{sortMode==='hottest'}}"><view class="{{['category-bar','data-v-0d7ebf74',(isCategoryHidden)?'category-hidden':'']}}" style="{{'transform:'+(categoryTransform)+';'}}"><view data-event-opts="{{[['tap',[['selectCategory',['recommend']]]]]}}" class="{{['category-item','data-v-0d7ebf74',(categoryMode==='recommend')?'active':'']}}" bindtap="__e"><text class="category-text data-v-0d7ebf74">æ¨è</text></view><view data-event-opts="{{[['tap',[['selectCategory',['daily']]]]]}}" class="{{['category-item','data-v-0d7ebf74',(categoryMode==='daily')?'active':'']}}" bindtap="__e"><text class="category-text data-v-0d7ebf74">æ—¥å¸¸</text></view><view data-event-opts="{{[['tap',[['selectCategory',['friend']]]]]}}" class="{{['category-item','data-v-0d7ebf74',(categoryMode==='friend')?'active':'']}}" bindtap="__e"><text class="category-text data-v-0d7ebf74">äº¤å‹</text></view><view data-event-opts="{{[['tap',[['selectCategory',['complaint']]]]]}}" class="{{['category-item','data-v-0d7ebf74',(categoryMode==='complaint')?'active':'']}}" bindtap="__e"><text class="category-text data-v-0d7ebf74">åæ§½</text></view><view data-event-opts="{{[['tap',[['selectCategory',['goods']]]]]}}" class="{{['category-item','data-v-0d7ebf74',(categoryMode==='goods')?'active':'']}}" bindtap="__e"><text class="category-text data-v-0d7ebf74">å¥½ç‰©</text></view></view></block><block wx:if="{{showFilterMenu}}"><view data-event-opts="{{[['tap',[['closeFilterMenu',['$event']]]]]}}" class="filter-menu data-v-0d7ebf74" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="filter-content data-v-0d7ebf74" catchtap="__e"><view data-event-opts="{{[['tap',[['selectFilterMode',['all']]]]]}}" class="{{['filter-option','data-v-0d7ebf74',(filterMode==='all')?'active':'']}}" bindtap="__e"><image class="option-icon-img data-v-0d7ebf74" src="{{iconMenuAllUrl}}" mode="aspectFit"></image><view class="option-info data-v-0d7ebf74"><text class="option-title data-v-0d7ebf74">å…¨éƒ¨</text><text class="option-desc data-v-0d7ebf74">æ˜¾ç¤ºæ‰€æœ‰å¯è§å¸–å­</text></view><block wx:if="{{filterMode==='all'}}"><text class="check-icon data-v-0d7ebf74">âœ“</text></block></view><view data-event-opts="{{[['tap',[['selectFilterMode',['department']]]]]}}" class="{{['filter-option','data-v-0d7ebf74',(filterMode==='department')?'active':'']}}" bindtap="__e"><image class="option-icon-img data-v-0d7ebf74" src="{{iconFilterDeptUrl}}" mode="aspectFit"></image><view class="option-info data-v-0d7ebf74"><text class="option-title data-v-0d7ebf74">æœ¬é™¢ç³»</text><text class="option-desc data-v-0d7ebf74">ä»…æ˜¾ç¤ºå‘å¸ƒåˆ°æœ¬é™¢ç³»çš„å¸–å­</text></view><block wx:if="{{filterMode==='department'}}"><text class="check-icon data-v-0d7ebf74">âœ“</text></block></view></view></view></block><block wx:if="{{showMessage}}"><view class="message-area data-v-0d7ebf74"><text class="message-text data-v-0d7ebf74">{{messageText}}</text></view></block><block wx:if="{{sortMode==='topic'}}"><view class="waterfall-container data-v-0d7ebf74"><view class="waterfall-column data-v-0d7ebf74"><block wx:for="{{$root.l0}}" wx:for-item="post" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['gotoPostDetail',['$0'],[[['leftColumnPosts','id',post.$orig.id]]]]]]]}}" class="waterfall-item data-v-0d7ebf74" bindtap="__e"><view class="waterfall-card data-v-0d7ebf74"><block wx:if="{{post.g0}}"><view class="card-image-wrapper data-v-0d7ebf74"><image class="card-image data-v-0d7ebf74" src="{{post.$orig.images[0]}}" mode="widthFix" data-event-opts="{{[['load',[['onImageLoad',['$0','$event'],[[['leftColumnPosts','id',post.$orig.id]]]]]]]}}" bindload="__e"></image></view></block><block wx:if="{{post.$orig.content}}"><view class="card-content data-v-0d7ebf74"><text class="content-text data-v-0d7ebf74">{{post.$orig.content}}</text></view></block><view data-event-opts="{{[['tap',[['onAvatarClick',['$0'],[[['leftColumnPosts','id',post.$orig.id]]]]]]]}}" class="card-header data-v-0d7ebf74" catchtap="__e"><image class="card-avatar data-v-0d7ebf74" src="{{post.$orig.avatar||'/static/default-avatar.png'}}" mode="aspectFill"></image><text class="card-nickname data-v-0d7ebf74">{{post.$orig.nickname}}</text></view><view class="card-footer data-v-0d7ebf74"><view class="footer-info data-v-0d7ebf74"><text class="card-time data-v-0d7ebf74">{{post.$orig.timeText}}</text></view><view class="footer-actions data-v-0d7ebf74"><view data-event-opts="{{[['tap',[['toggleLike',['$0','$1'],[[['leftColumnPosts','id',post.$orig.id]],[['leftColumnPosts','id',post.$orig.id,'id']]]]]]]}}" class="action-item data-v-0d7ebf74" catchtap="__e"><image class="action-icon-img waterfall-icon data-v-0d7ebf74" src="{{post.$orig.isLiked?iconLikedUrl:iconLikeUrl}}" mode="aspectFit"></image><text class="action-count data-v-0d7ebf74">{{post.$orig.likeCount}}</text></view><view data-event-opts="{{[['tap',[['gotoComments',['$0'],[[['leftColumnPosts','id',post.$orig.id]]]]]]]}}" class="action-item data-v-0d7ebf74" catchtap="__e"><image class="action-icon-img waterfall-icon data-v-0d7ebf74" src="{{iconCommentUrl}}" mode="aspectFit"></image><text class="action-count data-v-0d7ebf74">{{post.$orig.commentCount}}</text></view></view></view></view></view></block></view><view class="waterfall-column data-v-0d7ebf74"><block wx:for="{{$root.l1}}" wx:for-item="post" wx:for-index="__i1__" wx:key="id"><view data-event-opts="{{[['tap',[['gotoPostDetail',['$0'],[[['rightColumnPosts','id',post.$orig.id]]]]]]]}}" class="waterfall-item data-v-0d7ebf74" bindtap="__e"><view class="waterfall-card data-v-0d7ebf74"><block wx:if="{{post.g1}}"><view class="card-image-wrapper data-v-0d7ebf74"><image class="card-image data-v-0d7ebf74" src="{{post.$orig.images[0]}}" mode="widthFix" data-event-opts="{{[['load',[['onImageLoad',['$0','$event'],[[['rightColumnPosts','id',post.$orig.id]]]]]]]}}" bindload="__e"></image></view></block><block wx:if="{{post.$orig.content}}"><view class="card-content data-v-0d7ebf74"><text class="content-text data-v-0d7ebf74">{{post.$orig.content}}</text></view></block><view data-event-opts="{{[['tap',[['onAvatarClick',['$0'],[[['rightColumnPosts','id',post.$orig.id]]]]]]]}}" class="card-header data-v-0d7ebf74" catchtap="__e"><image class="card-avatar data-v-0d7ebf74" src="{{post.$orig.avatar||'/static/default-avatar.png'}}" mode="aspectFill"></image><text class="card-nickname data-v-0d7ebf74">{{post.$orig.nickname}}</text></view><view class="card-footer data-v-0d7ebf74"><view class="footer-info data-v-0d7ebf74"><text class="card-time data-v-0d7ebf74">{{post.$orig.timeText}}</text></view><view class="footer-actions data-v-0d7ebf74"><view data-event-opts="{{[['tap',[['toggleLike',['$0','$1'],[[['rightColumnPosts','id',post.$orig.id]],[['rightColumnPosts','id',post.$orig.id,'id']]]]]]]}}" class="action-item data-v-0d7ebf74" catchtap="__e"><image class="action-icon-img list-icon data-v-0d7ebf74" src="{{post.$orig.isLiked?iconLikedUrl:iconLikeUrl}}" mode="aspectFit"></image><text class="action-count data-v-0d7ebf74">{{post.$orig.likeCount}}</text></view><view data-event-opts="{{[['tap',[['gotoComments',['$0'],[[['rightColumnPosts','id',post.$orig.id]]]]]]]}}" class="action-item data-v-0d7ebf74" catchtap="__e"><image class="action-icon-img list-icon data-v-0d7ebf74" src="{{iconCommentUrl}}" mode="aspectFit"></image><text class="action-count data-v-0d7ebf74">{{post.$orig.commentCount}}</text></view></view></view></view></view></block></view></view></block><block wx:else><view class="post-list data-v-0d7ebf74"><block wx:for="{{$root.l3}}" wx:for-item="post" wx:for-index="__i2__" wx:key="id"><view data-event-opts="{{[['tap',[['gotoPostDetail',['$0'],[[['postList','id',post.$orig.id]]]]]]]}}" class="post-item data-v-0d7ebf74" bindtap="__e"><view class="post-header data-v-0d7ebf74"><view class="user-info data-v-0d7ebf74"><image class="avatar data-v-0d7ebf74" src="{{post.$orig.avatar||'/static/default-avatar.png'}}" mode="aspectFill"></image><text class="nickname data-v-0d7ebf74">{{post.$orig.nickname}}</text></view><text class="post-time data-v-0d7ebf74">{{post.$orig.timeText}}</text></view><view class="post-content data-v-0d7ebf74"><text class="content-text data-v-0d7ebf74">{{post.$orig.content}}</text></view><block wx:if="{{post.g2}}"><view class="post-images data-v-0d7ebf74"><block wx:for="{{post.l2}}" wx:for-item="img" wx:for-index="imgIndex" wx:key="imgIndex"><image class="{{['post-image','data-v-0d7ebf74',(img.g3===1)?'single-image':'',(img.g4===2)?'double-image':'',(img.g5>=3)?'triple-image':'']}}" src="{{img.$orig}}" mode="{{img.g6===1?'widthFix':'aspectFill'}}" data-event-opts="{{[['tap',[['previewImage',['$0',imgIndex],[[['postList','id',post.$orig.id,'images']]]]]]]}}" catchtap="__e"></image></block></view></block><view class="post-footer data-v-0d7ebf74"><view class="footer-left data-v-0d7ebf74"><text class="view-count data-v-0d7ebf74">{{post.$orig.viewCount+"äººæµè§ˆ"}}</text></view><view class="footer-right data-v-0d7ebf74"><block wx:if="{{post.$orig.contactInfo&&post.$orig.user_openid!==openid}}"><view data-event-opts="{{[['tap',[['copyContact',['$0'],[[['postList','id',post.$orig.id]]]]]]]}}" class="action-item contact data-v-0d7ebf74" catchtap="__e"><text class="contact-icon data-v-0d7ebf74">ğŸ“</text><text class="action-text data-v-0d7ebf74">è”ç³»TA</text></view></block><block wx:if="{{post.$orig.relatedGoodsId}}"><view data-event-opts="{{[['tap',[['gotoGoodsDetail',['$0'],[[['postList','id',post.$orig.id,'relatedGoodsId']]]]]]]}}" class="action-item goods data-v-0d7ebf74" catchtap="__e"><text class="goods-icon data-v-0d7ebf74">ğŸ›ï¸</text><text class="action-text data-v-0d7ebf74">æŸ¥çœ‹å•†å“</text></view></block><view data-event-opts="{{[['tap',[['toggleLike',['$0','$1'],[[['postList','id',post.$orig.id]],[['postList','id',post.$orig.id,'id']]]]]]]}}" class="action-item data-v-0d7ebf74" catchtap="__e"><image class="action-icon-img list-icon data-v-0d7ebf74" src="{{post.$orig.isLiked?iconLikedUrl:iconLikeUrl}}" mode="aspectFit"></image><text class="action-count data-v-0d7ebf74">{{post.$orig.likeCount}}</text></view><view data-event-opts="{{[['tap',[['gotoComments',['$0'],[[['postList','id',post.$orig.id]]]]]]]}}" class="action-item data-v-0d7ebf74" catchtap="__e"><image class="action-icon-img list-icon data-v-0d7ebf74" src="{{iconCommentUrl}}" mode="aspectFit"></image><text class="action-count data-v-0d7ebf74">{{post.$orig.commentCount}}</text></view></view></view></view></block><block wx:if="{{showLoadMore}}"><view class="load-more data-v-0d7ebf74"><view class="load-more-content data-v-0d7ebf74"><block wx:if="{{isLoadingMore}}"><text class="load-text data-v-0d7ebf74">æ­£åœ¨åŠ è½½æ›´å¤š...</text></block><block wx:else><block wx:if="{{hasMore}}"><text class="load-text data-v-0d7ebf74">ä¸Šæ‹‰åŠ è½½æ›´å¤š</text></block><block wx:else><text class="no-more-text data-v-0d7ebf74">æ²¡æœ‰æ›´å¤šäº†</text></block></block></view></view></block><block wx:if="{{$root.g7}}"><view class="empty-state data-v-0d7ebf74"><text class="empty-icon data-v-0d7ebf74">ğŸ“­</text><text class="empty-text data-v-0d7ebf74">{{filterMode==='department'?'æœ¬é™¢ç³»æš‚æ— å¸–å­':'æš‚æ— å¸–å­'}}</text></view></block></view></block></view></view>