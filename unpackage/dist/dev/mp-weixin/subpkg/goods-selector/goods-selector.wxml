<view class="goods-selector-page"><view class="header"><text class="header-title">选择商品</text><text class="header-subtitle">请选择要关联的商品</text></view><block wx:if="{{$root.g0>0}}"><view class="goods-list"><block wx:for="{{$root.l0}}" wx:for-item="goods" wx:for-index="index" wx:key="goods_id"><view data-event-opts="{{[['tap',[['selectGoods',['$0'],[[['goodsList','goods_id',goods.$orig.goods_id]]]]]]]}}" class="{{['goods-item',(selectedGoodsId===goods.$orig.goods_id)?'selected':'']}}" bindtap="__e"><image class="goods-image" src="{{goods.$orig.goods_small_logo||goods.$orig.goods_big_logo}}" mode="aspectFill"></image><view class="goods-info"><text class="goods-name">{{goods.$orig.goods_name}}</text><text class="goods-price">{{"¥"+goods.$orig.goods_price}}</text><view class="goods-meta"><text class="{{['goods-status',(goods.$orig.goods_status===1)?'on-sale':'',(goods.$orig.goods_status===2)?'sold-out':'',(goods.$orig.goods_status===3)?'off-shelf':'']}}">{{''+goods.m0+''}}</text><text class="goods-time">{{goods.m1}}</text></view></view><block wx:if="{{selectedGoodsId===goods.$orig.goods_id}}"><view class="select-indicator"><text class="check-icon">✓</text></view></block></view></block></view></block><block wx:else><block wx:if="{{!isLoading}}"><view class="empty-state"><text class="empty-icon">📦</text><text class="empty-text">暂无在售商品</text><text class="empty-desc">请先发布商品后再关联</text></view></block></block><block wx:if="{{isLoading}}"><view class="loading-state"><text class="loading-text">加载中...</text></view></block><view class="bottom-buttons"><view data-event-opts="{{[['tap',[['cancel',['$event']]]]]}}" class="btn cancel-btn" bindtap="__e"><text>取消</text></view><view data-event-opts="{{[['tap',[['confirm',['$event']]]]]}}" class="{{['btn','confirm-btn',(!selectedGoodsId)?'disabled':'']}}" bindtap="__e"><text>确定</text></view></view></view>