<view class="history-page"><view class="header"><text class="header-title">历史浏览</text><block wx:if="{{activeTab===0}}"><text data-event-opts="{{[['tap',[['clearHistory',['$event']]]]]}}" class="clear-btn" bindtap="__e">清空</text></block></view><view class="tabs-container"><block wx:for="{{tabsWithCount}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchTab',[index]]]]]}}" class="{{['tab-item',(activeTab===index)?'active':'']}}" bindtap="__e"><view class="tab-content"><text class="tab-name">{{tab.name}}</text><text class="tab-count">{{tab.count}}</text></view><block wx:if="{{activeTab===index}}"><view class="tab-indicator"></view></block></view></block></view><scroll-view class="goods-list" scroll-y="{{true}}"><view class="goods-grid"><block wx:for="{{currentGoodsList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="goods_id"><view data-event-opts="{{[['tap',[['gotoDetail',['$0'],[[['currentGoodsList','goods_id',item.goods_id,'goods_id']]]]]]]}}" class="goods-item" bindtap="__e"><image class="goods-image" src="{{item.goods_big_logo}}" mode="aspectFill"></image><view class="goods-price"><text class="price-symbol">¥</text><text class="price-number">{{item.goods_price}}</text></view></view></block></view><block wx:if="{{$root.g0===0}}"><view class="empty-state"><text class="empty-text">{{"暂无"+tabs[activeTab].name+"记录"}}</text></view></block></scroll-view></view>