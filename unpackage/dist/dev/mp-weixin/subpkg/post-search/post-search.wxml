<view class="search-page"><view class="search-header"><view class="search-input-container"><text class="search-icon">ğŸ”</text><input class="search-input" placeholder="æœç´¢å¸–å­å†…å®¹..." confirm-type="search" focus="{{true}}" data-event-opts="{{[['confirm',[['performSearch',['$event']]]],['input',[['__set_model',['','searchKeyword','$event',[]]],['onInputChange',['$event']]]]]}}" value="{{searchKeyword}}" bindconfirm="__e" bindinput="__e"/><block wx:if="{{searchKeyword}}"><text data-event-opts="{{[['tap',[['clearInput',['$event']]]]]}}" class="clear-btn" bindtap="__e">âœ•</text></block></view><text data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="cancel-btn" bindtap="__e">å–æ¶ˆ</text></view><block wx:if="{{$root.g0}}"><view class="search-suggestions"><block wx:for="{{suggestions}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectSuggestion',['$0'],[[['suggestions','',index]]]]]]]}}" class="suggestion-item" bindtap="__e"><text class="suggestion-icon">ğŸ”</text><text class="suggestion-text">{{item}}</text></view></block></view></block><block wx:if="{{$root.g1}}"><view class="search-history"><view class="history-header"><text class="history-title">æœç´¢å†å²</text><text data-event-opts="{{[['tap',[['clearAllHistory',['$event']]]]]}}" class="clear-all-btn" bindtap="__e">æ¸…ç©º</text></view><view class="history-tags"><block wx:for="{{searchHistory}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectHistory',['$0'],[[['searchHistory','',index]]]]]]]}}" class="history-tag" bindtap="__e"><text class="history-text">{{item}}</text><text data-event-opts="{{[['tap',[['removeHistory',[index]]]]]}}" class="remove-btn" catchtap="__e">âœ•</text></view></block></view></view></block><block wx:if="{{$root.g2}}"><view class="hot-search"><view class="hot-header"><text class="hot-title">ğŸ”¥ çƒ­é—¨æœç´¢</text></view><view class="hot-tags"><block wx:for="{{hotSearchList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text data-event-opts="{{[['tap',[['selectHotSearch',['$0'],[[['hotSearchList','',index]]]]]]]}}" class="hot-tag" bindtap="__e">{{''+item+''}}</text></block></view></view></block><block wx:if="{{showResults}}"><view class="search-results"><view class="results-header"><text class="results-title">{{"æœç´¢ç»“æœ ("+searchResultTotal+")"}}</text></view><scroll-view class="results-list" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['loadMoreResults',['$event']]]]]}}" bindscrolltolower="__e"><block wx:for="{{$root.l1}}" wx:for-item="post" wx:for-index="index" wx:key="id"><view data-event-opts="{{[['tap',[['gotoPostDetail',['$0'],[[['searchResults','id',post.$orig.id]]]]]]]}}" class="post-item" bindtap="__e"><view class="post-header"><view class="user-info"><image class="avatar" src="{{post.$orig.avatar||'/static/default-avatar.png'}}" mode="aspectFill"></image><text class="nickname">{{post.$orig.nickname}}</text></view><text class="post-time">{{post.m0}}</text></view><view class="post-content"><rich-text class="content-text" nodes="{{post.m1}}"></rich-text></view><block wx:if="{{post.g3}}"><view class="post-images"><block wx:for="{{post.l0}}" wx:for-item="img" wx:for-index="imgIndex" wx:key="imgIndex"><image class="post-image" src="{{img}}" mode="aspectFill"></image></block><block wx:if="{{post.g4>3}}"><view class="more-images"><text>{{"+"+(post.g5-3)}}</text></view></block></view></block><view class="post-footer"><view class="footer-left"><text class="view-count">{{post.$orig.view_count+"äººæµè§ˆ"}}</text></view><view class="footer-right"><view class="action-item"><text class="iconfont like-icon">ğŸ‘</text><text class="action-count">{{post.$orig.like_count}}</text></view><view class="action-item"><text class="iconfont comment-icon">ğŸ’¬</text><text class="action-count">{{post.$orig.comment_count}}</text></view></view></view></view></block><block wx:if="{{$root.g6}}"><view class="load-more"><text class="load-text">åŠ è½½ä¸­...</text></view></block><block wx:else><block wx:if="{{$root.g7>0}}"><view class="no-more"><text class="no-more-text">æ²¡æœ‰æ›´å¤šäº†</text></view></block></block><block wx:if="{{$root.g8}}"><view class="empty-results"><text class="empty-icon">ğŸ”</text><text class="empty-text">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å†…å®¹</text><text class="empty-tip">è¯•è¯•å…¶ä»–å…³é”®è¯å§</text></view></block></scroll-view></view></block></view>