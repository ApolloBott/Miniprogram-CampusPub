{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/treehole/treehole.vue?abbc","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/treehole/treehole.vue?1f6c","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/treehole/treehole.vue?f241","uni-app:///pages/treehole/treehole.vue","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/treehole/treehole.vue?3184","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/treehole/treehole.vue?4d42"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","sortMode","filterMode","categoryMode","showFilterMenu","showMessage","messageText","postList","excludePostIds","page","pageSize","isLoading","isLoadingMore","hasMore","leftColumnHeight","rightColumnHeight","imageHeights","iconLikeUrl","iconLikedUrl","iconCommentUrl","iconFilterAllUrl","iconFilterDeptUrl","iconSearchUrl","iconMenuAllUrl","isNavHidden","navTransform","isCategoryHidden","categoryTransform","lastScrollTop","categoryScrollThreshold","scrollDirection","tabBarInstance","redirectTimer","isRedirecting","bannerList","menuItems","name","icon","route","showSideMenu","onShow","selected","clearTimeout","console","uni","url","onHide","onPullDownRefresh","onReachBottom","onLoad","onReady","onPageScroll","computed","followingIds","leftColumnPosts","left","leftHeight","rightHeight","rightColumnPosts","right","showLoadMore","methods","openSideMenu","closeSideMenu","handleMenuClick","setTimeout","fail","title","duration","onBannerClick","loadBannerList","res","id","image","type","boardId","updatePostLikeStatus","isLiked","likeCount","selectCategory","setTabBarIndex","tabBar","trySetTabBar","handlePageScroll","resetNavBar","toggleFilterMenu","closeFilterMenu","selectFilterMode","getCategoryName","selectSortMode","resetAndReload","loadPostList","department","params","openid","isTopicDiscussion","categoryMap","newPosts","post","timeText","images","viewCount","commentCount","emptyMsg","loadFollowPosts","following_ids","avatar","nickname","onImageLoad","width","height","refreshPostList","loadMore","onAvatarClick","gotoUserProfile","avatarUrl","gotoSearch","gotoGoodsDetail","goods_id","copyContact","success","showMessageToast","processPostImages","imageArray","formatTime","toggleLike","post_id","is_like","index","previewImage","urls","current","gotoPostDetail","gotoComments","gotoPublish"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACyJ;AACzJ,gBAAgB,mKAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAmjB,CAAgB,gkBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC2ZvkB;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;MACAC,YACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,EACA;MACAC;IACA;EACA;EAEA;EACAC;IAAA;IAEA;IACA;IACA;IACA;;IAEA;IACA;MACA;QAAAC;MAAA;IACA;IAGA;IACA;;IAEA;IACA;MACAC;MACA;IACA;;IAEA;IACA;MACAC;MACA;IACA;;IAEA;IACA;MACAA;;MAEA;MACA;;MAEA;MACA;QACAA;QACAC;UACAC;QACA;QACA;MACA;IAEA;MACA;MACA;IACA;EAEA;EACA;EACAC;IACA;IACA;MACAJ;MACA;MACAC;IACA;;IAEA;IACA;IACA;IACA;EACA;EAEAI;IACAJ;IACA;EACA;EAEAK;IACAL;IACA;EACA;EAEAM;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cACAN;cACA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAO;IAEA;MACA;IACA;EAEA;EACA;EACAC;IACA;EACA;EAEAC,0CACA;IAEA;IACAC;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;IACA;IAEAC;MAAA;MACA;MAEA;MACA;MACA;;MAEA;MACA;MACA;MAEA;QACA;QACA;QAEA;UACAC;UACAC;QACA;UACAC;QACA;MACA;MAEA;IACA;IAEAC;MAAA;MACA;MAEA;MACA;MACA;MAEA;MAEA;QACA;QACA;QAEA;UACAF;QACA;UACAG;UACAF;QACA;MACA;MAEA;IACA;IAGAG;MACA;IACA;EAAA,EACA;EAEAC;IACAC;MACA;QACAlB;UACAC;QACA;QACA;MACA;MACA;IACA;IAEA;IACAkB;MACA;IACA;IAEA;IACAC;MACA;;MAEA;MACAC;QACArB;UACAC;UACAqB;YACAtB;cACAuB;cACA9B;cACA+B;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;UACAzB;YAAAC;UAAA;UACA;QACA;UACA;UACA;QACA;UACAF;MAAA;IAEA;IAEA;IACA2B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA1B;cAAA;gBAAA;gBAAA2B;gBAEA;kBACA;kBACA;oBAAA;sBACAC;sBACAL;sBACAM;sBACA5B;sBACA6B;sBACAC;oBACA;kBAAA;;kBAEAhC;gBACA;kBACAA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAiC;MACA;QAAAC;QAAAC;MAEAnC;;MAEA;MACA;QAAA;MAAA;MACAA;MACAA;MACA;QACA;QACA;QACA;;QAEA;QACA;QAEAA;UACAkC;UACAC;QACA;MACA;QACAnC;MACA;IACA;EAAA,GAEA;IACA;IACAoC;MACA;MAEA;MACA;MACA;MAEA;MACA;MACA;MACA;MAEA;MACApC;IACA;IACAqC;MAAA;MAEA;MACA;QACA;UACA;UACA;YACAC;cACAxC;YACA;YACA;UACA;QACA;;QACA;MACA;;MAEA;MACA;QACA;QACAwB;UACAiB;QACA;MACA;IAEA;IAEA;IACAC;MACA;MACA;;MAEA;MACA;QACA;MACA;QACA;MACA;;MAEA;MACA;QACA;UACA;UACA;QACA;MACA;QACA;UACA;UACA;QACA;MACA;;MAEA;MACA;QACA;UACA;UACA;YACA;YACA;UACA;QACA;UACA;UACA;YACA;YACA;UACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;;MAEA;MACA;MACA;MAEA;MACA;IACA;IAEA;IACAC;MACA;QACAzC;UACAC;QACA;QACA;MACA;MACA;QACAD;UACAuB;UACA9B;UACA+B;QACA;QACAxB;UACAC;QACA;QACA;MACA;MACA;IACA;IAEA;IACAyC;MACA;IACA;IAEA;IACAC;MACA;QACA3C;UAAAC;QAAA;QACA;MACA;MAEA;QACA;QACA;MACA;MAEA;QACA;QACA;QACA;MACA;MAEA;MACA;MACA;MAEA;MACA;MACA;MACA;MAEA;MACAF;IACA;IAEA;IACA6C;MACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;QACA;UACA7C;YAAAC;UAAA;UACA;QACA;QAEA;UACA;UACA;QACA;MACA;MAEA;MAEA;QACA;QACA;QACA;MACA;MAEA;MAEA;MACA;MACA;MACA;MAEA;MACAF;IACA;IAEA;IACA+C;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA/C;kBAAAC;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,KAKA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;;gBAEA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;cAAA;gBAKA+C;gBAEAC;kBACApF;kBACAC;kBACAoF;kBACAF;kBACA1F;kBACA6F;gBACA;gBAEA;kBACA;kBACA;oBACAF;oBACAA;kBACA;oBACA;oBACAG;sBACA;sBACA;sBACA;sBACA;oBAEA;oBACAH;kBACA;gBACA;kBACAA;gBACA;gBAEAlD;gBAAA;gBAAA,OAEAC;cAAA;gBAAA;gBAAA2B;gBAEA;kBACA0B;oBAAA,uCACAC;sBACAC;sBACAC;sBACAC;sBACAvB;sBACAwB;sBACAzB;sBACAkB;oBAAA;kBAAA,CACA,GAEA;kBACA;oBACAE;sBAAA;oBAAA;kBACA;oBACAA;sBAAA;oBAAA;kBACA;;kBAEA;kBACA,qCACA,uCACA1B,8BACAA;oBAEA;oBACA5B;kBACA;kBAEA;oBACA;kBACA;oBACA;kBACA;kBAEA;kBACAA;kBAEA;oBACA4D,iDACA,gFACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA5D;gBACA;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA6D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAX;kBACApF;kBACAC;kBACAoF;kBACAW;kBACA/B;gBACA;;gBAEA/B;gBAAA;gBAAA,OAEAC;cAAA;gBAAA;gBAAA2B;gBAEA;kBACA0B;oBAAA,uCACAC;sBACAC;sBACAC;sBACAC;sBACAvB;sBACAwB;sBACAzB;sBACA6B;sBACAC;oBAAA;kBAAA,CACA;kBAEA;oBACA;kBACA;oBACA;kBACA;;kBAEA;kBACA;kBAEAhE;kBAEA;oBACA;kBACA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAiE;MACA;MAEA;QAAAC;QAAAC;MACA;MACA;MACA;MAEA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBAEA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OAEA;cAAA;gBACAnE;gBACA;gBACAD;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAoE;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBACA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAC;MACA;QACA;MACA;QACA;MACA;IACA;IAEAC;MACA;QACAtE;UAAAC;QAAA;QACA;MACA;MAEA;QACAiD;QACAa;QACAQ;MACA;MAEA;MACAvE;QACAC;MACA;IACA;IAEAuE;MACA;QACAxE;UACAC;QACA;QACA;MACA;MACAD;QAAAC;MAAA;IACA;IAEAwE;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAzE;kBAAA0E;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA3E;cAAA;gBAGAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA0E;MACA;QACA3E;UACAC;QACA;QACA;MACA;MACA;QACAD;UACAC;QACA;MACA;MACA;QACAD;UAAAuB;UAAA9B;QAAA;QACA;MACA;MAEAO;QACA5C;QACAwH;UACA5E;YAAAuB;YAAA9B;UAAA;QACA;MACA;IACA;IAEAoF;MAAA;MAAA;MACA;MACA;MACAxD;QACA;MACA;IACA;IAEAyD;MACA;MAEA;MACA;QACA;UACAC;QACA;UACA;QACA;MACA;QACAA;MACA;MAEA;QAAA;MAAA;IACA;IAEAC;MACA;MAEA;MACA;MACA;MAEA;MACA;MACA;MAEA;MACA;MACA;MACA;MAEA;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBACAjF;kBACAC;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAIAD;kBACAkF;kBACAhC;kBACAiC;gBACA;cAAA;gBAAA;gBAJAxD;gBAMA;kBACAyD;oBAAA;kBAAA;kBACA;oBACA;oBACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEArF;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAsF;MACArF;QAAAsF;QAAAC;MAAA;IACA;IAEAC;MACA;MACA,yCACA,sCACA;MAEAxF;QACAC;MACA;IACA;IAEAwF;MACA,yCACA,sCACA;MAEAzF;QACAC;MACA;IACA;IAEAyF;MACA;QACA;QACA;MACA;MAEA1F;QAAAC;MAAA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;AC1zCA;AAAA;AAAA;AAAA;AAA8kC,CAAgB,+hCAAG,EAAC,C;;;;;;;;;;;ACAlmC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/treehole/treehole.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/treehole/treehole.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./treehole.vue?vue&type=template&id=0d7ebf74&scoped=true&\"\nvar renderjs\nimport script from \"./treehole.vue?vue&type=script&lang=js&\"\nexport * from \"./treehole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./treehole.vue?vue&type=style&index=0&id=0d7ebf74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d7ebf74\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/treehole/treehole.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./treehole.vue?vue&type=template&id=0d7ebf74&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.sortMode === \"topic\"\n      ? _vm.__map(_vm.leftColumnPosts, function (post, __i0__) {\n          var $orig = _vm.__get_orig(post)\n          var g0 = post.images && post.images.length > 0\n          return {\n            $orig: $orig,\n            g0: g0,\n          }\n        })\n      : null\n  var l1 =\n    _vm.sortMode === \"topic\"\n      ? _vm.__map(_vm.rightColumnPosts, function (post, __i1__) {\n          var $orig = _vm.__get_orig(post)\n          var g1 = post.images && post.images.length > 0\n          return {\n            $orig: $orig,\n            g1: g1,\n          }\n        })\n      : null\n  var l3 = !(_vm.sortMode === \"topic\")\n    ? _vm.__map(_vm.postList, function (post, __i2__) {\n        var $orig = _vm.__get_orig(post)\n        var g2 = post.images && post.images.length > 0\n        var l2 = g2\n          ? _vm.__map(post.images, function (img, imgIndex) {\n              var $orig = _vm.__get_orig(img)\n              var g3 = post.images.length\n              var g4 = post.images.length\n              var g5 = post.images.length\n              var g6 = post.images.length\n              return {\n                $orig: $orig,\n                g3: g3,\n                g4: g4,\n                g5: g5,\n                g6: g6,\n              }\n            })\n          : null\n        return {\n          $orig: $orig,\n          g2: g2,\n          l2: l2,\n        }\n      })\n    : null\n  var g7 = !(_vm.sortMode === \"topic\")\n    ? _vm.postList.length === 0 && !_vm.isLoading\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        l3: l3,\n        g7: g7,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./treehole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./treehole.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index-page\">\r\n\t\t\r\n\t<view class=\"banner-section\">\r\n\t\t<swiper \r\n\t\t\tclass=\"banner-swiper\" \r\n\t\t\t:autoplay=\"true\" \r\n\t\t\t:interval=\"3000\" \r\n\t\t\t:duration=\"500\"\r\n\t\t\t:circular=\"true\"\r\n\t\t\tindicator-dots\r\n\t\t\tindicator-color=\"rgba(255, 255, 255, 0.5)\"\r\n\t\t\tindicator-active-color=\"#ffffff\"\r\n\t\t>\r\n\t\t\t<swiper-item v-for=\"(banner, index) in bannerList\" :key=\"index\">\r\n\t\t\t\t<image \r\n\t\t\t\t\tclass=\"banner-image\" \r\n\t\t\t\t\t:src=\"banner.image\" \r\n\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t@click=\"onBannerClick(banner)\"\r\n\t\t\t\t/>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t</view>\n  <view class=\"community-page\">\n    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->\n    <!-- é¡¶éƒ¨å¯¼èˆªæ  - æ·»åŠ åŠ¨æ€æ ·å¼æ§åˆ¶ -->\n        <view \n          class=\"nav-bar\" \n        >\n      <!-- å·¦ä¾§ï¼šé™¢ç³»ç­›é€‰æŒ‰é’® -->\n      <view class=\"nav-left\">\r\n\t\t <view class=\"menu-btn\" @click=\"openSideMenu\">\r\n\t\t   <text class=\"menu-icon\">â˜°</text>\r\n\t\t </view> \n    <!-- <view class=\"filter-icon-btn\" @click=\"toggleFilterMenu\">\n      <image \n          class=\"nav-bar-icon\" \n          :src=\"filterMode === 'all' ? iconFilterAllUrl : iconFilterDeptUrl\" \n          mode=\"aspectFit\"\n      ></image>\n    </view> -->\n</view>\n\n      <!-- ä¸­é—´ï¼šæœ€çƒ­ã€æœ€æ–°ã€ä¸¤ä¸ªé€‰é¡¹ -->\n      <view class=\"nav-center\">\n        <view \n          class=\"sort-item\"\n          :class=\"{ 'active': sortMode === 'hottest' }\"\n          @click=\"selectSortMode('hottest')\"\n        >\n          å‘ç°\n        </view>\n        <view class=\"sort-divider\">|</view>\r\n\t\t\r\n\t\t<!-- âœ… æ–°å¢ï¼šå…³æ³¨é€‰é¡¹ -->\r\n\t\t  <view \r\n\t\t    class=\"sort-item\"\r\n\t\t    :class=\"{ 'active': sortMode === 'follow' }\"\r\n\t\t    @click=\"selectSortMode('follow')\"\r\n\t\t  >\r\n\t\t    å…³æ³¨\r\n\t\t  </view>\r\n\t\t  <view class=\"sort-divider\">|</view>\r\n\t\t  \n        <view \n          class=\"sort-item\"\n          :class=\"{ 'active': sortMode === 'latest' }\"\n          @click=\"selectSortMode('latest')\"\n        >\n          æœ€æ–°\n        </view>\n        <!-- <view class=\"sort-divider\">|</view>\n        <view \n          class=\"sort-item\"\n          :class=\"{ 'active': sortMode === 'topic' }\"\n          @click=\"selectSortMode('topic')\"\n        >\n          è¯é¢˜\n        </view> -->\n      </view>\n\n      <!-- å³ä¾§ï¼šæœç´¢æŒ‰é’® -->\n      <view class=\"nav-right\">\n          <view class=\"search-icon-btn\" @click=\"gotoSearch\">\n            <image \n                class=\"nav-bar-icon\" \n                :src=\"iconSearchUrl\" \n                mode=\"aspectFit\"\n            ></image>\n          </view>\n      </view>\n    </view>\r\n\t\r\n\t<!-- ğŸ”¥ğŸ”¥ğŸ”¥ æ–°å¢:å·¦ä¾§å¼¹å‡ºèœå• ğŸ”¥ğŸ”¥ğŸ”¥ -->\r\n\t    <view \r\n\t      class=\"side-menu-overlay\" \r\n\t      :class=\"{ 'show': showSideMenu }\"\r\n\t      @click=\"closeSideMenu\"\r\n\t    >\r\n\t      <view \r\n\t        class=\"side-menu-drawer\" \r\n\t        :class=\"{ 'show': showSideMenu }\"\r\n\t        @click.stop\r\n\t      >\r\n\t        <!-- èœå•å¤´éƒ¨ -->\r\n\t        <view class=\"menu-header\">\r\n\t          <text class=\"menu-title\">æˆ‘çš„èœå•</text>\r\n\t          <view class=\"close-btn\" @click=\"closeSideMenu\">\r\n\t            <text class=\"close-icon\">âœ•</text>\r\n\t          </view>\r\n\t        </view>\r\n\t        \r\n\t        <!-- èœå•åˆ—è¡¨ -->\r\n\t        <scroll-view class=\"menu-list\" scroll-y>\r\n\t          <view \r\n\t            v-for=\"(item, index) in menuItems\" \r\n\t            :key=\"index\"\r\n\t            class=\"menu-item\"\r\n\t            @click=\"handleMenuClick(item)\"\r\n\t          >\r\n\t            <text class=\"menu-item-icon\">{{ item.icon }}</text>\r\n\t            <text class=\"menu-item-text\">{{ item.name }}</text>\r\n\t            <text class=\"menu-arrow\">â€º</text>\r\n\t          </view>\r\n\t        </scroll-view>\r\n\t      </view>\r\n\t    </view>\n\t\n\t<!-- ğŸ”¥ ä¿®æ”¹ï¼šäºŒçº§åˆ†ç±»æ  - ä½¿ç”¨ç‹¬ç«‹çš„éšè—æ§åˆ¶ -->\n\t<view \n\t  class=\"category-bar\" \n\t  v-if=\"sortMode === 'hottest'\"\n\t  :class=\"{ 'category-hidden': isCategoryHidden }\"\n\t  :style=\"{ transform: categoryTransform }\"\n\t>\n\t  <view \n\t    class=\"category-item\"\n\t    :class=\"{ 'active': categoryMode === 'recommend' }\"\n\t    @click=\"selectCategory('recommend')\"\n\t  >\n\t    <text class=\"category-text\">æ¨è</text>\n\t  </view>\n\t  <view \n\t    class=\"category-item\"\n\t    :class=\"{ 'active': categoryMode === 'daily' }\"\n\t    @click=\"selectCategory('daily')\"\n\t  >\n\t    <text class=\"category-text\">æ—¥å¸¸</text>\n\t  </view>\n\t  <view \n\t    class=\"category-item\"\n\t    :class=\"{ 'active': categoryMode === 'friend' }\"\n\t    @click=\"selectCategory('friend')\"\n\t  >\n\t    <text class=\"category-text\">äº¤å‹</text>\n\t  </view>\n\t  <view \n\t    class=\"category-item\"\n\t    :class=\"{ 'active': categoryMode === 'complaint' }\"\n\t    @click=\"selectCategory('complaint')\"\n\t  >\n\t    <text class=\"category-text\">åæ§½</text>\n\t  </view>\n\t  <view\n\t    class=\"category-item\"\n\t    :class=\"{ 'active': categoryMode === 'goods' }\"\n\t    @click=\"selectCategory('goods')\"\n\t  >\n\t    <text class=\"category-text\">å¥½ç‰©</text>\n\t  </view>\n\t</view>\n\t\t\n    <!-- ç­›é€‰ä¸‹æ‹‰èœå• -->\n    <view class=\"filter-menu\" v-if=\"showFilterMenu\" @click=\"closeFilterMenu\">\n      <view class=\"filter-content\" @click.stop>\n        <view \n          class=\"filter-option\"\n          :class=\"{ 'active': filterMode === 'all' }\"\n          @click=\"selectFilterMode('all')\"\n        >\n          <image class=\"option-icon-img\" :src=\"iconMenuAllUrl\" mode=\"aspectFit\"></image>\n          <view class=\"option-info\">\n            <text class=\"option-title\">å…¨éƒ¨</text>\n            <text class=\"option-desc\">æ˜¾ç¤ºæ‰€æœ‰å¯è§å¸–å­</text>\n          </view>\n          <text class=\"check-icon\" v-if=\"filterMode === 'all'\">âœ“</text>\n        </view>\n        \n        <view \n          class=\"filter-option\"\n          :class=\"{ 'active': filterMode === 'department' }\"\n          @click=\"selectFilterMode('department')\"\n        >\n          <image class=\"option-icon-img\" :src=\"iconFilterDeptUrl\" mode=\"aspectFit\"></image>\n          <view class=\"option-info\">\n            <text class=\"option-title\">æœ¬é™¢ç³»</text>\n            <text class=\"option-desc\">ä»…æ˜¾ç¤ºå‘å¸ƒåˆ°æœ¬é™¢ç³»çš„å¸–å­</text>\n          </view>\n          <text class=\"check-icon\" v-if=\"filterMode === 'department'\">âœ“</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- æ¶ˆæ¯æç¤ºåŒºåŸŸ -->\n    <view class=\"message-area\" v-if=\"showMessage\">\n      <text class=\"message-text\">{{ messageText }}</text>\n    </view>\n\n    <!-- è¯é¢˜è®¨è®ºï¼šåŒåˆ—ç€‘å¸ƒæµå¸ƒå±€ -->\n    <view class=\"waterfall-container\" v-if=\"sortMode === 'topic'\">\n      <view class=\"waterfall-column\">\n        <view \n          class=\"waterfall-item\" \n          v-for=\"post in leftColumnPosts\" \n          :key=\"post.id\"\n          @click=\"gotoPostDetail(post)\"\n        >\n          <view class=\"waterfall-card\">\n            <view class=\"card-image-wrapper\" v-if=\"post.images && post.images.length > 0\">\n              <image \n                class=\"card-image\"\n                :src=\"post.images[0]\" \n                mode=\"widthFix\"\n                @load=\"onImageLoad(post, $event)\"\n              ></image>\n            </view>\n            \n            <view class=\"card-content\" v-if=\"post.content\">\n              <text class=\"content-text\">{{ post.content }}</text>\n            </view>\n            \n            <view class=\"card-header\" @click.stop=\"onAvatarClick(post)\">\n              <image \n                class=\"card-avatar\" \n                :src=\"post.avatar || '/static/default-avatar.png'\" \n                mode=\"aspectFill\"\n              ></image>\n              <text class=\"card-nickname\">{{ post.nickname }}</text>\n            </view>\n            \n            <view class=\"card-footer\">\n              <view class=\"footer-info\">\n                <text class=\"card-time\">{{ post.timeText }}</text>\n              </view>\n              \n              <view class=\"footer-actions\">\n                <view class=\"action-item\" @click.stop=\"toggleLike(post, post.id)\">\n                  <image class=\"action-icon-img waterfall-icon\" :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\" mode=\"aspectFit\"></image>\n                  <text class=\"action-count\">{{ post.likeCount }}</text>\n                </view>\n                <view class=\"action-item\" @click.stop=\"gotoComments(post)\">\n                  <image class=\"action-icon-img waterfall-icon\" :src=\"iconCommentUrl\" mode=\"aspectFit\"></image>\n                  <text class=\"action-count\">{{ post.commentCount }}</text>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      \n      <view class=\"waterfall-column\">\n        <view \n          class=\"waterfall-item\" \n          v-for=\"post in rightColumnPosts\" \n          :key=\"post.id\"\n          @click=\"gotoPostDetail(post)\"\n        >\n          <view class=\"waterfall-card\">\n            <view class=\"card-image-wrapper\" v-if=\"post.images && post.images.length > 0\">\n              <image \n                class=\"card-image\"\n                :src=\"post.images[0]\" \n                mode=\"widthFix\"\n                @load=\"onImageLoad(post, $event)\"\n              ></image>\n            </view>\n            \n            <view class=\"card-content\" v-if=\"post.content\">\n              <text class=\"content-text\">{{ post.content }}</text>\n            </view>\n            \n            <view class=\"card-header\" @click.stop=\"onAvatarClick(post)\">\n              <image \n                class=\"card-avatar\" \n                :src=\"post.avatar || '/static/default-avatar.png'\" \n                mode=\"aspectFill\"\n              ></image>\n              <text class=\"card-nickname\">{{ post.nickname }}</text>\n            </view>\n            \n            <view class=\"card-footer\">\n              <view class=\"footer-info\">\n                <text class=\"card-time\">{{ post.timeText }}</text>\n              </view>\n              \n              <view class=\"footer-actions\">\n                <view class=\"action-item\" @click.stop=\"toggleLike(post, post.id)\">\n                  <image class=\"action-icon-img list-icon\" :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\" mode=\"aspectFit\"></image>\n                  <text class=\"action-count\">{{ post.likeCount }}</text>\n                </view>\n                \n                <view class=\"action-item\" @click.stop=\"gotoComments(post)\">\n                  <image class=\"action-icon-img list-icon\" :src=\"iconCommentUrl\" mode=\"aspectFit\"></image>\n                  <text class=\"action-count\">{{ post.commentCount }}</text>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- æœ€æ–°/æœ€çƒ­ï¼šæ™®é€šåˆ—è¡¨å¸ƒå±€ -->\n    <view class=\"post-list\" v-else>\n      <view class=\"post-item\" v-for=\"post in postList\" :key=\"post.id\" @click=\"gotoPostDetail(post)\">\n        <view class=\"post-header\">\n          <view class=\"user-info\" >\n            <!-- <image \n              class=\"avatar\" \n              :src=\"post.avatar || '/static/default-avatar.png'\" \n              mode=\"aspectFill\"\n\t\t\t  @click.stop=\"onAvatarClick(post)\"\n            ></image>    æš‚æ—¶åœ¨æ ‘æ´ä¸­ä¸èƒ½è·³è½¬åˆ°å‘å¸–è€…ä¸»é¡µ-->    \n\t\t\t<image\n\t\t\t  class=\"avatar\" \n\t\t\t  :src=\"post.avatar || '/static/default-avatar.png'\" \n\t\t\t  mode=\"aspectFill\"\n\t\t\t></image>       \n            <text class=\"nickname\">{{ post.nickname }}</text>\n          </view>\n          <text class=\"post-time\">{{ post.timeText }}</text>\n        </view>\n\n        <view class=\"post-content\">\n          <text class=\"content-text\">{{ post.content }}</text>\n        </view>\n\n        <view class=\"post-images\" v-if=\"post.images && post.images.length > 0\">\n          <image \n            v-for=\"(img, imgIndex) in post.images\" \n            :key=\"imgIndex\"\n            class=\"post-image\"\n            :class=\"{ \n              'single-image': post.images.length === 1,\n              'double-image': post.images.length === 2,\n              'triple-image': post.images.length >= 3\n            }\"\n            :src=\"img\" \n            :mode=\"post.images.length === 1 ? 'widthFix' : 'aspectFill'\"\n            @click.stop=\"previewImage(post.images, imgIndex)\"\n          ></image>\n        </view>\n\n        <view class=\"post-footer\">\n          <view class=\"footer-left\">\n            <!-- <text class=\"tag\">{{ post.tag }}</text> -->\n            <text class=\"view-count\">{{ post.viewCount }}äººæµè§ˆ</text>\n          </view>\n          <view class=\"footer-right\">\n\t\t\t  <view\n\t\t\t    class=\"action-item contact\" \n\t\t\t    v-if=\"post.contactInfo && post.user_openid !== openid\"\n\t\t\t    @click.stop=\"copyContact(post)\"\n\t\t\t  >\n\t\t\t    <text class=\"contact-icon\">ğŸ“</text>\n\t\t\t    <text class=\"action-text\">è”ç³»TA</text>\n\t\t\t  </view>\n\t\t\t  \n\t\t\t  <view\n\t\t\t    class=\"action-item goods\" \n\t\t\t    v-if=\"post.relatedGoodsId\"\n\t\t\t    @click.stop=\"gotoGoodsDetail(post.relatedGoodsId)\"\n\t\t\t  >\n\t\t\t    <text class=\"goods-icon\">ğŸ›ï¸</text>\n\t\t\t    <text class=\"action-text\">æŸ¥çœ‹å•†å“</text>\n\t\t\t  </view>\n\t\t\t  \n\t\t\t  \n            <view class=\"action-item\" @click.stop=\"toggleLike(post, post.id)\">\n              <image class=\"action-icon-img list-icon\" :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\" mode=\"aspectFit\"></image>\n              <text class=\"action-count\">{{ post.likeCount }}</text>\n            </view>\n            \n            <view class=\"action-item\" @click.stop=\"gotoComments(post)\">\n              <image class=\"action-icon-img list-icon\" :src=\"iconCommentUrl\" mode=\"aspectFit\"></image>\n              <text class=\"action-count\">{{ post.commentCount }}</text>\n            </view>\n            \n          </view>\n        </view>\n      </view>\n\n      <view class=\"load-more\" v-if=\"showLoadMore\">\n        <view class=\"load-more-content\">\n          <text class=\"load-text\" v-if=\"isLoadingMore\">æ­£åœ¨åŠ è½½æ›´å¤š...</text>\n          <text class=\"load-text\" v-else-if=\"hasMore\">ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>\n          <text class=\"no-more-text\" v-else>æ²¡æœ‰æ›´å¤šäº†</text>\n        </view>\n      </view>\n      \n      <view class=\"empty-state\" v-if=\"postList.length === 0 && !isLoading\">\n        <text class=\"empty-icon\">ğŸ“­</text>\n        <text class=\"empty-text\">{{ filterMode === 'department' ? 'æœ¬é™¢ç³»æš‚æ— å¸–å­' : 'æš‚æ— å¸–å­' }}</text>\n      </view>\n    </view>\n</view>\n  </view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      sortMode: 'hottest', // 'latest', 'hottest', 'topic'\n      filterMode: 'all', // 'all' æˆ– 'department'\n\t  categoryMode: 'recommend', // ğŸ”¥ æ–°å¢ï¼šäºŒçº§åˆ†ç±» 'recommend', 'daily', 'friend', 'complaint'\n      showFilterMenu: false,\n      showMessage: false,\n      messageText: '',\n      postList: [],\n\t  excludePostIds: [],\n      page: 1,\n      pageSize: 10,\n      isLoading: false,\n      isLoadingMore: false,\n      hasMore: true,\n      leftColumnHeight: 0,\n      rightColumnHeight: 0,\n      imageHeights: {},\n\t  iconLikeUrl: 'https://img.xinshi00.com/label/like.png',\n\t  iconLikedUrl: 'https://img.xinshi00.com/label/liked.png',\n\t  iconCommentUrl: 'https://img.xinshi00.com/label/chat.png',\n\t  iconFilterAllUrl: 'https://img.xinshi00.com/label/shaixuan.png',\n\t  iconFilterDeptUrl: 'https://img.xinshi00.com/label/department.png',\n\t  iconSearchUrl: 'https://img.xinshi00.com/label/search.png',\n\t  iconMenuAllUrl: 'https://img.xinshi00.com/label/school.png',\n\t  // ğŸ”¥ ä¿®æ”¹ï¼šå¯¼èˆªæ æ§åˆ¶\n\t  isNavHidden: false,\n\t  navTransform: 'translateY(0)',\n\t\t // ğŸ”¥ æ–°å¢ï¼šåˆ†ç±»æ å•ç‹¬æ§åˆ¶\n\t  isCategoryHidden: false,\n\t  categoryTransform: 'translateY(0)',\n\t  // æ»šåŠ¨æ§åˆ¶\n\t\tlastScrollTop: 0,\n\t\tcategoryScrollThreshold: 80, \n\t\tscrollDirection: 'down',\n\t\ttabBarInstance: null,\n\t\t// --- â¬‡ï¸ ä¿®æ”¹ï¼šç™»å½•è·³è½¬é€»è¾‘ â¬‡ï¸ ---\n\t\tÂ  Â  Â  redirectTimer: null, // Renamed from loginRedirectTimer\n\t\t      isRedirecting: false,  // ğŸ”¥ æ–°å¢ï¼šè·³è½¬â€œé—¨é”â€\n\t\tÂ  Â  Â  // --- â¬†ï¸ ä¿®æ”¹ï¼šç™»å½•è·³è½¬é€»è¾‘ â¬†ï¸ ---\r\n\t\tbannerList: [],\r\n\t\tmenuItems: [\r\n\t\t  { name: 'æˆ‘å‘å¸ƒçš„', icon: 'ğŸ“', route: '/subpkg/my-posts/my-posts' },\r\n\t\t  { name: 'æˆ‘åˆ é™¤çš„', icon: 'ğŸ›ï¸', route: '/subpkg/my-deleted-posts/my-deleted-posts' },\r\n\t\t  { name: 'æˆ‘ç‚¹èµçš„', icon: 'ğŸ’°', route: '/subpkg/like/like' },\r\n\t\t  { name: 'æˆ‘è¯„è®ºçš„', icon: 'â­', route: '/subpkg/my-post-comments/my-post-comments' },\r\n\t\t],\r\n\t\tshowSideMenu: false\n    }\n  },\n  \n  // ğŸ”¥ ä¿®æ”¹ï¼šonShow - é‡ç½®å¯¼èˆªæ \n    onShow() {\n\t\t// #ifdef MP-WEIXIN\n\t\t    // æ£€æŸ¥å½“å‰é¡µé¢æ˜¯å¦æ˜¯æ ˆé¡¶é¡µé¢\n\t\t    const pages = getCurrentPages();\n\t\t    const currentPage = pages[pages.length - 1];\n\t\t    const currentRoute = currentPage.route;\n\t\t    \n\t\t    // åªæœ‰å½“å‰é¡µé¢æ˜¯ home æ—¶æ‰æ›´æ–°\n\t\t    if (currentRoute === 'pages/home/home' && this.tabBarInstance) {\n\t\t      this.tabBarInstance.setData({ selected: 3 });\n\t\t    }\n\t\t    // #endif\n\t\t  \n      this.resetNavBar()\n\t  // --- â¬‡ï¸ ä¿®æ”¹ï¼šç™»å½•æ£€æŸ¥ä¸è·³è½¬é€»è¾‘ â¬‡ï¸ ---\n\t  \t  \n\t  \t  // 1. é¡µé¢æ˜¾ç¤ºæ—¶ï¼Œå…ˆæ¸…é™¤å¯èƒ½å­˜åœ¨çš„æ—§å®šæ—¶å™¨\n\t  \t  if (this.redirectTimer) {\n\t  \t  Â  clearTimeout(this.redirectTimer)\n\t  \t  Â  this.redirectTimer = null\n\t  \t  }\n\t        \n\t        // 2. ğŸ”¥ æ£€æŸ¥æ˜¯å¦æ­£åœ¨è·³è½¬ä¸­ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™é˜»æ­¢åç»­æ“ä½œ\n\t        if (this.isRedirecting) {\n\t          console.log('ğŸ”„ æ­£åœ¨è·³è½¬ä¸­ï¼Œé˜»æ­¢ onShow å†æ¬¡æ‰§è¡Œ');\n\t          return;\n\t        }\n\t  \t  Â  Â  Â  Â Â \n\t  \t  // 3. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœªç™»å½•\n\t  \t  if (!this.openid) {\n\t  \t  Â  console.log('ğŸ¤” ç”¨æˆ·æœªç™»å½•ï¼Œç«‹å³å‡†å¤‡è·³è½¬åˆ° \"æˆ‘çš„\" é¡µé¢')\n\t          \n\t          // 4. ğŸ”¥ ç«‹å³â€œä¸Šé”â€ï¼Œé˜²æ­¢å¿«é€Ÿç‚¹å‡»\n\t          this.isRedirecting = true; \n\t          Â  Â  Â Â \n\t  \t  Â  // 6. è®¾ç½®1.5ç§’å®šæ—¶å™¨ï¼Œç­‰Toastæ˜¾ç¤ºå®Œæ¯•åå†è·³è½¬\n\t  \t  Â  this.redirectTimer = setTimeout(() => {\n\t  \t  Â  Â  console.log('â° Toastç»“æŸï¼Œæ‰§è¡Œè·³è½¬...');\n\t  \t  Â  Â  uni.switchTab({\n\t  \t  Â  Â  Â  url: '/pages/my/my'\n\t  \t  Â  Â  })\n\t  \t  Â  Â  this.redirectTimer = null; // æ¸…é™¤å®šæ—¶å™¨ID\n\t  \t  Â  }, 1500) // 1500æ¯«ç§’ = 1.5ç§’ (åŒ¹é…Toastæ—¶é•¿)\n\t  \t  Â  \n\t  \t  } else {\n\t          // 7. ç”¨æˆ·å·²ç™»å½•ï¼Œç¡®ä¿â€œé—¨é”â€æ˜¯æ‰“å¼€çš„\n\t          this.isRedirecting = false;\n\t        }\n\t  \n    },\n  // --- â¬‡ï¸ æ–°å¢ï¼šé¡µé¢éšè—æ—¶æ¸…é™¤å®šæ—¶å™¨ â¬‡ï¸ ---\n  Â  Â  onHide() {\n  Â  Â  Â // 1. å¦‚æœå®šæ—¶å™¨å­˜åœ¨ï¼Œåˆ™æ¸…é™¤å®ƒ\nÂ  Â  Â  Â  if (this.redirectTimer) {\nÂ  Â  Â  Â  Â  clearTimeout(this.redirectTimer)\nÂ  Â  Â  Â  Â  this.redirectTimer = null\nÂ  Â  Â  Â  Â  console.log('ğŸ‘‹ é¡µé¢éšè—ï¼Œæ¸…é™¤è·³è½¬å®šæ—¶å™¨')\nÂ  Â  Â  Â  }\n        \n        // 2. ğŸ”¥ é‡ç½®â€œé—¨é”â€\n        // è¿™æ ·å³ä½¿ç”¨æˆ·åœ¨1.5ç§’å†…åˆ‡æ¢åˆ°å…¶ä»–é¡µé¢å†åˆ‡å›æ¥ï¼Œ\n        // ç™»å½•æ£€æŸ¥ä¹Ÿä¼šé‡æ–°è§¦å‘\n        this.isRedirecting = false;\n  Â  Â  },\n \n  onPullDownRefresh() {\n    console.log('ğŸ“± è§¦å‘ä¸‹æ‹‰åˆ·æ–°')\n    this.refreshPostList()\n  },\n  \n  onReachBottom() {\n    console.log('ğŸ“± è§¦å‘ä¸Šæ‹‰åŠ è½½æ›´å¤š')\n    this.loadMore()\n  },\n  \n  async onLoad() {\n\t  console.log('ğŸš€ é¡µé¢åŠ è½½ï¼Œå¼€å§‹è·å–å¸–å­åˆ—è¡¨') \r\n\t  // âœ… åŠ è½½è½®æ’­å›¾æ•°æ®\r\n\t  await this.loadBannerList()\n\t  await this.loadPostList() \n\t  },\n  onReady() {\n\t  // #ifdef MP-WEIXIN\n\t      if (typeof this.$scope.getTabBar === 'function') {\n\t        this.tabBarInstance = this.$scope.getTabBar();\n\t      }\n\t      // #endif\n  },\n  // ğŸ”¥ æ–°å¢ï¼šç›‘å¬é¡µé¢æ»šåŠ¨\n    onPageScroll(e) {\n      this.handlePageScroll(e)\n    },\n  \n  computed: {\n    ...mapState('m_user', ['openid', 'userBase', 'preference']),\n    \r\n\t // âœ… æ–°å¢ï¼šè·å–ç”¨æˆ·å…³æ³¨åˆ—è¡¨\r\n\t  followingIds() {\r\n\t    if (!this.userBase || !this.userBase.following_ids) {\r\n\t      return ''\r\n\t    }\r\n\t    \r\n\t    // å¦‚æœæ˜¯æ•°ç»„ï¼Œè½¬ä¸ºé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²\r\n\t    if (Array.isArray(this.userBase.following_ids)) {\r\n\t      return this.userBase.following_ids.join(',')\r\n\t    }\r\n\t    \r\n\t    // å¦‚æœå·²ç»æ˜¯å­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›\r\n\t    return this.userBase.following_ids\r\n\t  },\r\n\t\n    leftColumnPosts() {\n      if (this.sortMode !== 'topic') return []\n      \n      let leftHeight = 0\n      let rightHeight = 0\n      const left = []\n      \n      // æ›´æ–°åŸºç¡€å¡ç‰‡é«˜åº¦\n      // å†…å®¹76 + å¤´åƒ44 + åº•éƒ¨42 = 162rpx\n      const baseCardHeight = 162\n      \n      this.postList.forEach(post => {\n        const imageHeight = this.imageHeights[post.id] || 300\n        const cardHeight = imageHeight + baseCardHeight\n        \n        if (leftHeight <= rightHeight) {\n          left.push(post)\n          leftHeight += cardHeight\n        } else {\n          rightHeight += cardHeight\n        }\n      })\n      \n      return left\n    },\n    \n    rightColumnPosts() {\n      if (this.sortMode !== 'topic') return []\n      \n      let leftHeight = 0\n      let rightHeight = 0\n      const right = []\n      \n      const baseCardHeight = 162\n      \n      this.postList.forEach(post => {\n        const imageHeight = this.imageHeights[post.id] || 300\n        const cardHeight = imageHeight + baseCardHeight\n        \n        if (leftHeight <= rightHeight) {\n          leftHeight += cardHeight\n        } else {\n          right.push(post)\n          rightHeight += cardHeight\n        }\n      })\n      \n      return right\n    },\n\n    \n    showLoadMore() {\n      return this.postList.length > 0 && (this.hasMore || this.isLoadingMore)\n    }\n  },\n  \n  methods: {\r\n\t  openSideMenu() {\r\n\t    if (!this.openid) {\r\n\t      uni.switchTab({\r\n\t        url: '/pages/my/my'\r\n\t      });\r\n\t      return;\r\n\t    }\r\n\t    this.showSideMenu = true;\r\n\t  },\r\n\t  \r\n\t  // ğŸ”¥ æ–°å¢:å…³é—­ä¾§è¾¹èœå•\r\n\t  closeSideMenu() {\r\n\t    this.showSideMenu = false;\r\n\t  },\r\n\t  \r\n\t  // ğŸ”¥ æ–°å¢:å¤„ç†èœå•é¡¹ç‚¹å‡»\r\n\t  handleMenuClick(item) {\r\n\t    this.closeSideMenu();\r\n\t    \r\n\t    // å»¶è¿Ÿè·³è½¬,è®©å…³é—­åŠ¨ç”»å®Œæˆ\r\n\t    setTimeout(() => {\r\n\t      uni.navigateTo({\r\n\t        url: item.route,\r\n\t        fail: (err) => {\r\n\t          uni.showToast({\r\n\t            title: 'é¡µé¢å¼€å‘ä¸­',\r\n\t            icon: 'none',\r\n\t            duration: 2000\r\n\t          });\r\n\t        }\r\n\t      });\r\n\t    }, 300);\r\n\t  },\r\n\t  \r\n\t  // âœ… è½®æ’­å›¾ç‚¹å‡»\r\n\t  onBannerClick(banner) {\r\n\t  \tswitch (banner.type) {\r\n\t  \t\tcase 'page':\r\n\t  \t\t\tuni.navigateTo({ url: banner.url })\r\n\t  \t\t\tbreak\r\n\t  \t\tcase 'web':\r\n\t  \t\t\tthis.copyLinkAndNotify(banner.url, banner.title)\r\n\t  \t\t\tbreak\r\n\t  \t\tdefault:\r\n\t  \t\t\tconsole.warn('æœªçŸ¥çš„è·³è½¬ç±»å‹:', banner.type)\r\n\t  \t}\r\n\t  },\r\n\t  \r\n\t  // âœ… æ–°å¢ï¼šåŠ è½½è½®æ’­å›¾æ•°æ®\r\n\t  \t\t\tasync loadBannerList() {\r\n\t  \t\t\t\ttry {\r\n\t  \t\t\t\t\tconst { data: res } = await uni.$http.get('/board/recentlist')\r\n\t  \t\t\t\t\t\r\n\t  \t\t\t\t\tif (res.meta.status === 200 && res.message && res.message.length > 0) {\r\n\t  \t\t\t\t\t\t// å°†åç«¯æ•°æ®è½¬æ¢ä¸ºè½®æ’­å›¾æ ¼å¼\r\n\t  \t\t\t\t\t\tthis.bannerList = res.message.map(board => ({\r\n\t  \t\t\t\t\t\t\tid: board.id,\r\n\t  \t\t\t\t\t\t\ttitle: board.description || 'å°é»‘æ¿ä½œå“',\r\n\t  \t\t\t\t\t\t\timage: board.image_url,\r\n\t  \t\t\t\t\t\t\turl: '/subpkg/board/board',\r\n\t  \t\t\t\t\t\t\ttype: 'page',\r\n\t  \t\t\t\t\t\t\tboardId: board.id // ä¿å­˜å°é»‘æ¿IDï¼Œæ–¹ä¾¿åç»­å¯èƒ½çš„è¯¦æƒ…è·³è½¬\r\n\t  \t\t\t\t\t\t}))\r\n\t  \t\t\t\t\t\t\r\n\t  \t\t\t\t\t\tconsole.log('âœ… è½®æ’­å›¾åŠ è½½æˆåŠŸ:', this.bannerList.length, 'å¼ ')\r\n\t  \t\t\t\t\t} else {\r\n\t  \t\t\t\t\t\tconsole.warn('âš ï¸ æœªè·å–åˆ°è½®æ’­å›¾æ•°æ®ï¼Œä½¿ç”¨é»˜è®¤å›¾ç‰‡')\r\n\t  \t\t\t\t\t\tthis.setDefaultBanner()\r\n\t  \t\t\t\t\t}\r\n\t  \t\t\t\t} catch (error) {\r\n\t  \t\t\t\t\tconsole.error('âŒ è½®æ’­å›¾åŠ è½½å¤±è´¥:', error)\r\n\t  \t\t\t\t\tthis.setDefaultBanner()\r\n\t  \t\t\t\t}\r\n\t  \t\t\t},\r\n\t\t\t\t\r\n\t  // ğŸ”¥ æ–°å¢ï¼šæ›´æ–°å¸–å­ç‚¹èµçŠ¶æ€çš„æ–¹æ³•\r\n\t   updatePostLikeStatus(data) {\r\n\t     const { postId, isLiked, likeCount } = data\r\n\t     \r\n\t     console.log('ğŸ“¥ æ”¶åˆ°ç‚¹èµçŠ¶æ€æ›´æ–°:', data)\r\n\t     \r\n\t     // åœ¨ postList ä¸­æŸ¥æ‰¾å¯¹åº”çš„å¸–å­\r\n\t     const index = this.postList.findIndex(post => post.id === postId)\r\n\t     console.log(\"imhere\");\r\n\t  \t\t\t\tconsole.log(index)\r\n\t     if (index !== -1) {\r\n\t       // æ›´æ–°å¸–å­çš„ç‚¹èµçŠ¶æ€\r\n\t       this.postList[index].isLiked = isLiked\r\n\t       this.postList[index].likeCount = likeCount\r\n\t       \r\n\t       // å¼ºåˆ¶æ›´æ–°è§†å›¾\r\n\t       this.$set(this.postList, index, { ...this.postList[index] })\r\n\t       \r\n\t       console.log(`âœ… å·²æ›´æ–°å¸–å­ ${postId} çš„ç‚¹èµçŠ¶æ€:`, {\r\n\t         isLiked,\r\n\t         likeCount\r\n\t       })\r\n\t     } else {\r\n\t       console.warn(`âš ï¸ æœªæ‰¾åˆ°å¸–å­ ${postId}`)\r\n\t     }\r\n\t   },\r\n\t   \n\t  ...mapMutations('m_user', ['updateUserInfo', 'updateToken', 'updateUserBase', 'updatepreference']),\n\t    // ğŸ“Œ åˆ‡æ¢åˆ†ç±»æ—¶æ¸…ç©º excludePostIds\n\t      selectCategory(category) {\n\t        if (this.categoryMode === category) return\n\t        \n\t        this.categoryMode = category\n\t        this.isCategoryHidden = false\n\t        this.categoryTransform = 'translateY(0)'\n\t        \n\t        this.page = 1\n\t        this.postList = []\n\t        this.excludePostIds = [] // ğŸ”¥ æ¸…ç©º\n\t        this.hasMore = true\n\t        \n\t        this.loadPostList()\n\t        console.log(`ğŸ“‚ åˆ‡æ¢åˆ†ç±»: ${category}ï¼Œå·²æ¸…ç©ºæ’é™¤åˆ—è¡¨`)\n\t      },\n\t  setTabBarIndex(index) {\n\t      // #ifdef MP-WEIXIN\n\t      // ç«‹å³å°è¯•è®¾ç½®\n\t      const trySetTabBar = () => {\n\t        if (typeof this.$scope.getTabBar === 'function') {\n\t          const tabBar = this.$scope.getTabBar();\n\t          if (tabBar && tabBar.setData) {\n\t            tabBar.setData({\n\t              selected: index\n\t            });\n\t            return true;  // è®¾ç½®æˆåŠŸ\n\t          }\n\t        }\n\t        return false;  // è®¾ç½®å¤±è´¥\n\t      };\n\t      \n\t      // ç¬¬ä¸€æ¬¡ç«‹å³æ‰§è¡Œ\n\t      if (!trySetTabBar()) {\n\t        // å¦‚æœå¤±è´¥,ä½¿ç”¨çŸ­å»¶è¿Ÿé‡è¯•\n\t        setTimeout(() => {\n\t          trySetTabBar();\n\t        }, 50);\n\t      }\n\t      // #endif\n\t    },\n\t\t\n\t  // ğŸ”¥ ä¿®æ”¹ï¼šhandlePageScroll - åˆ†åˆ«æ§åˆ¶å¯¼èˆªæ å’Œåˆ†ç±»æ \n\t      handlePageScroll(e) {\n\t        const scrollTop = e.scrollTop\n\t        const delta = scrollTop - this.lastScrollTop\n\t        \n\t        // åˆ¤æ–­æ»šåŠ¨æ–¹å‘\n\t        if (delta > 0) {\n\t          this.scrollDirection = 'down'\n\t        } else if (delta < 0) {\n\t          this.scrollDirection = 'up'\n\t        }\n\t        \n\t        // ğŸ”¥ 1. æ§åˆ¶ä¸»å¯¼èˆªæ \n\t        if (this.scrollDirection === 'down' && scrollTop > this.navScrollThreshold) {\n\t          if (!this.isNavHidden) {\n\t            this.isNavHidden = true\n\t            this.navTransform = 'translateY(-100%)'\n\t          }\n\t        } else if (this.scrollDirection === 'up') {\n\t          if (this.isNavHidden) {\n\t            this.isNavHidden = false\n\t            this.navTransform = 'translateY(0)'\n\t          }\n\t        }\n\t        \n\t        // ğŸ”¥ 2. æ§åˆ¶åˆ†ç±»æ ï¼ˆä»…åœ¨\"æœ€æ–°\"æ¨¡å¼ä¸‹ç”Ÿæ•ˆï¼‰\n\t        if (this.sortMode === 'hottest') {\n\t          if (this.scrollDirection === 'down' && scrollTop > this.categoryScrollThreshold) {\n\t            // å‘ä¸‹æ»šåŠ¨è¶…è¿‡é˜ˆå€¼ -> éšè—åˆ†ç±»æ \n\t            if (!this.isCategoryHidden) {\n\t              this.isCategoryHidden = true\n\t              this.categoryTransform = 'translateY(-100%)'\n\t            }\n\t          } else if (scrollTop <= 10) {\n\t            // ğŸ”¥ å…³é”®ï¼šæ»šåŠ¨åˆ°é¡¶éƒ¨ï¼ˆâ‰¤10pxï¼‰-> æ˜¾ç¤ºåˆ†ç±»æ \n\t            if (this.isCategoryHidden) {\n\t              this.isCategoryHidden = false\n\t              this.categoryTransform = 'translateY(0)'\n\t            }\n\t          }\n\t        }\n\t        \n\t        this.lastScrollTop = scrollTop\n\t      },\n\t      \n\t      // ğŸ”¥ ä¿®æ”¹ï¼šresetNavBar - åŒæ—¶é‡ç½®ä¸¤ä¸ªæ \n\t          resetNavBar() {\n\t            this.isNavHidden = false\n\t            this.navTransform = 'translateY(0)'\n\t            \n\t            // ğŸ”¥ æ–°å¢ï¼šé‡ç½®åˆ†ç±»æ \n\t            this.isCategoryHidden = false\n\t            this.categoryTransform = 'translateY(0)'\n\t            \n\t            this.lastScrollTop = 0\n\t            this.scrollDirection = 'down'\n\t          },\n\t\t  \n    // åˆ‡æ¢ç­›é€‰èœå•\n    toggleFilterMenu() {\n\t\tif (!this.openid) {\n\t\t  uni.switchTab({\n\t\t    url: '/pages/my/my'\n\t\t  })\n\t\t  return\n\t\t}\n\t\tif (this.userBase.is_verified !== 1) {\n\t\t\tuni.showToast({\n\t\t\t  title: 'æ‚¨è¿˜æœªå®Œæˆæ ¡å›­è®¤è¯ï¼Œè¯¥åŠŸèƒ½æš‚æ—¶æ— æ³•ä½¿ç”¨',\n\t\t\t  icon: 'none',\n\t\t\t  duration: 1000\n\t\t\t});\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/subpkg/verification/verification'\n\t\t\t})\n\t\t\treturn\n\t\t}\n      this.showFilterMenu = !this.showFilterMenu\n    },\n    \n    // å…³é—­ç­›é€‰èœå•\n    closeFilterMenu() {\n      this.showFilterMenu = false\n    },\n    \n      // ğŸ“Œ ç­›é€‰æ¨¡å¼åˆ‡æ¢æ—¶æ¸…ç©º excludePostIds\n         selectFilterMode(mode) {\n           if (!this.openid) {\n             uni.switchTab({ url: '/pages/my/my' })\n             return\n           }\n           \n           if (this.filterMode === mode) {\n             this.closeFilterMenu()\n             return\n           }\n           \n           if (mode === 'department' && !this.userBase.major) {\n             this.showMessageToast('è¯·å…ˆåœ¨ä¸ªäººä¸­å¿ƒè®¾ç½®é™¢ç³»')\n             this.closeFilterMenu()\n             return\n           }\n           \n           this.filterMode = mode\n           this.closeFilterMenu()\n           this.resetNavBar()\n           \n           this.page = 1\n           this.postList = []\n           this.excludePostIds = [] // ğŸ”¥ æ¸…ç©º\n           this.hasMore = true\n           \n           this.loadPostList()\n           console.log(`ğŸ”„ åˆ‡æ¢ç­›é€‰: ${mode}ï¼Œå·²æ¸…ç©ºæ’é™¤åˆ—è¡¨`)\n         },\n      \n\t   // ğŸ”¥ æ–°å¢ï¼šè¾…åŠ©æ–¹æ³• - è·å–åˆ†ç±»åç§°\n\t      getCategoryName() {\n\t        const categoryMap = {\n\t          'daily': 'æ—¥å¸¸',\n\t          'friend': 'äº¤å‹',\n\t          'complaint': 'åæ§½',\n\t\t\t  'goods': 'äºŒæ‰‹',\n\t        }\n\t        return categoryMap[this.categoryMode] || ''\n\t      },\n\t\t  \n      // ğŸ“Œ åˆ‡æ¢æ’åºæ¨¡å¼æ—¶æ¸…ç©º excludePostIds\n        selectSortMode(mode) {\n          if (this.sortMode === mode) return\n          \r\n\t\t   // âœ… æ–°å¢ï¼šç‚¹å‡»å…³æ³¨æ—¶çš„ç‰¹æ®Šå¤„ç†\r\n\t\t    if (mode === 'follow') {\r\n\t\t      if (!this.openid) {\r\n\t\t        uni.switchTab({ url: '/pages/my/my' })\r\n\t\t        return\r\n\t\t      }\r\n\t\t      \r\n\t\t      if (!this.followingIds) {\r\n\t\t        this.showMessageToast('æ‚¨è¿˜æ²¡æœ‰å…³æ³¨ä»»ä½•äºº')\r\n\t\t        return\r\n\t\t      }\r\n\t\t    }\r\n\t\t\t\n          this.sortMode = mode\n          \n          if (mode === 'latest') {\n            this.categoryMode = 'recommend'\n            this.isCategoryHidden = false\n            this.categoryTransform = 'translateY(0)'\n          }\n          \n          this.resetNavBar()\n          \n          this.page = 1\n          this.postList = []\n          this.excludePostIds = [] // ğŸ”¥ æ¸…ç©º\n          this.hasMore = true\n          \n          this.loadPostList()\n          console.log(`ğŸ”„ åˆ‡æ¢æ’åº: ${mode}ï¼Œå·²æ¸…ç©ºæ’é™¤åˆ—è¡¨`)\n        },\n    \n    // é‡ç½®å’Œé‡æ–°åŠ è½½\n    resetAndReload() {\n      this.page = 1\n      this.postList = []\n      this.hasMore = true\n      this.leftColumnHeight = 0\n      this.rightColumnHeight = 0\n      this.imageHeights = {}\n      this.loadPostList()\n    },\n    \n    // ğŸ”¥ ä¿®æ”¹ï¼šloadPostList\n        async loadPostList() {\n          if (!this.openid) {\n            uni.switchTab({ url: '/pages/my/my' })\n            return\n          }\n          \n          try {\n            if (this.isLoading) return\n            \n            this.isLoading = true\r\n\t\t\t\r\n\t\t\t// âœ… æ–°å¢ï¼šå…³æ³¨æ¨¡å¼ä½¿ç”¨ä¸åŒçš„æ¥å£\r\n\t\t\t    if (this.sortMode === 'follow') {\r\n\t\t\t      await this.loadFollowPosts()\r\n\t\t\t      return\r\n\t\t\t    }\r\n\t\t\t\t\r\n\t\t\t\t\n            const department = this.userBase?.major || ''\n            \n            let params = {\n              page: this.page,\n              pageSize: this.pageSize,\n              openid: this.openid || '',\n              department: department,\n              filterMode: this.filterMode,\n\t\t\t  isTopicDiscussion: 'false'\n            }\n            \n            if (this.sortMode === 'hottest') {\n              // ğŸ“Œ æ¨èæ¨¡å¼ï¼šä¼ é€’ preference å’Œ excludePostIds\n              if (this.categoryMode === 'recommend') {\n                params.preference1 = this.preference\n                params.excludePostIds = this.excludePostIds.join(',') // ğŸ”¥ å…³é”®ï¼šä¼ é€’å·²æ’é™¤çš„ID\n              } else {\n                // éæ¨èæ¨¡å¼ï¼šä¼ é€’ category\n                const categoryMap = {\n                  'daily': 'æ—¥å¸¸',\n                  'friend': 'äº¤å‹',\n                  'complaint': 'åæ§½',\n\t\t\t\t  'goods': 'äºŒæ‰‹',\n\t\t\t\t  \n                }\n                params.category = categoryMap[this.categoryMode]\n              }\n            } else if (this.sortMode === 'latest') {\n              params.sortBy = 'created_at'\n            } \n            \n            console.log(`ğŸ“¡ åŠ è½½å¸–å­ - é¡µç : ${this.page}, æ’é™¤: ${this.excludePostIds.length} ä¸ª`, params)\n            \n            const { data: res } = await uni.$http.get('/posts/list', params)\n            \n            if (res.meta.status === 200) {\n              let newPosts = (res.message.list || []).map(post => ({\n                ...post,\n                timeText: this.formatTime(post.created_at),\n                images: this.processPostImages(post.images),\n                viewCount: post.viewCount || 0,\n                likeCount: post.likeCount || 0, \n                commentCount: post.commentCount || 0,\n                isLiked: post.isLiked || false,\n                isTopicDiscussion: post.isTopicDiscussion || 0\n              }))\n              \n              // å‰ç«¯äºŒæ¬¡è¿‡æ»¤\n              if (this.sortMode === 'topic') {\n                newPosts = newPosts.filter(post => post.isTopicDiscussion === 1)\n              } else {\n                newPosts = newPosts.filter(post => post.isTopicDiscussion !== 1)\n              }\n              \n              // ğŸ“Œ å…³é”®ï¼šåªåœ¨æ¨èæ¨¡å¼ä¸‹ç´¯ç§¯ excludePostIds\n              if (this.sortMode === 'hottest' && \n                  this.categoryMode === 'recommend' && \n                  res.message.fetchedPostIds && \n                  res.message.fetchedPostIds.length > 0) {\n                \n                this.excludePostIds = [...this.excludePostIds, ...res.message.fetchedPostIds]\n                console.log(`âœ… ç´¯ç§¯å·²è·å–ID: ${this.excludePostIds.length} ä¸ª`)\n              }\n              \n              if (this.page === 1) {\n                this.postList = newPosts\n              } else {\n               this.postList.push(...newPosts)\n              }\n              \n              this.hasMore = res.message.hasMore === true\n              console.log(`âœ… åŠ è½½æˆåŠŸ - æ–°å¢: ${newPosts.length}, æ€»è®¡: ${this.postList.length}`)\n              \n              if (this.page === 1 && newPosts.length === 0) {\n                const emptyMsg = this.categoryMode === 'recommend' \n                  ? (this.filterMode === 'department' ? 'æœ¬é™¢ç³»æš‚æ— å¸–å­' : 'æš‚æ— å¸–å­') \n                  : `æš‚æ— ${this.getCategoryName()}å¸–å­`\n                this.showMessageToast(emptyMsg)\n              }\n            }\n          } catch (error) {\n            console.error('âŒ åŠ è½½å¤±è´¥:', error)\n            this.showMessageToast('åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ')\n            this.hasMore = false\n          } finally {\n            this.isLoading = false\n            this.isLoadingMore = false\n          }\n        },\n    \r\n\t// âœ… æ–°å¢ï¼šåŠ è½½å…³æ³¨ç”¨æˆ·çš„å¸–å­\nasync loadFollowPosts() {\n  try {\n    const params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      openid: this.openid,\n      following_ids: this.followingIds,\n      type: '1'  // ğŸ”¥ å…³é”®ï¼šåªè·å–æ— å›¾ç‰‡çš„å¸–å­\n    }\n    \n    console.log('ğŸ“¡ åŠ è½½å…³æ³¨å¸–å­ - é¡µç :', this.page, 'å‚æ•°:', params)\n    \n    const { data: res } = await uni.$http.get('/posts/followlist', params)\n    \n    if (res.meta.status === 200) {\n      let newPosts = (res.message.list || []).map(post => ({\n        ...post,\n        timeText: this.formatTime(post.created_at),\n        images: this.processPostImages(post.images),\n        viewCount: post.view_count || 0,\n        likeCount: post.like_count || 0,\n        commentCount: post.comment_count || 0,\n        isLiked: post.is_liked || false,\n        avatar: post.avatarUrl || '/static/default-avatar.png',\n        nickname: post.nickname || 'åŒ¿åç”¨æˆ·'\n      }))\n      \n      if (this.page === 1) {\n        this.postList = newPosts\n      } else {\n        this.postList.push(...newPosts)\n      }\n      \n      // âœ… åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®\n      this.hasMore = newPosts.length >= this.pageSize\n      \n      console.log(`âœ… å…³æ³¨åˆ—è¡¨åŠ è½½æˆåŠŸ - æ–°å¢: ${newPosts.length}, æ€»è®¡: ${this.postList.length}`)\n      \n      if (this.page === 1 && newPosts.length === 0) {\n        this.showMessageToast('å…³æ³¨çš„ç”¨æˆ·è¿˜æ²¡æœ‰å‘å¸ƒå¸–å­')\n      }\n    } else {\n      this.showMessageToast(res.meta.msg || 'åŠ è½½å¤±è´¥')\n      this.hasMore = false\n    }\n  } catch (error) {\n    console.error('âŒ åŠ è½½å…³æ³¨å¸–å­å¤±è´¥:', error)\n    this.showMessageToast('åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ')\n    this.hasMore = false\n  } finally {\n    this.isLoading = false\n    this.isLoadingMore = false\n  }\n},\n\n    onImageLoad(post, event) {\n      if (!post || !post.id) return\n      \n      const { width, height } = event.detail\n      const screenWidth = uni.getSystemInfoSync().windowWidth\n      const columnWidth = (screenWidth - 48) / 2\n      const actualHeight = (height / width) * columnWidth\n      \n      this.$set(this.imageHeights, post.id, actualHeight)\n    },\n    \n    // ğŸ“Œ ä¸‹æ‹‰åˆ·æ–°æ—¶æ¸…ç©º excludePostIds\n        async refreshPostList() {\n          try {\n            this.resetNavBar()\n            \n            this.page = 1\n            this.postList = []\n            this.excludePostIds = [] // ğŸ”¥ æ¸…ç©º\n            this.hasMore = true\n            \n            await this.loadPostList()\n            uni.stopPullDownRefresh()\n            this.showMessageToast('åˆ·æ–°æˆåŠŸ', 1500)\n            console.log('ğŸ”„ ä¸‹æ‹‰åˆ·æ–°ï¼Œå·²æ¸…ç©ºæ’é™¤åˆ—è¡¨')\n          } catch (error) {\n            uni.stopPullDownRefresh()\n            this.showMessageToast('åˆ·æ–°å¤±è´¥')\n          }\n        },\n    \n    async loadMore() {\n      if (!this.hasMore || this.isLoading || this.isLoadingMore) return\n      \n      this.isLoadingMore = true\n      this.page++\n      await this.loadPostList()\n    },\n    \n    onAvatarClick(post) {\n      if (post.properties === 'äºŒæ‰‹') {\n        this.gotoUserProfile(post)\n      } else {\n        this.showMessageToast('åªæœ‰äºŒæ‰‹å¸–å­å…è®¸æŸ¥çœ‹ä¸ªäººä¸»é¡µ')\n      }\n    },\n    \n    gotoUserProfile(post) {\n      if (post.user_openid === this.openid) {\n        uni.navigateTo({ url: '/subpkg/profile/profile' })\n        return\n      }\n      \n      const userInfo = {\n        openid: post.user_openid,\n        nickname: post.nickname,\n        avatarUrl: post.avatar,\n      }\n      \n      const payload = encodeURIComponent(JSON.stringify(userInfo))\n      uni.navigateTo({\n        url: `/subpkg/profile/profile?publisher=${payload}`\n      })\n    },\n    \n    gotoSearch() {\n\t\tif (!this.openid) {\n\t\t  uni.switchTab({\n\t\t    url: '/pages/my/my'\n\t\t  })\n\t\t  return\n\t\t}\n      uni.navigateTo({ url: '/subpkg/post-search/post-search' })\n    },\n    \n    async gotoGoodsDetail(goodsId) {\n      try {\n        await uni.$http.post('/goods/view', { goods_id: goodsId })\n      } catch (error) {\n        console.error('å¢åŠ æµè§ˆæ¬¡æ•°å¤±è´¥:', error)\n      }\n      \n      uni.navigateTo({\n        url: `/subpkg/goods_detail/goods_detail?goods_id=${goodsId}`\n      })\n    },\n    \n    copyContact(post) {\n\t\tif (!this.openid) {\n\t\t  uni.switchTab({\n\t\t    url: '/pages/my/my'\n\t\t  })\n\t\t  return\n\t\t}\n\t\tif (this.userBase.is_verified !== 1) {\n\t\t\tuni.navigateTo({\n\t\t\t  url: '/subpkg/verification/verification'\n\t\t\t})\n\t\t}\n      if (!post.contactInfo) {\n        uni.showToast({ title: 'è¯¥å¸–å­æœªæä¾›è”ç³»æ–¹å¼', icon: 'none' })\n        return\n      }\n      \n      uni.setClipboardData({\n        data: post.contactInfo,\n        success: () => {\n          uni.showToast({ title: 'è”ç³»æ–¹å¼å·²å¤åˆ¶', icon: 'success' })\n        }\n      })\n    },\n    \n    showMessageToast(text, duration = 2000) {\n      this.messageText = text\n      this.showMessage = true\n      setTimeout(() => {\n        this.showMessage = false\n      }, duration)\n    },\n    \n    processPostImages(images) {\n      if (!images) return []\n      \n      let imageArray = []\n      if (typeof images === 'string') {\n        try {\n          imageArray = JSON.parse(images)\n        } catch (e) {\n          return []\n        }\n      } else if (Array.isArray(images)) {\n        imageArray = images\n      }\n      \n      return imageArray.filter(img => img)\n    },\n    \n    formatTime(timestamp) {\n      if (!timestamp) return 'åˆšåˆš'\n      \n      const time = typeof timestamp === 'string' ? new Date(timestamp).getTime() : timestamp\n      const now = Date.now()\n      const diff = now - time\n      \n      const minute = 60 * 1000\n      const hour = 60 * minute\n      const day = 24 * hour\n      \n      if (diff < minute) return 'åˆšåˆš'\n      if (diff < hour) return Math.floor(diff / minute) + 'åˆ†é’Ÿå‰'\n      if (diff < day) return Math.floor(diff / hour) + 'å°æ—¶å‰'\n      if (diff < 7 * day) return Math.floor(diff / day) + 'å¤©å‰'\n      \n      const date = new Date(time)\n      return `${date.getMonth() + 1}-${date.getDate()}`\n    },\n    \n    async toggleLike(post, indexOrId) {\n      try {\n        if (!this.openid) {\n          uni.switchTab({\n            url: '/pages/my/my'\n          })\n          return\n        }\n        \n        const { data: res } = await uni.$http.post('/posts/like', {\n          post_id: post.id,\n          openid: this.openid,\n          is_like: !post.isLiked\n        })\n        \n        if (res.meta.status === 200) {\n          const index = this.postList.findIndex(p => p.id === post.id)\n          if (index !== -1) {\n            this.postList[index].isLiked = !this.postList[index].isLiked\n            this.postList[index].likeCount = res.message.like_count || 0\n            this.$set(this.postList, index, {...this.postList[index]})\n          }\n        }\n      } catch (error) {\n        console.error('ç‚¹èµå¤±è´¥:', error)\n        this.showMessageToast('æ“ä½œå¤±è´¥')\n      }\n    },\n    \n    previewImage(images, current) {\n      uni.previewImage({ urls: images, current: current })\n    },\n    \n    gotoPostDetail(post) {\n\t  this.updatepreference(post.properties)\n      const url = post.isTopicDiscussion === 1 \n        ? '/subpkg/topic-detail/topic-detail' \n        : '/subpkg/post-detail/post-detail'\n      \n      uni.navigateTo({\n        url: `${url}?id=${post.id}`\n      })\n    },\n    \n    gotoComments(post) {\n      const url = post.isTopicDiscussion === 1 \n        ? '/subpkg/topic-detail/topic-detail' \n        : '/subpkg/post-detail/post-detail'\n      \n      uni.navigateTo({\n        url: `${url}?id=${post.id}&tab=comment`\n      })\n    },\n    \n    gotoPublish() {\n      if (!this.openid) {\n        this.showMessageToast('è¯·å…ˆç™»å½•')\n        return\n      }\n      \n      uni.navigateTo({ url: '/subpkg/publish-post/publish-post' })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\r\n.index-page {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n}\n\n// è½®æ’­å›¾åŒºåŸŸ\n.banner-section {\n\t.banner-swiper {\n\t\twidth: 100%;\n\t\theight: 400rpx;\n\t\t\n\t\t.banner-image {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\r\n\n.community-page {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  padding-bottom: 100rpx;\n}\n\n/* ğŸ”¥ å¯¼èˆªæ  - æ·»åŠ åŠ¨ç”»æ•ˆæœ */\n.nav-bar {\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  background-color: #ffffff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20rpx 24rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  \n  /* ğŸ”¥ å…³é”®ï¼šæ·»åŠ å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), \n              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* ğŸ”¥ éšè—çŠ¶æ€æ—¶ç§»é™¤é˜´å½± */\n  &.nav-hidden {\n    box-shadow: none;\n  }\n}\n\n/* ğŸ”¥ æ–°å¢ï¼šäºŒçº§åˆ†ç±»æ  */\n.category-bar {\n  position: sticky;\n  top: 112rpx; /* ç´§è´´åœ¨é¡¶éƒ¨å¯¼èˆªæ ä¸‹æ–¹ */\n  z-index: 99;\n  background-color: #ffffff;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 16rpx 24rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  \n  /* å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), \n              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* éšè—çŠ¶æ€æ—¶ç§»é™¤é˜´å½± */\n  &.category-hidden {\n    box-shadow: none;\n  }\n  \n  .category-item {\n    flex: 1;\n    text-align: center;\n    padding: 12rpx 0;\n    position: relative;\n    transition: all 0.3s ease;\n    \n    .category-text {\n      font-size: 28rpx;\n      color: #666;\n      font-weight: 500;\n      transition: color 0.3s;\n    }\n    \n    &.active {\n      .category-text {\n        color: #000;\n        font-weight: 600;\n        font-size: 30rpx;\n      }\n      \n      /* ä¸‹åˆ’çº¿æŒ‡ç¤ºå™¨ */\n      &::after {\n        // content: '';\n        // position: absolute;\n        // bottom: 0;\n        // left: 50%;\n        // transform: translateX(-50%);\n        // width: 40rpx;\n        // height: 4rpx;\n        // background-color: #FFE4B5;\n        // border-radius: 2rpx;\n      }\n    }\n    \n    /* ç‚¹å‡»æ•ˆæœ */\n    &:active {\n      opacity: 0.7;\n    }\n  }\n}\n\n.nav-left {\n  flex-shrink: 0;\r\n  \r\n  /* ğŸ”¥ èœå•æŒ‰é’®æ ·å¼ - æ›¿æ¢åŸæ¥çš„æ¶ˆæ¯æŒ‰é’® */\r\n  .menu-btn {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 72rpx;\r\n    height: 64rpx;\r\n    background: #f5f5f5;\r\n    border-radius: 16rpx;\r\n    transition: all 0.3s ease;\r\n    flex-shrink: 0;\r\n  \r\n    &:active {\r\n      background: #e8e8e8;\r\n      transform: scale(0.95);\r\n    }\r\n  \r\n    .menu-icon {\r\n      font-size: 44rpx;\r\n      color: #333;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  \n}\n\n.filter-icon-btn {\n  width: 80rpx;\n  height: 72rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border-radius: 32rpx;\n  transition: background-color 0.3s;\n  \n  &:active {\n    background-color: transparent;\n  }\n  \n  .filter-icon {\n    font-size: 36rpx;\n  }\n}\n\n.nav-center {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0;\n  margin: 0 20rpx;\n}\n\n.sort-item {\n  padding: 0 24rpx;\n  font-size: 30rpx;\n  color: #666;\n  font-weight: 500;\n  transition: color 0.3s;\n  position: relative;\n  \n  &.active {\n    color: #000;\n    font-weight: 600;\n    \n    &::after {\n      // content: '';\n      // position: absolute;\n      // bottom: -8rpx;\n      // left: 50%;\n      // transform: translateX(-50%);\n      // width: 40rpx;\n      // height: 4rpx;\n      // background-color: #FFE4B5;\n      // border-radius: 2rpx;\n    }\n  }\n}\n\r\n/* ğŸ”¥ğŸ”¥ğŸ”¥ ä¾§è¾¹èœå•é®ç½©å±‚ ğŸ”¥ğŸ”¥ğŸ”¥ */\r\n\t\t.side-menu-overlay {\r\n\t\t  position: fixed;\r\n\t\t  top: 0;\r\n\t\t  left: 0;\r\n\t\t  right: 0;\r\n\t\t  bottom: 0;\r\n\t\t  background: rgba(0, 0, 0, 0);\r\n\t\t  z-index: 9998;\r\n\t\t  opacity: 0;\r\n\t\t  visibility: hidden;\r\n\t\t  transition: all 0.3s ease;\r\n\t\t\r\n\t\t  &.show {\r\n\t\t    opacity: 1;\r\n\t\t    visibility: visible;\r\n\t\t    background: rgba(0, 0, 0, 0.5);\r\n\t\t  }\r\n\t\t}\r\n\t\t\r\n\t\t/* ğŸ”¥ğŸ”¥ğŸ”¥ ä¾§è¾¹èœå•æŠ½å±‰ ğŸ”¥ğŸ”¥ğŸ”¥ */\r\n\t\t.side-menu-drawer {\r\n\t\t  position: fixed;\r\n\t\t  top: 0;\r\n\t\t  left: 0;\r\n\t\t  bottom: 0;\r\n\t\t  width: 560rpx;\r\n\t\t  background: #ffffff;\r\n\t\t  box-shadow: 4rpx 0 24rpx rgba(0, 0, 0, 0.15);\r\n\t\t  transform: translateX(-100%);\r\n\t\t  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t\t  display: flex;\r\n\t\t  flex-direction: column;\r\n\t\t  z-index: 9999;\r\n\t\t\r\n\t\t  &.show {\r\n\t\t    transform: translateX(0);\r\n\t\t  }\r\n\t\t}\r\n\t\t\r\n\t\t/* ğŸ”¥ èœå•å¤´éƒ¨ */\r\n\t\t.menu-header {\r\n\t\t  display: flex;\r\n\t\t  justify-content: space-between;\r\n\t\t  align-items: center;\r\n\t\t  padding: 32rpx 24rpx;\r\n\t\t  background: linear-gradient(135deg, #C00000 0%, #ff4757 100%);\r\n\t\t  box-shadow: 0 4rpx 12rpx rgba(192, 0, 0, 0.1);\r\n\t\t\r\n\t\t  .menu-title {\r\n\t\t    font-size: 36rpx;\r\n\t\t    font-weight: bold;\r\n\t\t    color: #ffffff;\r\n\t\t  }\r\n\t\t\r\n\t\t  .close-btn {\r\n\t\t    width: 56rpx;\r\n\t\t    height: 56rpx;\r\n\t\t    display: flex;\r\n\t\t    align-items: center;\r\n\t\t    justify-content: center;\r\n\t\t    background: rgba(255, 255, 255, 0.2);\r\n\t\t    border-radius: 50%;\r\n\t\t    transition: all 0.3s ease;\r\n\t\t\r\n\t\t    &:active {\r\n\t\t      background: rgba(255, 255, 255, 0.3);\r\n\t\t      transform: scale(0.9);\r\n\t\t    }\r\n\t\t\r\n\t\t    .close-icon {\r\n\t\t      font-size: 40rpx;\r\n\t\t      color: #ffffff;\r\n\t\t      font-weight: bold;\r\n\t\t      line-height: 1;\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\r\n\t\t\r\n\t\t/* ğŸ”¥ èœå•åˆ—è¡¨ */\r\n\t\t.menu-list {\r\n\t\t  flex: 1;\r\n\t\t  padding: 16rpx 0;\r\n\t\t  overflow-y: auto;\r\n\t\t}\r\n\t\t\r\n\t\t.menu-item {\r\n\t\t  display: flex;\r\n\t\t  align-items: center;\r\n\t\t  padding: 32rpx 24rpx;\r\n\t\t  margin: 8rpx 16rpx;\r\n\t\t  background: #f8f9fa;\r\n\t\t  border-radius: 16rpx;\r\n\t\t  transition: all 0.3s ease;\r\n\t\t  border: 2rpx solid transparent;\r\n\t\t\r\n\t\t  &:active {\r\n\t\t    background: #e8ecef;\r\n\t\t    transform: scale(0.98);\r\n\t\t    border-color: #C00000;\r\n\t\t  }\r\n\t\t\r\n\t\t  .menu-item-icon {\r\n\t\t    font-size: 44rpx;\r\n\t\t    margin-right: 20rpx;\r\n\t\t    width: 48rpx;\r\n\t\t    text-align: center;\r\n\t\t  }\r\n\t\t\r\n\t\t  .menu-item-text {\r\n\t\t    flex: 1;\r\n\t\t    font-size: 30rpx;\r\n\t\t    color: #333;\r\n\t\t    font-weight: 500;\r\n\t\t  }\r\n\t\t\r\n\t\t  .menu-arrow {\r\n\t\t    font-size: 48rpx;\r\n\t\t    color: #999;\r\n\t\t    line-height: 1;\r\n\t\t    margin-left: 12rpx;\r\n\t\t  }\r\n\t\t}\r\n\t\t\r\n\t\t/* ğŸ”¥ å“åº”å¼ä¼˜åŒ– - å°å±å¹• */\r\n\t\t@media screen and (max-width: 375px) {\r\n\t\t  .side-menu-drawer {\r\n\t\t    width: 520rpx;\r\n\t\t  }\r\n\t\t\r\n\t\t  .menu-item {\r\n\t\t    padding: 28rpx 20rpx;\r\n\t\t\r\n\t\t    .menu-item-icon {\r\n\t\t      font-size: 40rpx;\r\n\t\t      width: 44rpx;\r\n\t\t    }\r\n\t\t\r\n\t\t    .menu-item-text {\r\n\t\t      font-size: 28rpx;\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\r\n\t\t\n.sort-divider {\n  color: #ddd;\n  font-size: 28rpx;\n  margin: 0 8rpx;\n}\n\n.nav-right {\n  flex-shrink: 0;\n}\n\n.search-icon-btn {\n  width: 80rpx;\n  height: 72rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border-radius: 32rpx;\n  transition: background-color 0.3s;\n  \n  &:active {\n    background-color: transparent;\n  }\n  \n  .search-icon {\n    font-size: 36rpx;\n  }\n}\n.nav-bar-icon {\n    width: 36rpx;\n    height: 36rpx;\n}\n/* ç­›é€‰èœå• */\n.filter-menu {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2000;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding-top: 140rpx;\n  padding-left: 24rpx;\n}\n\n.filter-content {\n  background: #ffffff;\n  border-radius: 16rpx;\n  padding: 0;\n  min-width: 300rpx;\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n}\n\n.filter-option {\n  display: flex;\n  align-items: center;\n  padding: 28rpx 32rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  transition: background-color 0.2s;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  &.active {\n    background-color: #f8f9fa;\n  }\n  \n  &:active {\n    background-color: #f0f0f0;\n  }\n  \n  .option-icon {\n    font-size: 40rpx;\n    margin-right: 20rpx;\n    width: 40rpx;\n    text-align: center;\n  }\n  .option-icon-img {\n        width: 40rpx;\n        height: 40rpx;\n        margin-right: 20rpx;\n    }\n  .option-info {\n    flex: 1;\n    \n    .option-title {\n      font-size: 32rpx;\n      color: #333;\n      font-weight: 500;\n      display: block;\n      margin-bottom: 8rpx;\n    }\n    \n    .option-desc {\n      font-size: 24rpx;\n      color: #999;\n      display: block;\n    }\n  }\n  \n  .check-icon {\n    font-size: 32rpx;\n    color: #C00000;\n    font-weight: bold;\n    margin-left: 16rpx;\n  }\n}\n\n/* æ¶ˆæ¯æç¤º */\n.message-area {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n    z-index: 3000;\n    background-color: rgba(0, 0, 0, 0.75);\n    color: #fff;\n    padding: 20rpx 40rpx;\n    border-radius: 8rpx;\n    font-size: 28rpx;\n    \n    .message-text {\n      white-space: nowrap;\n    }\n  }\n  \n  /* ç€‘å¸ƒæµå¸ƒå±€ï¼ˆè¯é¢˜è®¨è®ºï¼‰ */\n  .waterfall-container {\n    display: flex;\n    padding: 24rpx 16rpx 0;\n    gap: 16rpx;\n    min-height: calc(100vh - 140rpx);\n  }\n  \n/* ğŸ”¥ è°ƒæ•´ï¼šç€‘å¸ƒæµå®¹å™¨ä¹Ÿéœ€è¦é€‚é… */\n.waterfall-container {\n  padding: 16rpx 12rpx 0;\n  \n  .community-page[data-sort-mode=\"latest\"] & {\n    padding-top: 0;\n  }\n}\n  \n  .waterfall-item {\n    width: 100%;\n    margin-bottom: 0;\n  }\n  \n/* ğŸ”¥ è°ƒæ•´ï¼šç€‘å¸ƒæµå®¹å™¨ä¹Ÿéœ€è¦é€‚é… */\n.waterfall-container {\n  padding: 16rpx 12rpx 0;\n  \n  .community-page[data-sort-mode=\"latest\"] & {\n    padding-top: 0;\n  }\n}\n  \n  .waterfall-column {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 12rpx; // å‡å°‘å¡ç‰‡é—´è·\n  }\n  \n  .waterfall-item {\n    width: 100%;\n    margin-bottom: 0;\n  }\n  \n  /* âœ… 1. ç€‘å¸ƒæµå¡ç‰‡ - æ·»åŠ ç‚¹å‡»æ•ˆæœ */\n  .waterfall-card {\n    background: #fff;\n    border-radius: 12rpx;\n    overflow: hidden;\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\n    display: flex;\n    flex-direction: column;\n    \n    // ğŸ”¥ æ–°å¢ï¼šå¹³æ»‘è¿‡æ¸¡åŠ¨ç”»\n    transition: all 0.3s ease;\n    \n    // ğŸ”¥ æ–°å¢ï¼šç‚¹å‡»æ—¶çš„æ•ˆæœ\n    &:active {\n      transform: translateY(-4rpx);\n      box-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.1);\n    }\n    \n    .card-image-wrapper {\n      width: 100%;\n      overflow: hidden;\n      \n      .card-image {\n        width: 100%;\n        display: block;\n        vertical-align: bottom; // æ¶ˆé™¤å›¾ç‰‡åº•éƒ¨é—´éš™\n      }\n    }\n    \n    .card-content {\n      padding: 12rpx 14rpx 6rpx; // ä¸Šä¸‹å·¦å³éƒ½å‹ç¼©\n      \n      .content-text {\n        font-size: 28rpx; // å¢å¤§å­—ä½“\n        color: #333;\n        font-weight: 500; // å¢åŠ å­—é‡\n        line-height: 1.5;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3; // å…è®¸æ˜¾ç¤º3è¡Œ\n        overflow: hidden;\n        word-break: break-all;\n      }\n    }\n    \n    .card-header {\n      display: flex;\n      align-items: center;\n      padding: 6rpx 14rpx; // æè‡´å‹ç¼©\n      gap: 10rpx;\n      \n      .card-avatar {\n        width: 36rpx;\n        height: 36rpx;\n        border-radius: 50%;\n        flex-shrink: 0;\n      }\n      \n      .card-nickname {\n        font-size: 26rpx; // å¢å¤§æ˜µç§°å­—ä½“\n        color: #666;\n        font-weight: 500;\n        flex: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n    \n    .card-footer {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 8rpx 14rpx 10rpx; // åº•éƒ¨ç¨å¤šä¸€ç‚¹\n      border-top: 1rpx solid #f5f5f5;\n      \n      .footer-info {\n        .card-time {\n          font-size: 22rpx; // å¢å¤§æ—¶é—´å­—ä½“\n          color: #999;\n        }\n      }\n      \n      .footer-actions {\n        display: flex;\n        gap: 16rpx;\n        \n        .action-item {\n          display: flex;\n          align-items: center;\n          gap: 6rpx;\n          \n          .like-icon,\n          .comment-icon {\n            font-size: 28rpx; // å¢å¤§å›¾æ ‡\n            color: #999;\n            \n            &.liked {\n              color: #C00000;\n            }\n          }\n          .waterfall-icon {\n                        width: 28rpx;\n                        height: 28rpx;\n                    }\n          .action-count {\n            font-size: 22rpx; // å¢å¤§æ•°å­—å­—ä½“\n            color: #666;\n            font-weight: 500;\n          }\n        }\n      }\n    }\n  }\n\n  \n  /* ğŸ”¥ è°ƒæ•´ï¼šå½“æ˜¾ç¤ºåˆ†ç±»æ æ—¶ï¼Œè°ƒæ•´å¸–å­åˆ—è¡¨çš„ padding-top */\n  .post-list {\n    padding: 24rpx;\n    \n    /* å½“æ˜¾ç¤ºåˆ†ç±»æ æ—¶å¢åŠ é¡¶éƒ¨é—´è· */\n    .community-page[data-sort-mode=\"latest\"] & {\n      padding-top: 0; /* åˆ†ç±»æ ä¼šè‡ªåŠ¨å æ®ç©ºé—´ */\n    }\n  }\n  \n /* âœ… 2. æ™®é€šåˆ—è¡¨ - æ·»åŠ ç‚¹å‡»æ•ˆæœ */\n .post-item {\n   background: #fff;\n   border-radius: 16rpx;\n   padding: 28rpx;\n   margin-bottom: 24rpx;\n   box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\n   \n   // ğŸ”¥ æ–°å¢ï¼šå¹³æ»‘è¿‡æ¸¡åŠ¨ç”»\n   transition: all 0.3s ease;\n   \n   // ğŸ”¥ æ–°å¢ï¼šç‚¹å‡»æ—¶çš„æ•ˆæœ\n   &:active {\n     transform: translateY(-4rpx);\n     box-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.1);\n   }\n    .post-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 20rpx;\n      \n      .user-info {\n        display: flex;\n        align-items: center;\n        gap: 16rpx;\n        flex: 1;\n        \n        .avatar {\n          width: 64rpx;\n          height: 64rpx;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .nickname {\n          font-size: 28rpx;\n          color: #333;\n          font-weight: 500;\n          flex: 1;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n      }\n      \n      .post-time {\n        font-size: 24rpx;\n        color: #999;\n        flex-shrink: 0;\n        margin-left: 16rpx;\n      }\n    }\n    \n    .post-content {\n      margin-bottom: 20rpx;\n      \n      .content-text {\n        font-size: 30rpx;\n        color: #333;\n        line-height: 1.7;\n        word-break: break-all;\n      }\n    }\n    \n    .post-images {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 12rpx;\n      margin-bottom: 20rpx;\n      \n      .post-image {\n        border-radius: 12rpx;\n        background: #f5f5f5;\n        \n        &.single-image {\n          width: 100%;\n          max-height: 600rpx;\n        }\n        \n        &.double-image {\n          width: calc(50% - 6rpx);\n          height: 320rpx;\n        }\n        \n        &.triple-image {\n          width: calc(33.33% - 8rpx);\n          height: 200rpx;\n        }\n      }\n    }\n    \n    .post-footer {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding-top: 20rpx;\n      border-top: 1rpx solid #f5f5f5;\n      \n      .footer-left {\n        display: flex;\n        align-items: center;\n        gap: 16rpx;\n        flex: 1;\n        \n        .tag {\n          font-size: 24rpx;\n          color: #C00000;\n          background: rgba(192, 0, 0, 0.08);\n          padding: 6rpx 16rpx;\n          border-radius: 8rpx;\n        }\n        \n        .view-count {\n          font-size: 24rpx;\n          color: #999;\n        }\n      }\n      \n      .footer-right {\n        display: flex;\n        gap: 24rpx;\n        flex-shrink: 0;\n        \n        .action-item {\n          display: flex;\n          align-items: center;\n          gap: 8rpx;\n          \n          .like-icon,\n          .comment-icon,\n          .goods-icon,\n          .contact-icon {\n            font-size: 32rpx;\n          }\n          .list-icon {\n                        width: 32rpx;\n                        height: 32rpx;\n                    }\n          .like-icon.liked {\n            color: #C00000;\n          }\n          \n          .action-count,\n          .action-text {\n            font-size: 24rpx;\n            color: #666;\n          }\n          \n          &.goods,\n          &.contact {\n            color: #C00000;\n            \n            .action-text {\n              color: #C00000;\n            }\n          }\n        }\n      }\n    }\n  }\n  \n  /* åŠ è½½æ›´å¤š */\n  .load-more {\n    padding: 40rpx 0;\n    \n    .load-more-content {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      \n      .load-text,\n      .no-more-text {\n        font-size: 26rpx;\n        color: #999;\n      }\n    }\n  }\n  \n  /* ç©ºçŠ¶æ€ */\n  .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 120rpx 0;\n    \n    .empty-icon {\n      font-size: 120rpx;\n      margin-bottom: 24rpx;\n    }\n    \n    .empty-text {\n      font-size: 28rpx;\n      color: #999;\n    }\n  }\n  \n  /* å‘å¸–æŒ‰é’® */\n  .publish-btn {\n    position: fixed;\n    right: 32rpx;\n    bottom: 120rpx;\n    width: 112rpx;\n    height: 112rpx;\n    background: linear-gradient(135deg, #C00000 0%, #8B0000 100%);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 8rpx 24rpx rgba(192, 0, 0, 0.35);\n    z-index: 99;\n    transition: transform 0.3s;\n    \n    &:active {\n      transform: scale(0.95);\n    }\n    \n    .publish-icon {\n      font-size: 48rpx;\n      color: #fff;\n    }\n  }\n  </style>\n\n","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./treehole.vue?vue&type=style&index=0&id=0d7ebf74&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./treehole.vue?vue&type=style&index=0&id=0d7ebf74&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1762694881603\n      var cssReload = require(\"D:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}