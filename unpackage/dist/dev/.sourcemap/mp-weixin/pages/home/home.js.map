{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?ae91","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?938c","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?b9f8","uni-app:///pages/home/home.vue","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?0226","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/pages/home/home.vue?19c2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","bannerList","sortMode","categoryMode","postList","page","pageSize","isLoading","isLoadingMore","hasMore","excludePostIds","isReachingBottom","lastReachTime","reachThrottle","isNavFixed","navTop","bannerHeight","scrollTop","navOffsetTop","iconLikeUrl","iconLikedUrl","isPulling","isRefreshing","pullDistance","startY","refreshThreshold","maxPullDistance","lastTouchTime","touchThrottle","showSideMenu","menuGroups","id","items","name","icon","route","bottomActions","action","_loadingStates","pendingLoadMore","pendingTimer","computed","refreshText","leftColumnPosts","rightColumnPosts","onLoad","uni","code","res","onShow","console","onReachBottom","methods","flushPendingLoadMore","onTouchStart","onTouchMove","openSideMenu","title","content","cancelText","confirmText","success","url","closeSideMenu","handleMenuClick","setTimeout","fail","handleBottomAction","onTouchEnd","insertNewPost","post","timeText","images","viewCount","likeCount","commentCount","isLiked","isTopicDiscussion","imageLoaded","imageError","duration","onImageLoad","onImageError","updatePostLikeStatus","selectSortMode","truncateNickname","selectCategory","gotoSearch","gotoFeedback","loadPostList","department","params","openid","filterMode","categoryMap","requestPromise","timeoutPromise","Promise","newPosts","actualNewPostsCount","newPostIds","i","clearTimeout","loadFollowPosts","followingIds","following_ids","loadMore","currentPage","categoryNames","refreshPostList","resetAndReload","gotoPostDetail","gotoUserProfile","payload","nickname","avatarUrl","encodedPayload","toggleLike","post_id","is_like","index","onBannerClick","processPostImages","copyLinkAndNotify","formatTime","showMessageToast","getEmptyText","onPageScroll"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACyJ;AACzJ,gBAAgB,mKAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAA+iB,CAAgB,4jBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC+SnkB;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACA;MACAC;MAEA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MAEA;MACAC;MACAC;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;QACAC;QACAC;UACAC;UACAC;UACAC;QACA,GACA;UACAF;UACAC;UACAC;QACA,GACA;UACAF;UACAC;UACAC;QACA,GACA;UACAF;UACAC;UACAC;QACA,GACA;UACAF;UACAC;UACAC;QACA;MAEA,GACA;QACAJ;QACAC;UACAC;UACAC;UACAC;QACA,GACA;UACAF;UACAC;UACAC;QACA;MAEA,EACA;MACAC;QACAH;QACAC;QACAG;MACA,GACA;QACAJ;QACAC;QACAC;MACA,EACA;MACAG;MACAC;MACAC;IAEA;EACA;EAEAC,sEACA,sEACA,uDACA;IAEA;IACAC;MACA;QACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QAAA;MAAA;IACA;IAEA;IACAC;MACA;QAAA;MAAA;IACA;EAAA,EACA;EAIAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OASA;YAAA;cAAA,KAEA;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACAC;gBAAAC;cAAA;YAAA;cAAA;cAAAC;cACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA;EAEAC;IACAC;;IAEA;IACA;MACAA;;MAEA;MACA;;MAEA;MACA;IACA;EACA;EAEA;EACA;EACA;EAEAC;IAAA;IACA;IAEA;MACA;MACAD;MACA;IACA;IAEA;MAAA;MACA;MACA;QACA;UACA;UACA;QACA;MACA;MACAA;MACA;IACA;IAEA;IACA;EACA;EAEAE,uDACA,4EACA;IAEAC;MACA;MACA;QACA;QACA;MACA;MACA;MAEA;MACA;IACA;IAEA;IACAC;MACA;MACA;MAEA;MACA;MACAJ;IACA;IAEA;IACAK;MACA;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;QACA;MACA;MACA;;MAEA;MACA;QACA;QACAL;MACA;;MAEA;MACA;MACA;MAEAA;IACA;IACAM;MACA;QACA;QACAV;UACAW;UACAC;UACAC;UACAC;UACAC;YACA;cACA;cACAf;gBACAgB;cACA;YACA;YACA;UACA;QACA;;QACA;MACA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MACAC;QACAnB;UACAgB;UACAI;YACApB;cAAAW;cAAAvB;YAAA;UACA;QACA;MACA;IACA;IAEAiC;MACA;MACA;QACArB;UAAAgB;QAAA;MACA;MACA;IACA;IACA;IACAM;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBAAA;cAAA;gBAIAlB;gBAEA;;gBAEA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACAA;gBACA;;gBAEA;gBACA;gBAAA;gBAAA;gBAAA,OAIA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;gBAAA;gBAEA;gBACAe;kBACA;kBACA;kBACA;gBACA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAGA;gBACAf;;gBAEA;gBACAe;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA;IACAI;MACA;;MAEA;MACA;QAAA;MAAA;MACA;QACAnB;QACA;MACA;;MAEA;MACA,oDACAoB;QACAvC;QAAA;QACAwC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;QACAC;MAAA,EACA;;MAEA;MACA;MACA7B;;MAEA;MACAJ;QACAW;QACAvB;QACA8C;MACA;IACA;IAGA;IACAC;MACA;MACA/B;IACA;IAEA;IACAgC;MACA;MACAhC;;MAEA;MACA;QAAA;MAAA;MACA;QACA;MACA;IACA;IAEA;IACAiC;MACA;QAAAP;QAAAF;MAEAxB;;MAEA;MACA;QAAA;MAAA;MACAA;MACAA;MACA;QACA;QACA;QACA;;QAEA;QACA;QAEAA;UACA0B;UACAF;QACA;MACA;QACAxB;MACA;IACA;IAEA;IACAkC;MACA;QACAtC;UAAA7B;UAAA+D;QAAA;QACA;MACA;MAEA;QACA;QACAlC;UACAW;UACAC;UACAC;UACAC;UACAC;YACA;cACA;cACAf;gBACAgB;cACA;YACA;YACA;UACA;QACA;;QACA;MACA;MAEAZ;MAEAJ;QAAA7B;QAAA+D;MAAA;MAEA;MAEA;QACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MAEA;IACA;IAIA;IACAK;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACA;IACAC;MACA;QACAxC;UAAA7B;UAAA+D;QAAA;QACA;MACA;MAEA9B;MAEA;;MAEA;MACA;MACA;MACA;MACA;MACA;;MAEA;IACA;IAMA;IACAqC;MACAzC;QACAgB;MACA;IACA;IAEA0B;MACA1C;QACAgB;MACA;IACA;IAEA2B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,KAGA;kBAAA;kBAAA;gBAAA;gBACAvC;gBAAA;cAAA;gBAIA;gBACAwC;gBAEAC;kBACAtF;kBACAC;kBACAsF;kBACAF;kBACAG;kBACAhB;kBACAnE;gBACA,GAEA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;kBACAiF;gBACA;kBACAG;oBACA;oBACA;oBACA;kBACA;kBACAH;gBACA;gBAAA;gBAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACAA;gBAAA;gBAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;cAAA;gBAGAzC;;gBAEA;gBACA6C;gBACAC;kBAAA,OACA/B;oBAAA;kBAAA;gBAAA,EACA;gBAAA;gBAAA,OAEAgC;cAAA;gBAAA;gBAAAjD;gBAAA,MAEAA;kBAAA;kBAAA;gBAAA;gBACAkD;kBAAA,uCACA5B;oBACAvC;oBACAwC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;kBAAA;gBAAA,CACA;gBAEAoB;gBACAjD;;gBAEA;gBACA;kBACAkD;oBAAA;kBAAA;kBACA;kBACAlD;gBACA;;gBAEA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAGAmD;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;kBAAA;gBAAA;cAAA;gBAHAA;gBAAA;gBAAA;cAAA;gBAQA;gBACA;kBACA;kBACA;kBACAnD;gBACA;kBACA;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAEAA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAA;gBACA;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBACA;gBACA;kBACAoD;kBACA;gBACA;gBACA;kBAAA;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAOA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACAtD;gBACA;gBACA;gBACA;gBACA;gBAAA;cAAA;gBAIAyC;kBACAtF;kBACAC;kBACAsF;kBACAa;gBACA;gBAEAvD;gBAAA;gBAAA,OAEAJ;cAAA;gBAAA;gBAAAE;gBAEA;kBACAkD;oBAAA,uCACA5B;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;oBAAA;kBAAA,CACA;kBAEA;oBACA;kBACA;oBACA;kBACA;kBAEA;kBACA1B;gBACA;kBACAA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA;IACAwD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACAxD;gBAAA;cAAA;gBAAA,MAKA;kBAAA;kBAAA;gBAAA;gBACAA;gBAAA;cAAA;gBAIA;gBACA;gBACA;;gBAEA;gBACAyD;gBAAA;gBAGA;gBACAzD;gBAAA;gBAAA,OAEA;cAAA;gBAEAA;;gBAEA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACA0D;kBACA;kBACA;kBACA;kBACA;gBACA;gBAEA1D;gBAEAJ;kBACAW;kBACAvB;kBACA8C;gBACA;;gBAEA;gBACAf;kBACAf;kBACA;kBACA;kBACA;kBACA;;kBAEA;kBACA;kBACA;kBACA;gBACA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAMAA;;gBAEA;gBACA;gBAEAJ;kBACAW;kBACAvB;kBACA8C;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBACA;gBACA;kBAAA;gBAAA;gBAEA9B;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAMA2D;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA3D;;gBAEA;gBACA;kBACAA;gBACA;kBACA;kBACA;kBACAA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OAEA;cAAA;gBAAA,MAGA;kBAAA;kBAAA;gBAAA;gBACAA;gBAEAJ;kBACAW;kBACAvB;kBACA8C;gBACA;;gBAEA;gBACAf;kBAAA;oBAAA;sBAAA;wBAAA;0BACA;0BACA;0BACA;0BACA;0BAAA;0BAAA,OACA;wBAAA;0BACAnB;wBAAA;wBAAA;0BAAA;sBAAA;oBAAA;kBAAA;gBAAA,CACA;gBAAA;cAAA;gBAKA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAI;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAKA;IACA4D;MACA;MACA;;MAEA;MACA;MACA;QACA;QACA5D;MACA;QACA;QACA;QACAA;MACA;MAEA;MACA;IACA;IAGA;IACA6D;MACA;MACAjE;QACAgB;MACA;IACA;IAEA;IACAkD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBACAlE;kBACAW;kBACAC;kBACAC;kBACAC;kBACAC;oBACA;sBACA;sBACAf;wBACAgB;sBACA;oBACA;oBACA;kBACA;gBACA;gBAAA;cAAA;gBAAA,IAIAQ;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA,MAGAA;kBAAA;kBAAA;gBAAA;gBACAxB;kBACAgB;gBACA;gBAAA;cAAA;gBAIA;gBACAmD;kBACArB;kBACAsB;kBACAC;gBACA;gBAEAC;gBACAtE;kBACAgB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAuD;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBACA;gBACAvE;kBACAW;kBACAC;kBACAC;kBACAC;kBACAC;oBACA;sBACA;sBACAf;wBACAgB;sBACA;oBACA;oBACA;kBACA;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAIAhB;kBACAwE;kBACA1B;kBACA2B;gBACA;cAAA;gBAAA;gBAJAvE;gBAMA;kBACAwE;oBAAA;kBAAA;kBACA;oBACA;oBACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAtE;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAuE;MACA;QACA;UACA3E;YAAAgB;UAAA;UACA;QACA;UACA;UACA;QACA;UACAZ;MAAA;IAEA;IAEA;IACAwE;MACA;MAEA;QACA;UACA;QACA;UACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA7E;QACA9C;QACA6D;UACAf;YACAW;YACAvB;YACA8C;UACA;QACA;MACA;IACA;IAEA;IACA4C;MACA;MACA;MACA;MAEA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA/E;QACAW;QACAvB;QACA8C;MACA;IACA;IAEA;IACA8C;MACA;QACA;MACA;MAEA;QACA;MACA;MAEA;QACA;QACA;QACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;;MAEA;MACA;MAEA;QACA;QACA;UACA;UACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;AC52CA;AAAA;AAAA;AAAA;AAAkjC,CAAgB,mgCAAG,EAAC,C;;;;;;;;;;;ACAtkC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=92bb8f34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.pullDistance > 0 ? Math.min(_vm.pullDistance / 60, 1) : null\n  var g1 = !(_vm.isLoading && _vm.page === 1) ? _vm.postList.length : null\n  var l0 =\n    !(_vm.isLoading && _vm.page === 1) && g1 > 0\n      ? _vm.__map(_vm.leftColumnPosts, function (post, __i0__) {\n          var $orig = _vm.__get_orig(post)\n          var g2 = post.images && post.images.length > 0\n          var m0 = _vm.truncateNickname(post.nickname)\n          return {\n            $orig: $orig,\n            g2: g2,\n            m0: m0,\n          }\n        })\n      : null\n  var l1 =\n    !(_vm.isLoading && _vm.page === 1) && g1 > 0\n      ? _vm.__map(_vm.rightColumnPosts, function (post, __i1__) {\n          var $orig = _vm.__get_orig(post)\n          var g3 = post.images && post.images.length > 0\n          var m1 = _vm.truncateNickname(post.nickname)\n          return {\n            $orig: $orig,\n            g3: g3,\n            m1: m1,\n          }\n        })\n      : null\n  var m2 =\n    !(_vm.isLoading && _vm.page === 1) && !(g1 > 0) ? _vm.getEmptyText() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l0: l0,\n        l1: l1,\n        m2: m2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"","<template>\n\t <view class=\"index-page-wrapper\">\n\t        <view \n\t              class=\"index-page\" \n\t              @touchstart=\"onTouchStart\"\n\t              @touchmove=\"onTouchMove\"\n\t              @touchend=\"onTouchEnd\"\n\t            >\n\t            \n\t\t\n\t\t\t<!-- ğŸ”¥ ä¿®æ”¹ï¼šå…¬å‘Šæ  - æ•´ä¸ªåŒºåŸŸéƒ½å¯ç‚¹å‡» -->\n\t\t\t<button class=\"notice-bar-wrapper\" @click=\"gotoFeedback\">\n\t\t\t\t<view class=\"notice-bar\">\n\t\t\t\t\t<view class=\"notice-icon\">ğŸ“¢</view>\n\t\t\t\t\t<view class=\"notice-content\">\n\t\t\t\t\t\t<text class=\"notice-text\">è¯·ç‚¹å‡»æ­¤å¤„å‘æˆ‘ä»¬åé¦ˆé—®é¢˜</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"notice-arrow\">â€º</view>\n\t\t\t\t</view>\n\t\t\t</button>\n\t\t\t\n\t\t\t<view class=\"primary-nav\" :class=\"{ 'is-fixed': isNavFixed }\" :style=\"{ top: navTop + 'px' }\">\r\n\t\t\t  <view class=\"nav-left\">\r\n\t\t\t    <view class=\"menu-btn\" @click=\"openSideMenu\">\r\n\t\t\t      <image \r\n\t\t\t        class=\"menu-icon-img\" \r\n\t\t\t        src=\"https://wait00.oss-cn-shanghai.aliyuncs.com/label/shaixuan.png\" \r\n\t\t\t        mode=\"aspectFit\"\r\n\t\t\t      ></image>\r\n\t\t\t    </view>\r\n\t\t\t  </view>\r\n\t\t\t  \r\n\t\t\t  \r\n\t\t\t\r\n\t\t\t  <view class=\"nav-center\">\r\n\t\t\t    <view class=\"nav-tab\" :class=\"{ active: sortMode === 'discover' }\" @click=\"selectSortMode('discover')\">\r\n\t\t\t      <text class=\"nav-text\">å‘ç°</text>\r\n\t\t\t      <view class=\"nav-indicator\" v-if=\"sortMode === 'discover'\"></view>\r\n\t\t\t    </view>\r\n\t\t\t\r\n\t\t\t    <view class=\"sort-divider\">|</view>\r\n\t\t\t\r\n\t\t\t    <view class=\"nav-tab\" :class=\"{ active: sortMode === 'follow' }\" @click=\"selectSortMode('follow')\">\r\n\t\t\t      <text class=\"nav-text\">å…³æ³¨</text>\r\n\t\t\t      <view class=\"nav-indicator\" v-if=\"sortMode === 'follow'\"></view>\r\n\t\t\t    </view>\r\n\t\t\t\r\n\t\t\t    <view class=\"sort-divider\">|</view>\r\n\t\t\t\r\n\t\t\t    <view class=\"nav-tab\" :class=\"{ active: sortMode === 'latest' }\" @click=\"selectSortMode('latest')\">\r\n\t\t\t      <text class=\"nav-text\">æœ€æ–°</text>\r\n\t\t\t      <view class=\"nav-indicator\" v-if=\"sortMode === 'latest'\"></view>\r\n\t\t\t    </view>\r\n\t\t\t  </view>\r\n\t\t\t<view class=\"nav-right\">\r\n\t\t\t  <view class=\"search-btn\" @click=\"gotoSearch\">\r\n\t\t\t    <image \r\n\t\t\t      class=\"search-icon-img\" \r\n\t\t\t      src=\"https://wait00.oss-cn-shanghai.aliyuncs.com/label/searchupdate.png\" \r\n\t\t\t      mode=\"aspectFit\"\r\n\t\t\t    ></image>\r\n\t\t\t  </view>\r\n\t\t\t</view>\r\n\t\t\t  \r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"side-menu-overlay\" :class=\"{ 'show': showSideMenu }\" @click=\"closeSideMenu\"></view>\r\n\t\t\t\r\n\t\t\t<view class=\"side-menu-drawer\" :class=\"{ 'show': showSideMenu }\" @click.stop>\r\n\t\t\t  <scroll-view class=\"menu-scroll-area\" scroll-y>\r\n\t\t\t    <view class=\"drawer-spacer\"></view> <view class=\"group-card\" v-for=\"(group, gIndex) in menuGroups\" :key=\"group.id\">\r\n\t\t\t      <view class=\"menu-row\" v-for=\"(item, iIndex) in group.items\" :key=\"iIndex\" @click=\"handleMenuClick(item)\">\r\n\t\t\t        <view class=\"icon-wrapper\">\r\n\t\t\t          <image class=\"menu-icon-img\" :src=\"item.icon\" mode=\"aspectFit\"></image>\r\n\t\t\t        </view>\r\n\t\t\t        <text class=\"menu-text\">{{ item.name }}</text>\r\n\t\t\t        <view class=\"menu-right\">\r\n\t\t\t          <text v-if=\"item.count\" class=\"info-count\">{{ item.count }}</text>\r\n\t\t\t          <view v-if=\"item.badge\" class=\"red-dot\"></view>\r\n\t\t\t        </view>\r\n\t\t\t      </view>\r\n\t\t\t    </view>\r\n\t\t\t    <view class=\"bottom-spacer\"></view>\r\n\t\t\t  </scroll-view>\r\n\t\t\t\r\n\t\t\t  <view class=\"drawer-bottom\">\r\n\t\t\t    <view class=\"bottom-item\" v-for=\"(action, index) in bottomActions\" :key=\"index\" @click=\"handleBottomAction(action)\">\r\n\t\t\t      <view class=\"bottom-icon-wrapper\">\r\n\t\t\t        <button class=\"icon-btn-reset\" open-type=\"contact\" v-if=\"action.action === 'help'\">\r\n\t\t\t          <image class=\"bottom-icon-img\" :src=\"action.icon\" mode=\"aspectFit\"></image>\r\n\t\t\t        </button>\r\n\t\t\t        <image class=\"bottom-icon-img\" :src=\"action.icon\" mode=\"aspectFit\" v-if=\"action.action !== 'help'\"></image>\r\n\t\t\t      </view>\r\n\t\t\t      <text class=\"bottom-text\">{{ action.name }}</text>\r\n\t\t\t    </view>\r\n\t\t\t  </view>\r\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- âœ… äºŒçº§åˆ†ç±»å¯¼èˆªæ ï¼ˆä»…åœ¨\"å‘ç°\"æ¨¡å¼ä¸‹æ˜¾ç¤ºï¼‰ -->\n\t\t\t<view class=\"category-nav\" v-if=\"sortMode === 'discover'\">\r\n\t\t\t    <view class=\"category-bar-inner\">\r\n\t\t\t        <view \r\n\t\t\t            class=\"category-item\"\r\n\t\t\t            :class=\"{ active: categoryMode === 'recommend' }\"\r\n\t\t\t            @click=\"selectCategory('recommend')\"\r\n\t\t\t        >\r\n\t\t\t            <text class=\"category-text\">æ¨è</text>\r\n\t\t\t        </view>\r\n\t\t\t        \r\n\t\t\t        <view \r\n\t\t\t            class=\"category-item\"\r\n\t\t\t            :class=\"{ active: categoryMode === 'daily' }\"\r\n\t\t\t            @click=\"selectCategory('daily')\"\r\n\t\t\t        >\r\n\t\t\t            <text class=\"category-text\">æ—¥å¸¸</text>\r\n\t\t\t        </view>\r\n\t\t\t        \r\n\t\t\t        <view \r\n\t\t\t            class=\"category-item\"\r\n\t\t\t            :class=\"{ active: categoryMode === 'friend' }\"\r\n\t\t\t            @click=\"selectCategory('friend')\"\r\n\t\t\t        >\r\n\t\t\t            <text class=\"category-text\">è¯¢é—®</text>\r\n\t\t\t        </view>\r\n\t\t\t        \r\n\t\t\t        <view \r\n\t\t\t            class=\"category-item\"\r\n\t\t\t            :class=\"{ active: categoryMode === 'complaint' }\"\r\n\t\t\t            @click=\"selectCategory('complaint')\"\r\n\t\t\t        >\r\n\t\t\t            <text class=\"category-text\">åæ§½</text>\r\n\t\t\t        </view>\r\n\t\t\t    </view>\r\n\t\t\t</view>\n\t\t\t<!-- ğŸ”¥ è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶ - åŠ¨æ€è°ƒæ•´ z-index -->\n\t\t\t  <!-- ğŸ”¥ è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶ - ä½¿ç”¨ fixed å®šä½ -->\n\t\t\t<view \n\t\t\t  class=\"custom-refresh-wrapper\"\n\t\t\t  :class=\"{ \n\t\t\t    'is-refreshing': isRefreshing,\n\t\t\t    'show': pullDistance > 0 \n\t\t\t  }\"\n\t\t\t  :style=\"{ \n\t\t\t    height: pullDistance + 'px',\n\t\t\t    opacity: pullDistance > 0 ? Math.min(pullDistance / 60, 1) : 0\n\t\t\t  }\"\n\t\t\t>\n\t\t\t<view class=\"refresh-content\">\n\t\t\t<image \n\t\t\t  class=\"refresh-icon\" \n\t\t\t  :class=\"{ 'rotating': isRefreshing }\"\n\t\t\t  src=\"https://img.xinshi00.com/emoji/emoji-small/5mojing.png\"  \n\t\t\t  mode=\"aspectFit\"\n\t\t\t></image>\n\t\t\t<text class=\"refresh-text\">{{ refreshText }}</text>\n\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- âœ… å†…å®¹åŒºåŸŸ -->\n\t\t\t<view class=\"content-section\">\n\t\t\t\t<!-- åŠ è½½çŠ¶æ€ -->\n\t\t\t\t<view class=\"loading-container\" v-if=\"isLoading && page === 1\">\n\t\t\t\t\t<text class=\"loading-text\">åŠ è½½ä¸­...</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- âœ… åŒåˆ—ç€‘å¸ƒæµå¸ƒå±€ -->\n\t\t\t\t<view class=\"waterfall-container\" v-else-if=\"postList.length > 0\">\n\t\t\t\t\t<!-- å·¦åˆ— -->\n\t\t\t\t\t<!-- å·¦åˆ— - ä¿®å¤å -->\r\n\t\t\t\t\t<view class=\"waterfall-column\">\r\n\t\t\t\t\t    <view \r\n\t\t\t\t\t        class=\"waterfall-item\" \r\n\t\t\t\t\t        v-for=\"post in leftColumnPosts\" \r\n\t\t\t\t\t        :key=\"post.id\"\r\n\t\t\t\t\t    >\r\n\t\t\t\t\t        <view class=\"waterfall-card\">\r\n\t\t\t\t\t            <!-- ğŸ”¥ ä¿®å¤ï¼šå›¾ç‰‡åŠ è½½ä¼˜åŒ– -->\r\n\t\t\t\t\t            <view \r\n\t\t\t\t\t                class=\"card-image-wrapper\" \r\n\t\t\t\t\t                v-if=\"post.images && post.images.length > 0\" \r\n\t\t\t\t\t                @click=\"gotoPostDetail(post)\"\r\n\t\t\t\t\t            >\r\n\t\t\t\t\t                <view class=\"image-placeholder\" :class=\"{ 'image-loaded': post.imageLoaded }\">\r\n\t\t\t\t\t                    <view class=\"skeleton-box\" v-if=\"!post.imageLoaded\"></view>\r\n\t\t\t\t\t                    <image \r\n\t\t\t\t\t                        class=\"card-image\"\r\n\t\t\t\t\t                        :src=\"post.images[0]\" \r\n\t\t\t\t\t                        mode=\"widthFix\"\r\n\t\t\t\t\t                        :lazy-load=\"true\"\r\n\t\t\t\t\t                        :webp=\"true\"\r\n\t\t\t\t\t                        :show-menu-by-longpress=\"false\"\r\n\t\t\t\t\t                        @load=\"onImageLoad(post)\"\r\n\t\t\t\t\t                        @error=\"onImageError(post)\"\r\n\t\t\t\t\t                    ></image>\r\n\t\t\t\t\t                </view>\r\n\t\t\t\t\t            </view>\r\n\t\t\t\t\t            \r\n\t\t\t\t\t            <!-- å†…å®¹ -->\r\n\t\t\t\t\t            <view class=\"card-content\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t                <text class=\"content-text\">{{ post.content }}</text>\r\n\t\t\t\t\t            </view>\r\n\t\t\t\t\t            \r\n\t\t\t\t\t            <!-- ç”¨æˆ·ä¿¡æ¯å’Œç‚¹èµ -->\r\n\t\t\t\t\t            <view class=\"card-header\">\r\n\t\t\t\t\t                <view class=\"user-info\" @click=\"gotoUserProfile(post)\">\r\n\t\t\t\t\t                    <image \r\n\t\t\t\t\t                        class=\"card-avatar\" \r\n\t\t\t\t\t                        :src=\"post.avatar\"\r\n\t\t\t\t\t                        mode=\"aspectFill\"\r\n\t\t\t\t\t                        :lazy-load=\"true\"\r\n\t\t\t\t\t                        :webp=\"true\"\r\n\t\t\t\t\t                    ></image>\r\n\t\t\t\t\t                    <text class=\"card-nickname\">{{ truncateNickname(post.nickname) }}</text>\r\n\t\t\t\t\t                </view>\r\n\t\t\t\t\t                \r\n\t\t\t\t\t                <view class=\"like-action\" @click.stop=\"toggleLike(post)\">\r\n\t\t\t\t\t                    <image\r\n\t\t\t\t\t                        class=\"like-icon-img\"\r\n\t\t\t\t\t                        :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\"\r\n\t\t\t\t\t                        mode=\"aspectFit\"\r\n\t\t\t\t\t                    ></image>\r\n\t\t\t\t\t                    <text class=\"action-count\">{{ post.likeCount }}</text>\r\n\t\t\t\t\t                </view>\r\n\t\t\t\t\t            </view>\r\n\t\t\t\t\t        </view>\r\n\t\t\t\t\t    </view>\r\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- å³åˆ— -->\n\t\t\t\t\t<view class=\"waterfall-column\">\n\t\t\t\t\t    <view \n\t\t\t\t\t        class=\"waterfall-item\" \n\t\t\t\t\t        v-for=\"post in rightColumnPosts\" \n\t\t\t\t\t        :key=\"post.id\"\n\t\t\t\t\t    >\n\t\t\t\t\t        <view class=\"waterfall-card\">\n\t\t\t\t\t            <view \n\t\t\t\t\t                class=\"card-image-wrapper\" \n\t\t\t\t\t                v-if=\"post.images && post.images.length > 0\" \n\t\t\t\t\t                @click=\"gotoPostDetail(post)\"\n\t\t\t\t\t            >\n\t\t\t\t\t                <view class=\"image-placeholder\" :class=\"{ 'image-loaded': post.imageLoaded }\">\n\t\t\t\t\t                    <view class=\"skeleton-box\" v-if=\"!post.imageLoaded\"></view>\n\t\t\t\t\t                   <!-- å³åˆ— - è¡¥å……ä¼˜åŒ– -->\r\n\t\t\t\t\t                   <image \r\n\t\t\t\t\t                       class=\"card-image\"\r\n\t\t\t\t\t                       :src=\"post.images[0]\" \r\n\t\t\t\t\t                       mode=\"widthFix\"\r\n\t\t\t\t\t                       :lazy-load=\"true\"\r\n\t\t\t\t\t                       :webp=\"true\"\r\n\t\t\t\t\t                       :show-menu-by-longpress=\"false\"\r\n\t\t\t\t\t                       @load=\"onImageLoad(post)\"\r\n\t\t\t\t\t                       @error=\"onImageError(post)\"\r\n\t\t\t\t\t                   ></image>\n\t\t\t\t\t                </view>\n\t\t\t\t\t            </view>\n\t\t\t\t\t            \n\t\t\t\t\t            <view class=\"card-content\" @click=\"gotoPostDetail(post)\">\n\t\t\t\t\t                <text class=\"content-text\">{{ post.content }}</text>\n\t\t\t\t\t            </view>\n\t\t\t\t\t            \n\t\t\t\t\t            <view class=\"card-header\">\n\t\t\t\t\t                <view class=\"user-info\" @click=\"gotoUserProfile(post)\">\n\t\t\t\t\t                   <!-- å¤´åƒä¹ŸåŠ ä¸Šæ‡’åŠ è½½ -->\r\n\t\t\t\t\t                   <image \r\n\t\t\t\t\t                       class=\"card-avatar\" \r\n\t\t\t\t\t                       :src=\"post.avatar\"\r\n\t\t\t\t\t                       mode=\"aspectFill\"\r\n\t\t\t\t\t                       :lazy-load=\"true\"\r\n\t\t\t\t\t                       :webp=\"true\"\r\n\t\t\t\t\t                   ></image>\n\t\t\t\t\t                    <text class=\"card-nickname\">{{ truncateNickname(post.nickname) }}</text>\n\t\t\t\t\t                </view>\n\t\t\t\t\t                \n\t\t\t\t\t                <view class=\"like-action\" @click.stop=\"toggleLike(post)\">\n\t\t\t\t\t                    <image\n\t\t\t\t\t                        class=\"like-icon-img\"\n\t\t\t\t\t                        :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\"\n\t\t\t\t\t                        mode=\"aspectFit\"\n\t\t\t\t\t                    ></image>\n\t\t\t\t\t                    <text class=\"action-count\">{{ post.likeCount }}</text>\n\t\t\t\t\t                </view>\n\t\t\t\t\t            </view>\n\t\t\t\t\t        </view>\n\t\t\t\t\t    </view>\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- ç©ºçŠ¶æ€ -->\n\t\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t\t<text class=\"empty-icon\">ğŸ“­</text>\n\t\t\t\t\t<text class=\"empty-text\">{{ getEmptyText() }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- åº•éƒ¨é—´è· -->\n\t\t\t<view class=\"bottom-spacing\"></view>\n\t    </view>\n\t</view>\n</template>\n\n<script>\n\timport { mapState, mapMutations, mapGetters } from 'vuex';\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// è½®æ’­å›¾æ•°æ®\n\t\t\t\tbannerList: [],\n\t\t\t\t\n\t\t\t\t// âœ… å¯¼èˆªå’Œåˆ†ç±»\n\t\t\t\tsortMode: 'discover', // discover(å‘ç°) / follow(å…³æ³¨) / latest(æœ€æ–°)\n\t\t\t\tcategoryMode: 'recommend', // recommend(æ¨è) / daily(æ—¥å¸¸) / friend(äº¤å‹) / complaint(åæ§½)\n\t\t\t\t\n\t\t\t\t// âœ… å¸–å­åˆ—è¡¨\n\t\t\t\tpostList: [],\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 6,\n\t\t\t\tisLoading: false,\n\t\t\t\tisLoadingMore: false,\n\t\t\t\thasMore: true,\n\t\t\t\t\n\t\t\t\t// âœ… æ¨èæ¨¡å¼æ’é™¤åˆ—è¡¨\n\t\t\t\texcludePostIds: [],\n\t\t\t\t\n\t\t\t\t// é˜²æŠ–ç›¸å…³\n\t\t\t\tisReachingBottom: false,\n\t\t\t\tlastReachTime: 0,\n\t\t\t\treachThrottle: 500,\n\t\t\t\t// âœ… å¯¼èˆªæ å¸é¡¶ç›¸å…³\n\t\t\t\tisNavFixed: false,     // æ˜¯å¦å›ºå®š\n\t\t\t\tnavTop: 0,              // å¯¼èˆªæ çš„ top å€¼\n\t\t\t\tbannerHeight: 300,      // è½®æ’­å›¾é«˜åº¦ï¼ˆrpx è½¬ px åçš„å€¼ï¼‰\n\t\t\t\tscrollTop: 0,           // å½“å‰æ»šåŠ¨ä½ç½®\n\t\t\t\tnavOffsetTop: 0,        // ğŸ†• å¯¼èˆªæ åˆå§‹ä½ç½®ï¼ˆè·ç¦»é¡µé¢é¡¶éƒ¨çš„è·ç¦»ï¼‰\n\t\t\t\ticonLikeUrl: 'https://img.xinshi00.com/label/like.png',\n\t\t\t\ticonLikedUrl: 'https://img.xinshi00.com/label/liked.png',\n\t\t\t\t// ğŸ”¥ æ–°å¢ï¼šè‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°ç›¸å…³\n\t\t\t\t        isPulling: false,        // æ˜¯å¦æ­£åœ¨ä¸‹æ‹‰\n\t\t\t\t        isRefreshing: false,     // æ˜¯å¦æ­£åœ¨åˆ·æ–°\n\t\t\t\t        pullDistance: 0,         // ä¸‹æ‹‰è·ç¦»\n\t\t\t\t        startY: 0,               // è§¦æ‘¸èµ·å§‹ä½ç½®\n\t\t\t\t        refreshThreshold: 80,    // è§¦å‘åˆ·æ–°çš„é˜ˆå€¼ï¼ˆpxï¼‰\n\t\t\t\t\t\t\n\t\t\t\t        maxPullDistance: 120,     // æœ€å¤§ä¸‹æ‹‰è·ç¦»ï¼ˆpxï¼‰\n\t\t\t\t\t\t lastTouchTime: 0,        // ğŸ†• æ–°å¢ï¼šä¸Šæ¬¡è§¦æ‘¸æ—¶é—´\n\t\t\t\t\t\t      touchThrottle: 16,       // ğŸ†• æ–°å¢ï¼šèŠ‚æµé—´éš”ï¼ˆçº¦60fpsï¼‰\n\t\t\t\tshowSideMenu: false, // æ§åˆ¶ä¾§è¾¹æ æ˜¾ç¤º\r\n\t\t\t\t// èœå•æ•°æ®\r\n\t\t\t\tmenuGroups: [{\r\n\t\t\t\t    id: 'content',\r\n\t\t\t\t    items: [{\r\n\t\t\t\t        name: 'æˆ‘çš„ä½œå“',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/photo.png',\r\n\t\t\t\t        route: '/subpkg/my-posts/my-posts'\r\n\t\t\t\t      },\r\n\t\t\t\t      {\r\n\t\t\t\t        name: 'æˆ‘çš„ç‚¹èµ',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/like.png',\r\n\t\t\t\t        route: '/subpkg/like/like'\r\n\t\t\t\t      },\r\n\t\t\t\t      {\r\n\t\t\t\t        name: 'æˆ‘çš„è¯„è®º',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/jianpan.png',\r\n\t\t\t\t        route: '/subpkg/my-post-comments/my-post-comments'\r\n\t\t\t\t      },\r\n\t\t\t\t      {\r\n\t\t\t\t        name: 'æˆ‘çš„æ¶ˆæ¯',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/chat.png',\r\n\t\t\t\t        route: '/pages/message/message'\r\n\t\t\t\t      },\r\n\t\t\t\t      {\r\n\t\t\t\t        name: 'æˆ‘çš„åˆ é™¤',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/shanchu.png',\r\n\t\t\t\t        route: '/subpkg/my-deleted-posts/my-deleted-posts'\r\n\t\t\t\t      }\r\n\t\t\t\t    ]\r\n\t\t\t\t  },\r\n\t\t\t\t  {\r\n\t\t\t\t    id: 'system',\r\n\t\t\t\t    items: [{\r\n\t\t\t\t        name: 'å°é»‘æ¿',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/school.png',\r\n\t\t\t\t        route: '/subpkg/board/board'\r\n\t\t\t\t      },\r\n\t\t\t\t      {\r\n\t\t\t\t        name: 'ç¤¾åŒºå…¬çº¦',\r\n\t\t\t\t        icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/department.png',\r\n\t\t\t\t        route: '/subpkg/rules/rules'\r\n\t\t\t\t      }\r\n\t\t\t\t    ]\r\n\t\t\t\t  }\r\n\t\t\t\t],\r\n\t\t\t\tbottomActions: [{\r\n\t\t\t\t    name: 'å¸®åŠ©ä¸å®¢æœ',\r\n\t\t\t\t    icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/bottom-kefu.png',\r\n\t\t\t\t    action: 'help'\r\n\t\t\t\t  },\r\n\t\t\t\t  {\r\n\t\t\t\t    name: 'è®¾ç½®',\r\n\t\t\t\t    icon: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/bottom-shezhi.png',\r\n\t\t\t\t    route: '/subpkg/edit/edit'\r\n\t\t\t\t  }\r\n\t\t\t\t],\r\n\t\t\t\t_loadingStates: [],\r\n\t\t\t\tpendingLoadMore: false,\r\n\t\t\t\t    pendingTimer: null,\r\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\t\n\t\tcomputed: {\n\t\t\t...mapState('m_user', ['openid', 'userBase', 'preference']),\n\t\t\t...mapState('m_posts', ['newPublishedPost']),\n\t\t\t...mapGetters('m_posts', ['shouldShowNewPost']),\n\t\t\t\n\t\t\t // ğŸ”¥ æ–°å¢ï¼šåˆ·æ–°æç¤ºæ–‡æœ¬\n\t\t\t    refreshText() {\n\t\t\t        if (this.isRefreshing) {\n\t\t\t            return 'æ­£åœ¨åˆ·æ–°...'\n\t\t\t        } else if (this.pullDistance >= this.refreshThreshold) {\n\t\t\t            return 'æ¾å¼€åˆ·æ–°'\n\t\t\t        } else if (this.isPulling) {\n\t\t\t            return 'ä¸‹æ‹‰åˆ·æ–°'\n\t\t\t        }\n\t\t\t        return ''\n\t\t\t    },\n\t\t\t\t\n\t\t\t// å·¦åˆ—å¸–å­\n\t\t\tleftColumnPosts() {\n\t\t\t\treturn this.postList.filter((_, index) => index % 2 === 0)\n\t\t\t},\n\t\t\t\n\t\t\t// å³åˆ—å¸–å­\n\t\t\trightColumnPosts() {\n\t\t\t\treturn this.postList.filter((_, index) => index % 2 === 1)\n\t\t\t}\n\t\t},\r\n\t\t\r\n\t\t\n\t\t\n\t\tasync onLoad() {\n\t\t\t  \n\t\t\t// è·å–ç³»ç»Ÿä¿¡æ¯ï¼Œè®¡ç®—è½®æ’­å›¾é«˜åº¦\n\t\t\t// const systemInfo = uni.getSystemInfoSync()\n\t\t\t// this.bannerHeight = 300 // rpx\n\t\t\t\n\t\t\t// âœ… åŠ è½½è½®æ’­å›¾æ•°æ®\n\t\t\t// await this.loadBannerList()\n\t\t\t\t\t\t\n\t\t\tawait this.loadPostList()\n\t\t\t\n\t\t\tif (this.openid) {\n\t\t\t\tconst { data: res } = await uni.$http.get('/users/userinfo', { code: this.openid })\n\t\t\t\tif (res.meta.status === 200) {\n\t\t\t\t\tthis.updateUserBase(res.message)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tonShow() {\n\t\t\tconsole.log('ğŸ“„ home é¡µé¢ onShow è§¦å‘');\n\t\t\t    \n\t\t\t    // æ£€æŸ¥æ˜¯å¦æœ‰æ–°å‘å¸ƒçš„å¸–å­\n\t\t\t    if (this.shouldShowNewPost('home')) {\n\t\t\t      console.log('ğŸ“¥ æ”¶åˆ°æ–°å‘å¸ƒçš„å¸–å­:', this.newPublishedPost);\n\t\t\t      \n\t\t\t      // æ’å…¥åˆ°åˆ—è¡¨\n\t\t\t      this.insertNewPost(this.newPublishedPost);\n\t\t\t      \n\t\t\t      // æ¸…ç©º Vuex çŠ¶æ€ï¼ˆé˜²æ­¢é‡å¤æ˜¾ç¤ºï¼‰\n\t\t\t      this.clearNewPost();\n\t\t\t    }\n\t\t},\n\t\t\n\t\t// onPullDownRefresh() {\n\t\t// \tthis.refreshPostList()\n\t\t// },\n\t\t\n\t\t onReachBottom() {\r\n\t\t    const now = Date.now()\r\n\t\t\r\n\t\t    if (this.isLoading || this.isLoadingMore || this.isReachingBottom) {\r\n\t\t      this.pendingLoadMore = true\r\n\t\t      console.log('[onReachBottom] loading ä¸­ï¼Œæ’é˜Ÿä¸€æ¬¡')\r\n\t\t      return\r\n\t\t    }\r\n\t\t\r\n\t\t    if (now - this.lastReachTime < 400) { // èŠ‚æµçª—å£ç¼©çŸ­ï¼Œä¹Ÿå¯ä»¥ä¿æŒ 800\r\n\t\t      this.pendingLoadMore = true\r\n\t\t      if (!this.pendingTimer) {\r\n\t\t        this.pendingTimer = setTimeout(() => {\r\n\t\t          this.pendingTimer = null\r\n\t\t          this.flushPendingLoadMore()\r\n\t\t        }, 400 - (now - this.lastReachTime))\r\n\t\t      }\r\n\t\t      console.log('[onReachBottom] èŠ‚æµå‘½ä¸­ï¼Œæ’é˜Ÿä¸€æ¬¡')\r\n\t\t      return\r\n\t\t    }\r\n\t\t\r\n\t\t    this.lastReachTime = now\r\n\t\t    this.loadMore()\r\n\t\t  },\n\t\t\n\t\tmethods: {\n\t\t\t...mapMutations('m_user', ['updateUserBase', 'updatepreference']),\n\t\t\t ...mapMutations('m_posts', ['clearNewPost']),\n\t\t\t \r\n\t\t\t  flushPendingLoadMore() {\r\n\t\t\t     if (!this.pendingLoadMore) return\r\n\t\t\t     if (!this.hasMore) {\r\n\t\t\t       this.pendingLoadMore = false\r\n\t\t\t       return\r\n\t\t\t     }\r\n\t\t\t     if (this.isLoading || this.isLoadingMore || this.isReachingBottom) return\r\n\t\t\t \r\n\t\t\t     this.pendingLoadMore = false\r\n\t\t\t     this.loadMore()\r\n\t\t\t   },\r\n\t\t\t   \n\t\t\t // ğŸ”¥ æ–°å¢ï¼šè§¦æ‘¸å¼€å§‹\n\t\t\t    onTouchStart(e) {\n\t\t\t          // åªåœ¨é¡µé¢é¡¶éƒ¨ä¸”æœªåˆ·æ–°æ—¶å…è®¸ä¸‹æ‹‰\n\t\t\t          if (this.isRefreshing || this.scrollTop > 5) return\n\t\t\t          \n\t\t\t          this.startY = e.touches[0].pageY\n\t\t\t          this.isPulling = false // åˆå§‹çŠ¶æ€\n\t\t\t          console.log('ğŸ‘† è§¦æ‘¸å¼€å§‹:', this.startY)\n\t\t\t        },\n\t\t\t     \n\t\t\t     // ğŸ”¥ ä¿®å¤ï¼šè§¦æ‘¸ç§»åŠ¨ï¼ˆæ·»åŠ èŠ‚æµï¼‰\n\t\t\t        onTouchMove(e) {\n\t\t\t          if (this.isRefreshing || this.scrollTop > 5) return\n\t\t\t          \n\t\t\t          const currentY = e.touches[0].pageY\n\t\t\t          const distance = currentY - this.startY\n\t\t\t          \n\t\t\t          // åªå¤„ç†å‘ä¸‹æ‹‰çš„æƒ…å†µ\n\t\t\t          if (distance <= 0) return\n\t\t\t          \n\t\t\t          // ğŸ†• èŠ‚æµå¤„ç†\n\t\t\t          const now = Date.now()\n\t\t\t          if (now - this.lastTouchTime < this.touchThrottle) {\n\t\t\t            return\n\t\t\t          }\n\t\t\t          this.lastTouchTime = now\n\t\t\t          \n\t\t\t          // å¼€å§‹ä¸‹æ‹‰\n\t\t\t          if (!this.isPulling) {\n\t\t\t            this.isPulling = true\n\t\t\t            console.log('ğŸ“ å¼€å§‹ä¸‹æ‹‰')\n\t\t\t          }\n\t\t\t          \n\t\t\t          // é˜»å°¼æ•ˆæœ\n\t\t\t          const damping = distance < 150 ? 0.6 : 0.6\n\t\t\t          this.pullDistance = Math.min(distance * damping, this.maxPullDistance)\n\t\t\t          \n\t\t\t          console.log('ğŸ“ ä¸‹æ‹‰è·ç¦»:', this.pullDistance) // ğŸ†• æ·»åŠ æ—¥å¿—\n\t\t\t        },\n\t\t\t     openSideMenu() {\r\n\t\t\t      if (!this.openid) {\r\n\t\t\t      \t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t      \t\t  uni.showModal({\r\n\t\t\t      \t\t    title: 'æç¤º',\r\n\t\t\t      \t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t      \t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t      \t\t    confirmText: 'ç™»å½•',\r\n\t\t\t      \t\t    success: (res) => {\r\n\t\t\t      \t\t      if (res.confirm) {\r\n\t\t\t      \t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t      \t\t        uni.switchTab({\r\n\t\t\t      \t\t          url: '/pages/my/my'\r\n\t\t\t      \t\t        })\r\n\t\t\t      \t\t      }\r\n\t\t\t      \t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t      \t\t    }\r\n\t\t\t      \t\t  })\r\n\t\t\t      \t\t  return\r\n\t\t\t      \t\t}\r\n\t\t\t       this.showSideMenu = true;\r\n\t\t\t     },\r\n\t\t\t     \r\n\t\t\t     closeSideMenu() {\r\n\t\t\t       this.showSideMenu = false;\r\n\t\t\t     },\r\n\t\t\t     \r\n\t\t\t     handleMenuClick(item) {\r\n\t\t\t       this.closeSideMenu();\r\n\t\t\t       setTimeout(() => {\r\n\t\t\t         uni.navigateTo({\r\n\t\t\t           url: item.route,\r\n\t\t\t           fail: () => {\r\n\t\t\t             uni.showToast({ title: 'é¡µé¢å¼€å‘ä¸­', icon: 'none' });\r\n\t\t\t           }\r\n\t\t\t         });\r\n\t\t\t       }, 300);\r\n\t\t\t     },\r\n\t\t\t     \r\n\t\t\t     handleBottomAction(action) {\r\n\t\t\t       this.closeSideMenu();\r\n\t\t\t       if (action.route) {\r\n\t\t\t         uni.navigateTo({ url: action.route });\r\n\t\t\t       } \r\n\t\t\t       // å®¢æœé€»è¾‘ç”± <button open-type=\"contact\"> è‡ªåŠ¨å¤„ç†ï¼Œæ­¤å¤„æ— éœ€ä»£ç \r\n\t\t\t     },\n\t\t\t    // ğŸ”¥ ä¿®æ”¹ï¼šè§¦æ‘¸ç»“æŸ - æ·»åŠ ç¼“å†²å›å¼¹åŠ¨ç”»\n\t\t\t    async onTouchEnd() {\n\t\t\t      if (!this.isPulling || this.isRefreshing) {\n\t\t\t        this.isPulling = false\n\t\t\t        this.pullDistance = 0\n\t\t\t        return\n\t\t\t      }\n\t\t\t      \n\t\t\t      console.log('ğŸ‘‡ è§¦æ‘¸ç»“æŸï¼Œä¸‹æ‹‰è·ç¦»:', this.pullDistance)\n\t\t\t      \n\t\t\t      this.isPulling = false\n\t\t\t      \n\t\t\t      // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°åˆ·æ–°é˜ˆå€¼\n\t\t\t      if (this.pullDistance >= this.refreshThreshold) {\n\t\t\t        console.log('âœ… è§¦å‘åˆ·æ–°')\n\t\t\t        this.isRefreshing = true\n\t\t\t        \n\t\t\t        // ğŸ”¥ å…³é”®ï¼šå…ˆå›å¼¹åˆ°é˜ˆå€¼ä½ç½®ï¼ˆå¸¦åŠ¨ç”»ï¼‰\n\t\t\t        this.pullDistance = this.refreshThreshold\n\t\t\t        \n\t\t\t        try {\n\t\t\t          // æ‰§è¡Œåˆ·æ–°æ“ä½œ\n\t\t\t          await this.refreshPostList()\n\t\t\t        } catch (error) {\n\t\t\t          console.error('âŒ åˆ·æ–°å¤±è´¥:', error)\n\t\t\t        } finally {\n\t\t\t          // ğŸ”¥ ä¿®æ”¹ï¼šå»¶é•¿å›å¼¹æ—¶é—´ï¼Œè®©ç”¨æˆ·çœ‹åˆ°åˆ·æ–°å®Œæˆ\n\t\t\t          setTimeout(() => {\n\t\t\t            this.isRefreshing = false\n\t\t\t            // ğŸ”¥ æ·»åŠ æ¸è¿›å¼å›å¼¹åŠ¨ç”»\n\t\t\t            this.pullDistance = 0\n\t\t\t          }, 800) // å»¶é•¿è‡³ 800ms\n\t\t\t        }\n\t\t\t      } else {\n\t\t\t        // ğŸ”¥ ä¿®æ”¹ï¼šæœªè¾¾åˆ°é˜ˆå€¼æ—¶ä¹Ÿæ·»åŠ ç¼“å†²å›å¼¹\n\t\t\t        console.log('âš ï¸ æœªè¾¾åˆ°é˜ˆå€¼ï¼Œç¼“å†²å›å¼¹')\n\t\t\t        \n\t\t\t        // å»¶è¿Ÿ 100ms å†å¼€å§‹å›å¼¹ï¼Œè®©ç”¨æˆ·æ„Ÿå—åˆ°æ¾æ‰‹\n\t\t\t        setTimeout(() => {\n\t\t\t          this.pullDistance = 0\n\t\t\t        }, 100)\n\t\t\t      }\n\t\t\t    },\n\n\t\t\t// ğŸ”¥ æ–°å¢ï¼šæ’å…¥æ–°å¸–å­åˆ°åˆ—è¡¨é¡¶éƒ¨\n\t\t\t   // ğŸ”¥ ä¿®æ”¹ï¼šæ’å…¥æ–°å¸–å­åˆ°åˆ—è¡¨é¡¶éƒ¨\n\t\t\t   insertNewPost(post) {\n\t\t\t     if (!post) return;\n\t\t\t     \n\t\t\t     // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ï¼ˆé¿å…é‡å¤æ’å…¥ï¼‰\n\t\t\t     const exists = this.postList.some(p => p.post_id === post.post_id);\n\t\t\t     if (exists) {\n\t\t\t       console.log('âš ï¸ å¸–å­å·²å­˜åœ¨ï¼Œè·³è¿‡æ’å…¥');\n\t\t\t       return;\n\t\t\t     }\n\t\t\t     \n\t\t\t     // ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šå®Œæ•´åˆå§‹åŒ–å¸–å­å¯¹è±¡ï¼ˆä¸ loadPostList ä¿æŒä¸€è‡´ï¼‰\n\t\t\t     const formattedPost = {\n\t\t\t       ...post,\n\t\t\t       id: post.post_id || post.id, // ç¡®ä¿æœ‰ id å­—æ®µ\n\t\t\t       timeText: this.formatTime(post.created_at || new Date().toISOString()),\n\t\t\t       images: this.processPostImages(post.images),\n\t\t\t       viewCount: post.viewCount || post.view_count || 0,\n\t\t\t       likeCount: post.likeCount || post.like_count || post.likes_count || 0,\n\t\t\t       commentCount: post.commentCount || post.comment_count || post.comments_count || 0,\n\t\t\t       isLiked: post.isLiked || post.is_liked || false,\n\t\t\t       isTopicDiscussion: post.isTopicDiscussion || 0,\n\t\t\t       // ğŸ”¥ æ ¸å¿ƒï¼šåˆå§‹åŒ–å›¾ç‰‡åŠ è½½çŠ¶æ€\n\t\t\t       imageLoaded: false,\n\t\t\t       imageError: false\n\t\t\t     };\n\t\t\t     \n\t\t\t     // æ’å…¥åˆ°åˆ—è¡¨é¡¶éƒ¨\n\t\t\t     this.postList.unshift(formattedPost);\n\t\t\t     console.log('âœ… æ–°å¸–å­å·²æ’å…¥åˆ—è¡¨é¡¶éƒ¨:', formattedPost.id);\n\t\t\t     \n\t\t\t     // æ˜¾ç¤ºæç¤º\n\t\t\t     uni.showToast({\n\t\t\t       title: 'å¸–å­å·²å‘å¸ƒ',\n\t\t\t       icon: 'success',\n\t\t\t       duration: 2000\n\t\t\t     });\n\t\t\t   },\n\n\t\t\t  \n\t\t\t// ğŸ”¥ æ–°å¢ï¼šå›¾ç‰‡åŠ è½½æˆåŠŸå›è°ƒ\n\t\t\t    onImageLoad(post) {\n\t\t\t      this.$set(post, 'imageLoaded', true)\n\t\t\t      console.log(`âœ… å›¾ç‰‡åŠ è½½æˆåŠŸ: ${post.id}`)\n\t\t\t    },\n\t\t\t    \n\t\t\t    // ğŸ”¥ æ–°å¢ï¼šå›¾ç‰‡åŠ è½½å¤±è´¥å›è°ƒ\n\t\t\t    onImageError(post) {\n\t\t\t      this.$set(post, 'imageError', true)\n\t\t\t      console.error(`âŒ å›¾ç‰‡åŠ è½½å¤±è´¥: ${post.id}`)\n\t\t\t      \n\t\t\t      // è®¾ç½®é»˜è®¤å›¾ç‰‡\n\t\t\t      const index = this.postList.findIndex(p => p.id === post.id)\n\t\t\t      if (index !== -1) {\n\t\t\t        this.postList[index].images = ['https://img.xinshi00.com/label/default-post.png']\n\t\t\t      }\n\t\t\t    },\n\t\t\t\t\t\t\n\t\t\t // ğŸ”¥ æ–°å¢ï¼šæ›´æ–°å¸–å­ç‚¹èµçŠ¶æ€çš„æ–¹æ³•\n\t\t\t  updatePostLikeStatus(data) {\n\t\t\t    const { postId, isLiked, likeCount } = data\n\t\t\t    \n\t\t\t    console.log('ğŸ“¥ æ”¶åˆ°ç‚¹èµçŠ¶æ€æ›´æ–°:', data)\n\t\t\t    \n\t\t\t    // åœ¨ postList ä¸­æŸ¥æ‰¾å¯¹åº”çš„å¸–å­\n\t\t\t    const index = this.postList.findIndex(post => post.id === postId)\n\t\t\t    console.log(\"imhere\");\n\t\t\t\tconsole.log(index)\n\t\t\t    if (index !== -1) {\n\t\t\t      // æ›´æ–°å¸–å­çš„ç‚¹èµçŠ¶æ€\n\t\t\t      this.postList[index].isLiked = isLiked\n\t\t\t      this.postList[index].likeCount = likeCount\n\t\t\t      \n\t\t\t      // å¼ºåˆ¶æ›´æ–°è§†å›¾\n\t\t\t      this.$set(this.postList, index, { ...this.postList[index] })\n\t\t\t      \n\t\t\t      console.log(`âœ… å·²æ›´æ–°å¸–å­ ${postId} çš„ç‚¹èµçŠ¶æ€:`, {\n\t\t\t        isLiked,\n\t\t\t        likeCount\n\t\t\t      })\n\t\t\t    } else {\n\t\t\t      console.warn(`âš ï¸ æœªæ‰¾åˆ°å¸–å­ ${postId}`)\n\t\t\t    }\n\t\t\t  },\n\t\t\t  \n\t\t\t// âœ… ä¿®æ”¹ï¼šåˆ‡æ¢æ’åºæ¨¡å¼ï¼ˆå‘ç°/å…³æ³¨/æœ€æ–°ï¼‰\n\t\tselectSortMode(mode) {\n\t\t    if (this.sortMode === mode) {\n\t\t        uni.pageScrollTo({ scrollTop: 0, duration: 300 })\n\t\t        return\n\t\t    }\r\n\t\t\t\r\n\t\t\tif (mode === 'follow' && !this.openid) {\r\n\t\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t\t  uni.showModal({\r\n\t\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t\t        uni.switchTab({\r\n\t\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t\t        })\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t  return\r\n\t\t\t\t\t}\n\t\t    \n\t\t    console.log(`ğŸ”„ åˆ‡æ¢æ’åºæ¨¡å¼: ${this.sortMode} â†’ ${mode}`)\n\t\t    \n\t\t    uni.pageScrollTo({ scrollTop: 0, duration: 300 })\n\t\t    \n\t\t    this.sortMode = mode\n\t\t    \n\t\t    if (mode === 'latest' || mode === 'follow') {\n\t\t        this.categoryMode = 'recommend'\n\t\t    }\n\t\t    \n\t\t    // ğŸ”¥ åˆ‡æ¢æ¨¡å¼æ—¶é‡ç½®æ‰€æœ‰çŠ¶æ€\n\t\t    this.page = 1\n\t\t    this.postList = []\n\t\t    this.excludePostIds = []\n\t\t    this.hasMore = true\n\t\t    this._lastLoadCount = undefined\n\t\t    \n\t\t    this.loadPostList()\n\t\t},\n\n\n\t\t\t\n\t\t\t// ğŸ”¥ æ–°å¢ï¼šæˆªæ–­æ˜µç§°çš„æ–¹æ³•\n\t\t\ttruncateNickname(name) {\n\t\t\t\t\t\tif (!name) return '';\n\t\t\t\t\t\tconst maxLength = 7; // é™åˆ¶ 7 ä¸ªå­—\n\t\t\t\t\t\tif (name.length > maxLength) {\n\t\t\t\t\t\t\treturn name.substring(0, maxLength) + '...';\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn name;\n\t\t\t\t\t},\n\t\t\t\n\t\t\t// âœ… ä¿®æ”¹ï¼šåˆ‡æ¢åˆ†ç±»ï¼ˆæ¨è/æ—¥å¸¸/äº¤å‹/åæ§½ï¼‰\n\t\t\t// âœ… ä¿®æ”¹ selectCategory() æ–¹æ³•\nselectCategory(category) {\n    if (this.categoryMode === category) {\n        uni.pageScrollTo({ scrollTop: 0, duration: 300 })\n        return\n    }\n    \n    console.log(`ğŸ“‚ åˆ‡æ¢åˆ†ç±»: ${this.categoryMode} â†’ ${category}`)\n    \n    this.categoryMode = category\n    \n    // ğŸ”¥ åˆ‡æ¢åˆ†ç±»æ—¶é‡ç½®æ‰€æœ‰çŠ¶æ€\n    this.page = 1\n    this.postList = []\n    this.excludePostIds = []\n    this.hasMore = true\n    this._lastLoadCount = undefined // é‡ç½®è®¡æ•°\n    \n    this.loadPostList()\n},\n\n\n\n\n\t\t\t\n\t\t\t// âœ… è·³è½¬åˆ°æœç´¢é¡µé¢\n\t\t\tgotoSearch() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/subpkg/post-search/post-search?'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgotoFeedback() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/subpkg/feedback/feedback'\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tasync loadPostList() {\r\n\t\t\t    try {\r\n\t\t\t        // ğŸ”¥ å…³é”®ä¿®æ”¹:ä½¿ç”¨æ›´ä¸¥æ ¼çš„æ£€æŸ¥\r\n\t\t\t        if (this.isLoading) {\r\n\t\t\t            console.log('[loadPostList] å·²æœ‰è¯·æ±‚åœ¨è¿›è¡Œï¼Œè·³è¿‡')\r\n\t\t\t            return\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        this.isLoading = true\r\n\t\t\t        const department = this.userBase?.major || ''\r\n\t\t\t        \r\n\t\t\t        let params = {\r\n\t\t\t            page: this.page,\r\n\t\t\t            pageSize: this.pageSize,\r\n\t\t\t            openid: this.openid || '',\r\n\t\t\t            department: department,\r\n\t\t\t            filterMode: 'all',\r\n\t\t\t            isTopicDiscussion: 'true',\r\n\t\t\t            excludePostIds: this.excludePostIds.join(',')\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        // æ ¹æ®ä¸åŒæ¨¡å¼è®¾ç½®å‚æ•°\r\n\t\t\t        if (this.sortMode === 'discover') {\r\n\t\t\t            if (this.categoryMode === 'recommend') {\r\n\t\t\t                params.preference = this.preference\r\n\t\t\t            } else {\r\n\t\t\t                const categoryMap = {\r\n\t\t\t                    'daily': 'æ—¥å¸¸',\r\n\t\t\t                    'friend': 'è¯¢é—®',\r\n\t\t\t                    'complaint': 'åæ§½'\r\n\t\t\t                }\r\n\t\t\t                params.category = categoryMap[this.categoryMode]\r\n\t\t\t            }\r\n\t\t\t        } else if (this.sortMode === 'latest') {\r\n\t\t\t            params.sortBy = 'created_at'\r\n\t\t\t        } else if (this.sortMode === 'follow') {\r\n\t\t\t            return await this.loadFollowPosts()\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        console.log(`ğŸ“¡ åŠ è½½å¸–å­ - é¡µç : ${this.page}, æ’é™¤: ${this.excludePostIds.length} ä¸ª, æ¨¡å¼: ${this.sortMode}`)\r\n\t\t\t        \r\n\t\t\t        // ğŸ”¥ æ–°å¢:æ·»åŠ è¯·æ±‚è¶…æ—¶å¤„ç†\r\n\t\t\t        const requestPromise = uni.$http.get('/posts/list', params)\r\n\t\t\t        const timeoutPromise = new Promise((_, reject) => \r\n\t\t\t            setTimeout(() => reject(new Error('è¯·æ±‚è¶…æ—¶')), 10000)\r\n\t\t\t        )\r\n\t\t\t        \r\n\t\t\t        const { data: res } = await Promise.race([requestPromise, timeoutPromise])\r\n\t\t\t        \r\n\t\t\t        if (res.meta.status === 200) {\r\n\t\t\t            let newPosts = (res.message.list || []).map(post => ({\r\n\t\t\t                ...post,\r\n\t\t\t                id: post.post_id || post.id,\r\n\t\t\t                timeText: this.formatTime(post.created_at),\r\n\t\t\t                images: this.processPostImages(post.images),\r\n\t\t\t                viewCount: post.viewCount || 0,\r\n\t\t\t                likeCount: post.likeCount || 0,\r\n\t\t\t                commentCount: post.commentCount || 0,\r\n\t\t\t                isLiked: post.isLiked || false,\r\n\t\t\t                isTopicDiscussion: post.isTopicDiscussion || 0,\r\n\t\t\t                imageLoaded: false,\r\n\t\t\t                imageError: false\r\n\t\t\t            }))\r\n\t\t\t            \r\n\t\t\t            const actualNewPostsCount = newPosts.length\r\n\t\t\t            console.log(`ğŸ“Š åç«¯è¿”å›: ${actualNewPostsCount} ä¸ªå¸–å­`)\r\n\t\t\t            \r\n\t\t\t            // ğŸ”¥ ç´¯ç§¯æœ¬æ¬¡è·å–åˆ°çš„æ‰€æœ‰å¸–å­ID\r\n\t\t\t            if (newPosts.length > 0) {\r\n\t\t\t                const newPostIds = newPosts.map(post => post.id)\r\n\t\t\t                this.excludePostIds = [...this.excludePostIds, ...newPostIds]\r\n\t\t\t                console.log(`âœ… ç´¯ç§¯å¸–å­ID: æ–°å¢ ${newPostIds.length} ä¸ªï¼Œæ€»è®¡ ${this.excludePostIds.length} ä¸ª`)\r\n\t\t\t            }\r\n\t\t\t            \r\n\t\t\t            // ğŸ”¥ å…³é”®ä¿®æ”¹:æ›´æ–°åˆ—è¡¨å‰æ·»åŠ å»¶è¿Ÿ,é¿å…æ¸²æŸ“é˜»å¡\r\n\t\t\t            if (this.page === 1) {\r\n\t\t\t                this.postList = newPosts\r\n\t\t\t            } else {\r\n\t\t\t                // ğŸ”¥ åˆ†æ‰¹æ·»åŠ ,é¿å…ä¸€æ¬¡æ€§æ¸²æŸ“è¿‡å¤š\r\n\t\t\t                for (let i = 0; i < newPosts.length; i += 2) {\r\n\t\t\t                    this.postList.push(...newPosts.slice(i, i + 2))\r\n\t\t\t                    if (i + 2 < newPosts.length) {\r\n\t\t\t                        await new Promise(resolve => setTimeout(resolve, 16)) // ç­‰å¾…ä¸€å¸§\r\n\t\t\t                    }\r\n\t\t\t                }\r\n\t\t\t            }\r\n\t\t\t            \r\n\t\t\t            // hasMoreåˆ¤æ–­é€»è¾‘\r\n\t\t\t            if (this.sortMode === 'discover') {\r\n\t\t\t                this.hasMore = true\r\n\t\t\t                this._lastLoadCount = actualNewPostsCount\r\n\t\t\t                console.log(`âœ… å‘ç°æ¨¡å¼ - æœ¬æ¬¡è¿”å›: ${actualNewPostsCount}ï¼Œæ€»è®¡: ${this.postList.length}`)\r\n\t\t\t            } else {\r\n\t\t\t                this.hasMore = res.message.hasMore === true\r\n\t\t\t                console.log(`âœ… ${this.sortMode}æ¨¡å¼ - åŠ è½½æˆåŠŸ: ${newPosts.length}ï¼ŒhasMore: ${this.hasMore}`)\r\n\t\t\t            }\r\n\t\t\t        } else {\r\n\t\t\t            console.error('âŒ è¯·æ±‚å¤±è´¥:', res.meta.msg)\r\n\t\t\t            this.hasMore = false\r\n\t\t\t        }\r\n\t\t\t    } catch (error) {\r\n\t\t\t        console.error('âŒ åŠ è½½å¼‚å¸¸:', error)\r\n\t\t\t        this.showMessageToast(error.message === 'è¯·æ±‚è¶…æ—¶' ? 'ç½‘ç»œè¶…æ—¶ï¼Œè¯·é‡è¯•' : 'åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ')\r\n\t\t\t        this.hasMore = false\r\n\t\t\t    } finally {\r\n\t\t\t        this.isLoading = false\r\n\t\t\t            this.isLoadingMore = false\r\n\t\t\t            this.isReachingBottom = false\r\n\t\t\t            if (this.pendingTimer && !this.pendingLoadMore) {\r\n\t\t\t              clearTimeout(this.pendingTimer)\r\n\t\t\t              this.pendingTimer = null\r\n\t\t\t            }\r\n\t\t\t            this.$nextTick(() => this.flushPendingLoadMore())\r\n\t\t\t    }\r\n\t\t\t},\n\n\n\n\n\n\t\t\t\n\t\t\t// ğŸ†• æ–°å¢ï¼šåŠ è½½å…³æ³¨ç”¨æˆ·çš„å¸–å­\n\t\t\tasync loadFollowPosts() {\n\t\t\t    try {\n\t\t\t        // æ£€æŸ¥æ˜¯å¦æœ‰å…³æ³¨åˆ—è¡¨\n\t\t\t        const followingIds = this.userBase?.following_ids || []\n\t\t\t        \n\t\t\t        if (!Array.isArray(followingIds) || followingIds.length === 0) {\n\t\t\t            console.log('âš ï¸ æ²¡æœ‰å…³æ³¨ä»»ä½•ç”¨æˆ·')\n\t\t\t            this.postList = []\n\t\t\t            this.hasMore = false\n\t\t\t            this.isLoading = false\n\t\t\t            this.isLoadingMore = false\n\t\t\t            return\n\t\t\t        }\n\t\t\t        \n\t\t\t        const params = {\n\t\t\t            page: this.page,\n\t\t\t            pageSize: this.pageSize,\n\t\t\t            openid: this.openid,\n\t\t\t            following_ids: followingIds.join(',')\n\t\t\t        }\n\t\t\t        \n\t\t\t        console.log(`ğŸ“¡ åŠ è½½å…³æ³¨å¸–å­ - é¡µç : ${this.page}, å…³æ³¨ç”¨æˆ·æ•°: ${followingIds.length}`)\n\t\t\t        \n\t\t\t        const { data: res } = await uni.$http.get('/posts/followlist', params)\n\t\t\t        \n\t\t\t        if (res.meta.status === 200) {\n\t\t\t            let newPosts = (res.message.list || []).map(post => ({\n\t\t\t                ...post,\n\t\t\t                timeText: this.formatTime(post.created_at),\n\t\t\t                images: this.processPostImages(post.images),\n\t\t\t                viewCount: post.view_count || 0,\n\t\t\t                likeCount: post.like_count || 0,\n\t\t\t                commentCount: post.comment_count || 0,\n\t\t\t                isLiked: post.is_liked || false\n\t\t\t            }))\n\t\t\t            \n\t\t\t            if (this.page === 1) {\n\t\t\t                this.postList = newPosts\n\t\t\t            } else {\n\t\t\t                this.postList.push(...newPosts)\n\t\t\t            }\n\t\t\t            \n\t\t\t            this.hasMore = newPosts.length >= this.pageSize\n\t\t\t            console.log(`âœ… å…³æ³¨å¸–å­åŠ è½½æˆåŠŸ - æ–°å¢: ${newPosts.length}, æ€»è®¡: ${this.postList.length}`)\n\t\t\t        } else {\n\t\t\t            console.error('âŒ åŠ è½½å¤±è´¥:', res.meta.msg)\n\t\t\t            this.showMessageToast(res.meta.msg || 'åŠ è½½å¤±è´¥')\n\t\t\t        }\n\t\t\t    } catch (error) {\n\t\t\t        console.error('âŒ è¯·æ±‚å¼‚å¸¸:', error)\n\t\t\t        this.showMessageToast('ç½‘ç»œé”™è¯¯')\n\t\t\t        this.hasMore = false\n\t\t\t    } finally {\n\t\t\t        this.isLoading = false\n\t\t\t        this.isLoadingMore = false\n\t\t\t    }\n\t\t\t},\n\t\t\t\n\t\t\t// âœ… ä¿®æ”¹ï¼šä¸Šæ‹‰åŠ è½½æ›´å¤š\n\t\t\t// âœ… ä¿®æ”¹ï¼šä¸Šæ‹‰åŠ è½½æ›´å¤š\n\t\tasync loadMore() {\r\n\t\t    // ğŸ”¥ å…³é”®ä¿®æ”¹:åŠ å¼ºçŠ¶æ€æ£€æŸ¥\r\n\t\t    if (this.isReachingBottom || this.isLoading || this.isLoadingMore) {\r\n\t\t        console.log('[loadMore] æ­£åœ¨åŠ è½½ä¸­ï¼Œè·³è¿‡')\r\n\t\t        return\r\n\t\t    }\r\n\t\t    \r\n\t\t    // ğŸ”¥ é\"å‘ç°\"æ¨¡å¼ä¸”æ— æ›´å¤šå†…å®¹æ—¶ï¼Œç›´æ¥è¿”å›\r\n\t\t    if (this.sortMode !== 'discover' && !this.hasMore) {\r\n\t\t        console.log('[loadMore] å·²æ— æ›´å¤šå†…å®¹')\r\n\t\t        return\r\n\t\t    }\r\n\t\t    \r\n\t\t    // ğŸ”¥ å…³é”®ä¿®æ”¹:åŒæ—¶è®¾ç½®ä¸¤ä¸ªloadingæ ‡å¿—\r\n\t\t    this.isReachingBottom = true\r\n\t\t    this.isLoadingMore = true\r\n\t\t    \r\n\t\t    // ğŸ”¥ æ–°å¢:è®°å½•å½“å‰é¡µç ,å¤±è´¥æ—¶å›æ»š\r\n\t\t    const currentPage = this.page\r\n\t\t    \r\n\t\t    try {\r\n\t\t        this.page++\r\n\t\t        console.log(`[loadMore] å¼€å§‹åŠ è½½ç¬¬ ${this.page} é¡µ`)\r\n\t\t        \r\n\t\t        await this.loadPostList()\r\n\t\t        \r\n\t\t        console.log(`[loadMore] ç¬¬ ${this.page} é¡µåŠ è½½å®Œæˆ`)\r\n\t\t        \r\n\t\t        // ğŸ”¥ å…³é”®ä¿®æ”¹:åªåœ¨\"å‘ç°\"æ¨¡å¼ä¸‹åˆ¤æ–­æ˜¯å¦éœ€è¦å¾ªç¯\r\n\t\t        if (this.sortMode === 'discover') {\r\n\t\t            // åˆ¤æ–­ä¾æ®:åç«¯è¿”å› 0 ä¸ªå¸–å­\r\n\t\t            if (this._lastLoadCount === 0) {\r\n\t\t                const categoryNames = {\r\n\t\t                    'recommend': 'æ¨è',\r\n\t\t                    'daily': 'æ—¥å¸¸',\r\n\t\t                    'friend': 'è¯¢é—®',\r\n\t\t                    'complaint': 'åæ§½'\r\n\t\t                }\r\n\t\t                \r\n\t\t                console.log(`ğŸ”„ ${categoryNames[this.categoryMode]} å·²åŠ è½½å…¨éƒ¨å†…å®¹ï¼Œå‡†å¤‡å¾ªç¯`)\r\n\t\t                \r\n\t\t                uni.showToast({\r\n\t\t                    title: 'å·²åŠ è½½å…¨éƒ¨å†…å®¹ï¼Œé‡æ–°å¼€å§‹',\r\n\t\t                    icon: 'none',\r\n\t\t                    duration: 1500\r\n\t\t                })\r\n\t\t                \r\n\t\t                // ğŸ”¥ çŸ­æš‚å»¶è¿Ÿåé‡ç½®å¹¶é‡æ–°åŠ è½½\r\n\t\t                setTimeout(() => {\r\n\t\t                    console.log('ğŸ”„ é‡ç½®æ’é™¤åˆ—è¡¨ï¼Œå¼€å§‹æ–°ä¸€è½®åŠ è½½')\r\n\t\t                    this.excludePostIds = []\r\n\t\t                    this.page = 1\r\n\t\t                    this.hasMore = true\r\n\t\t                    this._lastLoadCount = undefined\r\n\t\t                    \r\n\t\t                    // ğŸ”¥ æ–°å¢:é‡ç½®loadingçŠ¶æ€åå†åŠ è½½\r\n\t\t                    this.isReachingBottom = false\r\n\t\t                    this.isLoadingMore = false\r\n\t\t                    this.loadPostList()\r\n\t\t                }, 500)\r\n\t\t                \r\n\t\t                return // ğŸ”¥ æå‰è¿”å›,é¿å…é‡å¤é‡ç½®loading\r\n\t\t            }\r\n\t\t        }\r\n\t\t    } catch (error) {\r\n\t\t        console.error('[loadMore] åŠ è½½å¤±è´¥:', error)\r\n\t\t        \r\n\t\t        // ğŸ”¥ å…³é”®ä¿®æ”¹:å¤±è´¥æ—¶å›æ»šé¡µç \r\n\t\t        this.page = currentPage\r\n\t\t        \r\n\t\t        uni.showToast({\r\n\t\t            title: 'åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•',\r\n\t\t            icon: 'none',\r\n\t\t            duration: 2000\r\n\t\t        })\r\n\t\t    } finally {\r\n\t\t        // ğŸ”¥ å…³é”®ä¿®æ”¹:ç¡®ä¿loadingçŠ¶æ€è¢«é‡ç½®\r\n\t\t        this.isReachingBottom = false\r\n\t\t        this.isLoadingMore = false\r\n\t\t\t\tthis.$nextTick(() => this.flushPendingLoadMore())\r\n\t\t        \r\n\t\t        console.log('[loadMore] loadingçŠ¶æ€å·²é‡ç½®')\r\n\t\t    }\r\n\t\t},\n\n\n\n\n\t\t\t\nasync refreshPostList() {\n    try {\n        console.log('ğŸ”„ ä¸‹æ‹‰åˆ·æ–°')\n        \n        // ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šå‘ç°æ¨¡å¼ä¸‹ä¿ç•™ excludePostIds\n        if (this.sortMode === 'discover') {\n            console.log(`âœ… å‘ç°æ¨¡å¼åˆ·æ–° - ä¿ç•™å·²æ’é™¤çš„ ${this.excludePostIds.length} ä¸ªå¸–å­`)\n        } else {\n            // æœ€æ–°/å…³æ³¨æ¨¡å¼ï¼šæ¸…ç©ºæ’é™¤åˆ—è¡¨\n            this.excludePostIds = []\n            console.log('âœ… éå‘ç°æ¨¡å¼åˆ·æ–° - æ¸…ç©ºæ’é™¤åˆ—è¡¨')\n        }\n        \n        // é‡ç½®é¡µç å’Œåˆ—è¡¨\n        this.page = 1\n        this.postList = []\n        this.hasMore = true\n        this._lastLoadCount = undefined\n        \n        await this.loadPostList()\n        \n        // ğŸ”¥ æ–°å¢ï¼šå¦‚æœå‘ç°æ¨¡å¼ä¸‹åˆ·æ–°ååˆ—è¡¨ä¸ºç©ºï¼Œæ¸…ç©ºæ’é™¤åˆ—è¡¨å¹¶é‡æ–°åŠ è½½\n        if (this.sortMode === 'discover' && this.postList.length === 0 && this.excludePostIds.length > 0) {\n            console.log('âš ï¸ åˆ·æ–°åæ— æ–°å†…å®¹ï¼Œæ¸…ç©ºæ’é™¤åˆ—è¡¨å¹¶é‡æ–°åŠ è½½')\n            \n            uni.showToast({\n                title: 'å·²åŠ è½½å…¨éƒ¨å†…å®¹ï¼Œé‡æ–°å¼€å§‹',\n                icon: 'none',\n                duration: 1500\n            })\n            \n            // å»¶è¿Ÿåæ¸…ç©ºå¹¶é‡æ–°åŠ è½½\n            setTimeout(async () => {\n                this.excludePostIds = []\n                this.page = 1\n                this.hasMore = true\n                this._lastLoadCount = undefined\n                await this.loadPostList()\n                uni.stopPullDownRefresh()\n            }, 500)\n            \n            return // æå‰è¿”å›ï¼Œé¿å…é‡å¤è°ƒç”¨ stopPullDownRefresh\n        }\n        \n        // uni.stopPullDownRefresh()\n        this.showMessageToast('åˆ·æ–°æˆåŠŸ', 1500)\n    } catch (error) {\n        console.error('[refreshPostList] åˆ·æ–°å¤±è´¥:', error)\n        // uni.stopPullDownRefresh()\n        this.showMessageToast('åˆ·æ–°å¤±è´¥')\n    }\n},\n\n\n\n\t\t\t\n\t\t\t// âœ… ä¿®æ”¹ï¼šé‡ç½®å¹¶é‡æ–°åŠ è½½\n\t\t\tresetAndReload() {\n\t\t\t    this.page = 1\n\t\t\t    this.postList = []\n\t\t\t    \n\t\t\t    // ğŸ”¥ æ–°å¢ï¼šåªåœ¨åˆ‡æ¢æ’åºæ¨¡å¼æ—¶æ‰é‡ç½® excludePostIds\n\t\t\t    // åˆ†ç±»åˆ‡æ¢ä¸é‡ç½®ï¼Œé¿å…é‡å¤\n\t\t\t    if (this.sortMode === 'discover' && this.categoryMode === 'recommend') {\n\t\t\t        // æ¨èæ¨¡å¼ï¼šä¿ç•™ excludePostIds\n\t\t\t        console.log('ğŸ”„ åˆ·æ–°æ¨èåˆ—è¡¨ï¼Œä¿ç•™å·²æ’é™¤ID')\n\t\t\t    } else {\n\t\t\t        // å…¶ä»–æ¨¡å¼ï¼šé‡ç½® excludePostIds\n\t\t\t        this.excludePostIds = []\n\t\t\t        console.log('ğŸ”„ åˆ‡æ¢æ¨¡å¼ï¼Œé‡ç½®å·²æ’é™¤ID')\n\t\t\t    }\n\t\t\t    \n\t\t\t    this.hasMore = true\n\t\t\t    this.loadPostList()\n\t\t\t},\n\n\t\t\t\n\t\t\t// âœ… è·³è½¬åˆ°å¸–å­è¯¦æƒ…\n\t\t\tgotoPostDetail(post) {\n\t\t\t\tthis.updatepreference(post.properties || post.category)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/subpkg/topic-detail/topic-detail?id=${post.id}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// âœ… è·³è½¬åˆ°ç”¨æˆ·ä¸»é¡µ\n\t\t\tasync gotoUserProfile(post) {\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t\t\t  uni.showModal({\r\n\t\t\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t\t\t        uni.switchTab({\r\n\t\t\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t\t\t        })\r\n\t\t\t\t\t\t      }\r\n\t\t\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t  return\r\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!post) return\n\t\t\t\t\n\t\t\t\t// å¦‚æœæ˜¯å½“å‰ç”¨æˆ·è‡ªå·±\n\t\t\t\tif (post.user_openid === this.openid) {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/subpkg/profile/profile'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// è·³è½¬åˆ°å…¶ä»–ç”¨æˆ·ä¸»é¡µ\n\t\t\t\tconst payload = {\n\t\t\t\t\topenid: post.user_openid,\n\t\t\t\t\tnickname: post.nickname,\n\t\t\t\t\tavatarUrl: post.avatar\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst encodedPayload = encodeURIComponent(JSON.stringify(payload))\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/subpkg/profile/profile?publisher=${encodedPayload}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// âœ… ç‚¹èµ/å–æ¶ˆç‚¹èµ\n\t\t\tasync toggleLike(post) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t\t\t\t  uni.showModal({\r\n\t\t\t\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t\t\t\t        uni.switchTab({\r\n\t\t\t\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t\t\t\t        })\r\n\t\t\t\t\t\t\t      }\r\n\t\t\t\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t  return\r\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst { data: res } = await uni.$http.post('/posts/like', {\n\t\t\t\t\t\tpost_id: post.id,\n\t\t\t\t\t\topenid: this.openid,\n\t\t\t\t\t\tis_like: !post.isLiked\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tif (res.meta.status === 200) {\n\t\t\t\t\t\tconst index = this.postList.findIndex(p => p.id === post.id)\n\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\tthis.postList[index].isLiked = !this.postList[index].isLiked\n\t\t\t\t\t\t\tthis.postList[index].likeCount = res.message.like_count || 0\n\t\t\t\t\t\t\tthis.$set(this.postList, index, {...this.postList[index]})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('ç‚¹èµå¤±è´¥:', error)\n\t\t\t\t\tthis.showMessageToast('æ“ä½œå¤±è´¥')\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// âœ… è½®æ’­å›¾ç‚¹å‡»\n\t\t\tonBannerClick(banner) {\n\t\t\t\tswitch (banner.type) {\n\t\t\t\t\tcase 'page':\n\t\t\t\t\t\tuni.navigateTo({ url: banner.url })\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'web':\n\t\t\t\t\t\tthis.copyLinkAndNotify(banner.url, banner.title)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn('æœªçŸ¥çš„è·³è½¬ç±»å‹:', banner.type)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// å¤„ç†å›¾ç‰‡æ•°æ®\n\t\t\tprocessPostImages(images) {\n\t\t\t\tif (!images) return []\n\t\t\t\t\n\t\t\t\tif (typeof images === 'string') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn JSON.parse(images)\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn []\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn Array.isArray(images) ? images : []\n\t\t\t},\n\t\t\t\n\t\t\t// å¤åˆ¶é“¾æ¥å¹¶æç¤º\n\t\t\tcopyLinkAndNotify(url, title) {\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: url,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'é“¾æ¥å·²å¤åˆ¶ï¼Œè¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// æ ¼å¼åŒ–æ—¶é—´\n\t\t\tformatTime(timestamp) {\n\t\t\t\tconst date = new Date(timestamp)\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst diff = now - date\n\t\t\t\t\n\t\t\t\tif (diff < 3600000) {\n\t\t\t\t\treturn Math.floor(diff / 60000) + 'åˆ†é’Ÿå‰'\n\t\t\t\t} else if (diff < 86400000) {\n\t\t\t\t\treturn Math.floor(diff / 3600000) + 'å°æ—¶å‰'\n\t\t\t\t} else if (diff < 2592000000) {\n\t\t\t\t\treturn Math.floor(diff / 86400000) + 'å¤©å‰'\n\t\t\t\t} else {\n\t\t\t\t\treturn `${date.getMonth() + 1}-${date.getDate()}`\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// æ˜¾ç¤ºæç¤ºæ¶ˆæ¯\n\t\t\tshowMessageToast(text, duration = 2000) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: text,\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: duration\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–ç©ºçŠ¶æ€æ–‡æœ¬\n\t\t\tgetEmptyText() {\n\t\t\t    if (this.sortMode === 'follow') {\n\t\t\t        return 'æš‚æ— å…³æ³¨ç”¨æˆ·çš„åŠ¨æ€\\nå¿«å»å…³æ³¨æ„Ÿå…´è¶£çš„äººå§~'\n\t\t\t    }\n\t\t\t    \n\t\t\t    if (this.sortMode === 'latest') {\n\t\t\t        return 'æš‚æ— æœ€æ–°å†…å®¹'\n\t\t\t    }\n\t\t\t    \n\t\t\t    const categoryNames = {\n\t\t\t        'recommend': 'æ¨è',\n\t\t\t        'daily': 'æ—¥å¸¸',\n\t\t\t        'friend': 'è¯¢é—®',\n\t\t\t        'complaint': 'åæ§½'\n\t\t\t    }\n\t\t\t    \n\t\t\t    return `æš‚æ— ${categoryNames[this.categoryMode]}å†…å®¹`\n\t\t\t},\n\n\t\t\t// âœ… ç›‘å¬é¡µé¢æ»šåŠ¨\n\t\t\t\tonPageScroll(e) {\n\t\t\t\t\tconst scrollTop = e.scrollTop\n\t\t\t\t\tthis.scrollTop = scrollTop\n\t\t\t\t\t\n\t\t\t\t\t// å°† rpx è½¬æ¢ä¸º pxï¼ˆå‡è®¾å±å¹•å®½åº¦ä¸º 375pxï¼‰\n\t\t\t\t\tconst bannerHeightPx = uni.upx2px(this.bannerHeight)\n\t\t\t\t\t\n\t\t\t\t\tif (scrollTop >= bannerHeightPx) {\n\t\t\t\t\t\t// æ»šåŠ¨è¶…è¿‡è½®æ’­å›¾é«˜åº¦ï¼Œå›ºå®šå¯¼èˆªæ \n\t\t\t\t\t\tif (!this.isNavFixed) {\n\t\t\t\t\t\t\tthis.isNavFixed = true\n\t\t\t\t\t\t\tthis.navTop = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// æœªè¶…è¿‡è½®æ’­å›¾é«˜åº¦ï¼Œå¯¼èˆªæ è·Ÿéšæ»šåŠ¨\n\t\t\t\t\t\tthis.isNavFixed = false\n\t\t\t\t\t\tthis.navTop = 0\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n// ğŸ”¥ æ–°å¢ï¼šå¤–å±‚å®¹å™¨\n.index-page-wrapper {\n\tposition: relative;\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\toverflow: hidden;\n}\n\n// ğŸ”¥ ä¿®æ”¹ï¼šè‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°æ ·å¼\n.custom-refresh-wrapper {\n\t position: relative;\n\t   width: 100%;\n\t   height: 0;\n\t   display: flex;\n\t   align-items: center;\n\t   justify-content: center;\n\t   background: linear-gradient(180deg, #f5f5f5 0%, rgba(245, 245, 245, 0.95) 100%);\n\t   overflow: hidden;\n\t   z-index: 50;\n\t   will-change: transform, opacity;\n\t   \n\t   // ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šæ·»åŠ é«˜åº¦å’Œé€æ˜åº¦çš„è¿‡æ¸¡åŠ¨ç”»\n\t   transition: \n\t     height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), /* ç¼“åŠ¨å‡½æ•°ï¼šease-out-quad */\n\t     opacity 0.3s ease;\n\t\n\t&.is-refreshing {\n\t\t\tpointer-events: auto;\n\t\t\t    transition: \n\t\t\t      height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94),\n\t\t\t      opacity 0.4s ease;\n\t\t}\n\t\t\n\t\t// ğŸ”¥ æ–°å¢ï¼šæ˜¾ç¤ºçŠ¶æ€ä¸‹åŠ é€Ÿè¿‡æ¸¡\n\t\t  &.show {\n\t\t    transition: \n\t\t      height 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),\n\t\t      opacity 0.2s ease;\n\t\t  }\n\t\n\t.refresh-content {\n\t\tdisplay: flex;\n\t\t    flex-direction: column;\n\t\t    align-items: center;\n\t\t    gap: 8rpx;\n\t\t    padding: 10rpx 0; // âœ… å‡å°å†…è¾¹è·\n\t\t\t// ğŸ”¥ æ–°å¢ï¼šå›¾æ ‡å’Œæ–‡å­—ä¹Ÿæ·»åŠ è¿‡æ¸¡\n\t\t\t    transition: transform 0.3s ease;\n\t\t\n\t\t.refresh-icon {\n\t\t\twidth: 50rpx; // âœ… ç¨å¾®ç¼©å°å›¾æ ‡\n\t\t\t      height: 50rpx;\n\t\t\t\t  transition: transform 0.3s ease; // ğŸ”¥ æ·»åŠ è¿‡æ¸¡\n\t\t\t\t  \n\t\t\t       &.rotating {\n\t\t\t              animation: rotate360 1s linear infinite;\n\t\t\t            }\n\t\t\n\t\t}\n\t\t.refresh-text {\n\t\t\t font-size: 24rpx;\n\t\t\t      color: #666;\n\t\t\t      white-space: nowrap;\n\t\t\t      transition: opacity 0.3s ease; // ğŸ”¥ æ·»åŠ è¿‡æ¸¡\n\t\t}\n\t}\n}\n\n@keyframes rotate360 {\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n// ğŸ”¥ ä¿®æ”¹ï¼šé¡µé¢å†…å®¹åŒºåŸŸ\n.index-page {\n\tposition: relative; // âœ… å¿…é¡»è®¾ç½®\n\t    min-height: 100vh;\n\t    background-color: #f5f5f5;\n\t\t// ğŸ”¥ æ·»åŠ è¿‡æ¸¡åŠ¨ç”»\n\t\t  transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n// ğŸ”¥ æ–°å¢ï¼šå›¾ç‰‡å ä½ç¬¦æ ·å¼\n.card-image-wrapper {\n  width: 100%;\n  position: relative;\n  \n  .image-placeholder {\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    background: #f5f5f5;\n    min-height: 200rpx;\n    \n   // âœ… ä¼˜åŒ–åçš„éª¨æ¶å±ï¼ˆæ€§èƒ½æå‡ï¼‰\r\n   .skeleton-box {\r\n     width: 100%;\r\n     height: 200rpx;\r\n     background: #f0f0f0; // ğŸ”¥ æ”¹ä¸ºçº¯è‰²ï¼Œå»æ‰æ¸å˜\r\n     position: relative;\r\n     overflow: hidden;\r\n     \r\n     // ğŸ”¥ ä½¿ç”¨ä¼ªå…ƒç´ åšåŠ¨ç”»ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰\r\n     &::after {\r\n       content: '';\r\n       position: absolute;\r\n       top: 0;\r\n       left: -100%;\r\n       width: 100%;\r\n       height: 100%;\r\n       background: linear-gradient(\r\n         90deg,\r\n         transparent,\r\n         rgba(255, 255, 255, 0.4),\r\n         transparent\r\n       );\r\n       animation: skeleton-shimmer 1.5s ease-in-out infinite;\r\n     }\r\n   }\r\n   \r\n   @keyframes skeleton-shimmer {\r\n     0% {\r\n       transform: translateX(0);\r\n     }\r\n     100% {\r\n       transform: translateX(300%); // ğŸ”¥ ä½¿ç”¨ transform ä»£æ›¿ background-position\r\n     }\r\n   }\n    \n    .card-image {\n      width: 100%;\n      display: block;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    }\n    \n    &.image-loaded .card-image {\n      opacity: 1;\n    }\n    \n    &.image-loaded .skeleton-box {\n      display: none;\n    }\n  }\n}\n\n@keyframes skeleton-loading {\n  0% {\n    background-position: 200% 0;\n  }\n  100% {\n    background-position: -200% 0;\n  }\n}\n\n// ğŸ”¥ ä¿®æ”¹ï¼šå…¬å‘Šæ å¤–å±‚æŒ‰é’®æ ·å¼\n.notice-bar-wrapper {\n\twidth: 100%;\n\tbackground: transparent;\n\tborder: none;\n\tpadding: 0;\n\tmargin: 0;\n\tline-height: 1;\n\tdisplay: block;\n\t\n\t&::after {\n\t\tborder: none;\n\t}\n}\n\n// ğŸ”¥ ä¿®æ”¹ï¼šå…¬å‘Šæ æ ·å¼\n.notice-bar {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground: linear-gradient(135deg, #fff5f5 0%, #fff 100%);\n\tpadding: 20rpx 24rpx;\n\tborder-bottom: 1rpx solid #ffe4e4;\n\tposition: relative;\n\twidth: 100%;\n\ttransition: all 0.2s ease;\n\t\n\t&:active {\n\t\tbackground: linear-gradient(135deg, #ffebeb 0%, #fff5f5 100%);\n\t\ttransform: scale(0.99);\n\t}\n\t\n\t.notice-icon {\n\t\tfont-size: 32rpx;\n\t\tmargin-right: 12rpx;\n\t\tanimation: shake 2s infinite;\n\t\tflex-shrink: 0;\n\t}\n\t\n\t.notice-content {\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\t\n\t\t.notice-text {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #C00000;\n\t\t\tline-height: 1.5;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\t\n\t.notice-arrow {\n\t\tfont-size: 40rpx;\n\t\tcolor: #C00000;\n\t\tfont-weight: bold;\n\t\tpadding: 0 8rpx;\n\t\tflex-shrink: 0;\n\t}\n}\n\n@keyframes shake {\n\t0%, 100% {\n\t\ttransform: rotate(0deg);\n\t}\n\t10%, 30% {\n\t\ttransform: rotate(-10deg);\n\t}\n\t20%, 40% {\n\t\ttransform: rotate(10deg);\n\t}\n\t50% {\n\t\ttransform: rotate(0deg);\n\t}\n}\n\n/* âœ…âœ…âœ… 1. ä¿®æ”¹åçš„å¯¼èˆªæ æ ·å¼ (å±…ä¸­å¸ƒå±€) âœ…âœ…âœ… */\n.primary-nav {\n  display: flex;\n  align-items: center;\n  justify-content: space-between; /* ä¸¤ç«¯å¯¹é½ï¼Œä¸­é—´è‡ªé€‚åº” */\n  background-color: #fff;\n  padding: 0 24rpx;\n  height: 88rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  transition: all 0.3s ease;\n  position: relative;\n  z-index: 100;\n\n  &.is-fixed {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);\n  }\n\n  /* å·¦ä¾§ï¼šèœå•æŒ‰é’®åŒº */\n  .nav-left {\n    flex: 0 0 80rpx; /* å›ºå®šå®½åº¦ */\n    display: flex;\n    justify-content: flex-start;\n    \n    .menu-btn {\n      width: 72rpx;\n      height: 64rpx;\n      background: transparent;\n      border-radius: 16rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      \n      .menu-icon-img {\r\n          width: 20px;  /* è®¾ç½®åˆé€‚çš„å¤§å° */\r\n          height: 20px;\r\n        }\n    }\n  }\n\n  /* ä¸­é—´ï¼šTab åŒºåŸŸ (å±…ä¸­) */\n  .nav-center {\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n    .nav-tab {\n      position: relative;\n      padding: 16rpx 12rpx;\n      margin: 0 10rpx;\n\n      .nav-text {\n        font-size: 30rpx;\n        color: #666;\n        font-weight: 500;\n        transition: all 0.3s;\n      }\n\n      &.active .nav-text {\n        color: #333;\n        font-weight: 600;\n        font-size: 32rpx;\n      }\n      \n      .nav-indicator {\n        position: absolute;\n        bottom: 6rpx;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 28rpx;\n        height: 6rpx;\n        background: #C00000;\n        border-radius: 3rpx;\n      }\n    }\n\n    .sort-divider {\n      color: #ddd;\n      font-size: 24rpx;\n      margin: 0 4rpx;\n    }\n  }\n\n  /* å³ä¾§ï¼šæœç´¢æŒ‰é’®åŒº */\n  .nav-right {\n    flex: 0 0 80rpx; /* å›ºå®šå®½åº¦ï¼Œä¸å·¦ä¾§ä¿æŒå¹³è¡¡ */\n    display: flex;\n    justify-content: flex-end;\n    \n    .search-btn {\n      width: 72rpx;\n      height: 64rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      \n      .search-icon-img {\r\n          width: 44rpx;\r\n          height: 44rpx;\r\n        }\n    }\n  }\n}\n\n/* âœ…âœ…âœ… 2. æ–°å¢ï¼šä¾§è¾¹èœå•æ ·å¼ (å®Œå…¨ç§»æ¤) âœ…âœ…âœ… */\n.side-menu-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 9998;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.3s ease;\n\n  &.show {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n\n.side-menu-drawer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 600rpx;\n  background: #F6F6F6;\n  box-shadow: 4rpx 0 24rpx rgba(0, 0, 0, 0.05);\n  transform: translateX(-100%);\n  transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);\n  display: flex;\n  flex-direction: column;\n  z-index: 9999;\n  border-top-right-radius: 32rpx;\n  border-bottom-right-radius: 32rpx;\n\n  &.show {\n    transform: translateX(0);\n  }\n}\n\n.menu-scroll-area {\n  flex: 1;\n  height: 0;\n  padding: 0 24rpx; /* è°ƒæ•´é¡¶éƒ¨é—´è· */\n  box-sizing: border-box;\n}\n\n.drawer-spacer { height: 0; display: none; }\n.bottom-spacer { height: 180rpx; }\n\n/* èœå•åˆ†ç»„å¡ç‰‡ */\n.group-card {\n  background: #ffffff;\n  border-radius: 24rpx;\n  margin-bottom: 24rpx;\n  margin-top: 0 !important;\n  padding: 8rpx 0;\n  box-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.02);\n  overflow: hidden;\n}\n\n.menu-row {\n  display: flex;\n  align-items: center;\n  padding: 32rpx 32rpx;\n  position: relative;\n  \n  &:active { background-color: #f9f9f9; }\n\n  .icon-wrapper {\n    width: 48rpx;\n    height: 48rpx;\n    margin-right: 24rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n    .menu-icon-img { width: 40rpx; height: 40rpx; }\n  }\n\n  .menu-text {\n    flex: 1;\n    font-size: 30rpx;\n    color: #333;\n    font-weight: 500;\r\n\tletter-spacing: 0.5rpx;\n  }\n  \n  .info-count { font-size: 24rpx; color: #999; }\n}\n\n/* åº•éƒ¨æ“ä½œæ  */\n.drawer-bottom {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 160rpx;\n  background: #ffffff;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding-bottom: env(safe-area-inset-bottom);\n  border-top: 1rpx solid rgba(0, 0, 0, 0.03);\n  border-bottom-right-radius: 32rpx;\n\n  .bottom-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 20rpx;\n\n    /* ğŸ”¥ æ¢å¤ Treehole æ ·å¼ï¼šç°è‰²åœ†å½¢èƒŒæ™¯ */\n    .bottom-icon-wrapper {\n      width: 90px;   /* çº¦ 100rpx */\n      height: 90px;\n      background: transparent; /* ç°è‰²èƒŒæ™¯ */\n      border-radius: 0;  /* åœ†å½¢ */\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-bottom: -18px; /* æ¢å¤æ ‡å‡†é—´è· */\n      position: relative;\n      \n      /* æ¢å¤å°å›¾æ ‡å°ºå¯¸ */\n      .bottom-icon-img {\n        width: 30px;\n        height: 30px;\n      }\n    }\n    \n    .bottom-text {\n      font-size: 24rpx;\n      color: #666;\n    }\n  }\n}\n.icon-btn-reset {\n  width: 100%; height: 100%;\n  background: transparent; padding: 0; margin: 0; line-height: 1; border: none;\n  display: flex; align-items: center; justify-content: center;\n  &::after { border: none; }\n}\n\n/* âœ… ä¿®æ”¹åçš„äºŒçº§å¯¼èˆªæ æ ·å¼ (å±…ä¸­å¹³é“º) */\n.category-nav {\n    background-color: #fff;\n    /* border-bottom: 1rpx solid #f0f0f0; */ /* Treehole ä¼¼ä¹æ²¡æœ‰åº•éƒ¨è¾¹æ¡†ï¼Œå¯æ ¹æ®éœ€è¦ä¿ç•™æˆ–åˆ é™¤ */\n    \n    .category-bar-inner {\n        display: flex;\n        justify-content: space-around; /* ğŸ”¥ å…³é”®ï¼šå¹³å‡åˆ†å¸ƒ */\n        align-items: center;\n        padding: 16rpx 24rpx; /* ä¸Šä¸‹ç•™ç™½ */\n        \n        .category-item {\n            flex: 1; /* æ¯ä¸ªé€‰é¡¹å ç›¸åŒçš„å®½åº¦ */\n            text-align: center;\n            padding: 12rpx 0;\n            position: relative;\n            \n            .category-text {\n                font-size: 28rpx;\n                color: #666;\n                font-weight: 500;\n                transition: all 0.3s;\n            }\n            \n            &.active {\n                .category-text {\n                    color: #000;\n                    font-weight: 600; /* åŠ ç²— */\n                    font-size: 30rpx; /* é€‰ä¸­ç¨å¾®å˜å¤§ */\n                }\n            }\n            \n            &:active {\n                opacity: 0.7;\n            }\n        }\n    }\n}\n\n// âœ… å†…å®¹åŒºåŸŸ\n.content-section {\n\tpadding: 16rpx;\n\t\n\t.loading-container {\n\t\tpadding: 80rpx 0;\n\t\ttext-align: center;\n\t\t\n\t\t.loading-text {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.waterfall-container {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\talign-items: flex-start;\n\t\t\n\t\t.waterfall-column {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 12rpx;\n\t\t\t\n\t\t\t.waterfall-item {\n\t\t\t\twidth: 100%;\n\t\t\t\t\n\t\t\t\t.waterfall-card {\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\ttransform: translateY(-4rpx);\n\t\t\t\t\t\tbox-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.1);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.card-image-wrapper {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.card-image {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.card-content {\n\t\t\t\t\t\tpadding: 12rpx 14rpx 6rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.content-text {\n\t\t\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\t\t\tline-height: 1.5;\n\t\t\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t\t\t-webkit-line-clamp: 3;\n\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.card-header {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 8rpx 14rpx 10rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.user-info {\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tgap: 10rpx;\n\t\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t\tmin-width: 0;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.card-avatar {\n\t\t\t\t\t\t\t\twidth: 48rpx;\n\t\t\t\t\t\t\t\theight: 48rpx;\n\t\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.card-nickname {\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.like-action {\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tgap: 6rpx;\n\t\t\t\t\t\t\tpadding: 8rpx 12rpx;\n\t\t\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\t\t\ttransition: all 0.2s;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\t\tbackground: #f5f5f5;\n\t\t\t\t\t\t\t\ttransform: scale(0.95);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.like-icon {\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.like-icon-img {\n\t\t\t\t\t\t\t\twidth: 32rpx;\n\t\t\t\t\t\t\t\theight: 32rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.action-count {\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.empty-state {\n\t\tpadding: 120rpx 0;\n\t\ttext-align: center;\n\t\t\n\t\t.empty-icon {\n\t\t\tfont-size: 80rpx;\n\t\t\tdisplay: block;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\t\t\n\t\t.empty-text {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n}\n\n.bottom-spacing {\n\theight: 100rpx;\n}\n\n@keyframes slideIn {\n\tfrom {\n\t\twidth: 0;\n\t\topacity: 0;\n\t}\n\tto {\n\t\twidth: 40rpx;\n\t\topacity: 1;\n\t}\n}\n</style>\n\n","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1763795576075\n      var cssReload = require(\"D:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}