{"version":3,"sources":["uni-app:///main.js","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/pages/home/home.vue?de2c","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/pages/home/home.vue?333a","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/pages/home/home.vue?5a53","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/pages/home/home.vue?5a68","uni-app:///pages/home/home.vue","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/pages/home/home.vue?100b","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/pages/home/home.vue?15ac"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","bannerList","sortMode","categoryMode","postList","page","pageSize","isLoading","isLoadingMore","hasMore","excludePostIds","isReachingBottom","lastReachTime","reachThrottle","isNavFixed","navTop","bannerHeight","scrollTop","iconLikeUrl","iconLikedUrl","computed","leftColumnPosts","rightColumnPosts","onLoad","systemInfo","uni","code","res","onPullDownRefresh","onReachBottom","console","methods","loadBannerList","id","title","image","url","type","boardId","setDefaultBanner","updatePostLikeStatus","isLiked","likeCount","selectSortMode","icon","truncateNickname","selectCategory","gotoSearch","loadPostList","department","params","openid","filterMode","isTopicDiscussion","categoryMap","newPosts","post","timeText","images","viewCount","commentCount","loadFollowPosts","followingIds","following_ids","loadMore","refreshPostList","resetAndReload","gotoPostDetail","gotoUserProfile","payload","nickname","avatarUrl","encodedPayload","toggleLike","post_id","is_like","index","onBannerClick","processPostImages","copyLinkAndNotify","success","duration","formatTime","showMessageToast","getEmptyText","onPageScroll"],"mappings":"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","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=92bb8f34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !(_vm.isLoading && _vm.page === 1) ? _vm.postList.length : null\n  var l0 =\n    !(_vm.isLoading && _vm.page === 1) && g0 > 0\n      ? _vm.__map(_vm.leftColumnPosts, function (post, __i0__) {\n          var $orig = _vm.__get_orig(post)\n          var g1 = post.images && post.images.length > 0\n          var m0 = _vm.truncateNickname(post.nickname)\n          return {\n            $orig: $orig,\n            g1: g1,\n            m0: m0,\n          }\n        })\n      : null\n  var l1 =\n    !(_vm.isLoading && _vm.page === 1) && g0 > 0\n      ? _vm.__map(_vm.rightColumnPosts, function (post, __i1__) {\n          var $orig = _vm.__get_orig(post)\n          var g2 = post.images && post.images.length > 0\n          var m1 = _vm.truncateNickname(post.nickname)\n          return {\n            $orig: $orig,\n            g2: g2,\n            m1: m1,\n          }\n        })\n      : null\n  var m2 =\n    !(_vm.isLoading && _vm.page === 1) && !(g0 > 0) ? _vm.getEmptyText() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        l1: l1,\n        m2: m2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index-page\">\r\n\t\t\r\n\t\t<!-- ğŸ”¥ ä¿®æ”¹ï¼šå…¬å‘Šæ  - æ•´ä¸ªåŒºåŸŸéƒ½å¯ç‚¹å‡» -->\r\n\t\t<button class=\"notice-bar-wrapper\" open-type=\"contact\">\r\n\t\t\t<view class=\"notice-bar\">\r\n\t\t\t\t<view class=\"notice-icon\">ğŸ“¢</view>\r\n\t\t\t\t<view class=\"notice-content\">\r\n\t\t\t\t\t<text class=\"notice-text\">è¯·ç‚¹å‡»æ­¤å¤„è·³è½¬åˆ°å®¢æœåé¦ˆï¼Œå‘æˆ‘ä»¬åé¦ˆé—®é¢˜</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"notice-arrow\">â€º</view>\r\n\t\t\t</view>\r\n\t\t</button>\r\n\t\t\r\n\t\t<!-- âœ… ä¸€çº§å¯¼èˆªæ ï¼ˆå‘ç°/å…³æ³¨/æœ€æ–°ï¼‰ -->\r\n\t\t<view \r\n\t\t    class=\"primary-nav\"\r\n\t\t    :class=\"{ 'is-fixed': isNavFixed }\"\r\n\t\t    :style=\"{ top: navTop + 'px' }\"\r\n\t\t>\r\n\t\t    <view class=\"nav-left\">\r\n\t\t        <view \r\n\t\t            class=\"nav-tab\"\r\n\t\t            :class=\"{ active: sortMode === 'discover' }\"\r\n\t\t            @click=\"selectSortMode('discover')\"\r\n\t\t        >\r\n\t\t            <text class=\"nav-text\">å‘ç°</text>\r\n\t\t            <view class=\"nav-indicator\" v-if=\"sortMode === 'discover'\"></view>\r\n\t\t        </view>\r\n\t\t        \r\n\t\t        <!-- ğŸ†• æ–°å¢ï¼šå…³æ³¨å¯¼èˆª -->\r\n\t\t        <view \r\n\t\t            class=\"nav-tab\"\r\n\t\t            :class=\"{ active: sortMode === 'follow' }\"\r\n\t\t            @click=\"selectSortMode('follow')\"\r\n\t\t        >\r\n\t\t            <text class=\"nav-text\">å…³æ³¨</text>\r\n\t\t            <view class=\"nav-indicator\" v-if=\"sortMode === 'follow'\"></view>\r\n\t\t        </view>\r\n\t\t        \r\n\t\t        <view \r\n\t\t            class=\"nav-tab\"\r\n\t\t            :class=\"{ active: sortMode === 'latest' }\"\r\n\t\t            @click=\"selectSortMode('latest')\"\r\n\t\t        >\r\n\t\t            <text class=\"nav-text\">æœ€æ–°</text>\r\n\t\t            <view class=\"nav-indicator\" v-if=\"sortMode === 'latest'\"></view>\r\n\t\t        </view>\r\n\t\t    </view>\r\n\t\t    \r\n\t\t    <!-- âœ… æœç´¢å›¾æ ‡ -->\r\n\t\t    <view class=\"nav-right\" @click=\"gotoSearch\">\r\n\t\t        <text class=\"search-icon\">ğŸ”</text>\r\n\t\t    </view>\r\n\t\t</view>\r\n\r\n\t\t\r\n\t\t<!-- âœ… äºŒçº§åˆ†ç±»å¯¼èˆªæ ï¼ˆä»…åœ¨\"å‘ç°\"æ¨¡å¼ä¸‹æ˜¾ç¤ºï¼‰ -->\r\n\t\t<view class=\"category-nav\" v-if=\"sortMode === 'discover'\">\r\n\t\t\t<scroll-view class=\"category-scroll\" scroll-x>\r\n\t\t\t\t<view class=\"category-list\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"category-item\"\r\n\t\t\t\t\t\t:class=\"{ active: categoryMode === 'recommend' }\"\r\n\t\t\t\t\t\t@click=\"selectCategory('recommend')\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"category-text\">æ¨è</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"category-item\"\r\n\t\t\t\t\t\t:class=\"{ active: categoryMode === 'daily' }\"\r\n\t\t\t\t\t\t@click=\"selectCategory('daily')\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"category-text\">æ—¥å¸¸</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"category-item\"\r\n\t\t\t\t\t\t:class=\"{ active: categoryMode === 'friend' }\"\r\n\t\t\t\t\t\t@click=\"selectCategory('friend')\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"category-text\">äº¤å‹</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"category-item\"\r\n\t\t\t\t\t\t:class=\"{ active: categoryMode === 'complaint' }\"\r\n\t\t\t\t\t\t@click=\"selectCategory('complaint')\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"category-text\">åæ§½</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- âœ… å†…å®¹åŒºåŸŸ -->\r\n\t\t<view class=\"content-section\">\r\n\t\t\t<!-- åŠ è½½çŠ¶æ€ -->\r\n\t\t\t<view class=\"loading-container\" v-if=\"isLoading && page === 1\">\r\n\t\t\t\t<text class=\"loading-text\">åŠ è½½ä¸­...</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- âœ… åŒåˆ—ç€‘å¸ƒæµå¸ƒå±€ -->\r\n\t\t\t<view class=\"waterfall-container\" v-else-if=\"postList.length > 0\">\r\n\t\t\t\t<!-- å·¦åˆ— -->\r\n\t\t\t\t<view class=\"waterfall-column\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"waterfall-item\" \r\n\t\t\t\t\t\tv-for=\"post in leftColumnPosts\" \r\n\t\t\t\t\t\t:key=\"post.id\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"waterfall-card\">\r\n\t\t\t\t\t\t\t<!-- å›¾ç‰‡ï¼ˆå¦‚æœæœ‰ï¼‰ -->\r\n\t\t\t\t\t\t\t<view class=\"card-image-wrapper\" v-if=\"post.images && post.images.length > 0\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\tclass=\"card-image\"\r\n\t\t\t\t\t\t\t\t\t:src=\"post.images[0]\" \r\n\t\t\t\t\t\t\t\t\tmode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- å†…å®¹ -->\r\n\t\t\t\t\t\t\t<view class=\"card-content\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t\t\t\t<text class=\"content-text\">{{ post.content }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- ç”¨æˆ·ä¿¡æ¯å’Œç‚¹èµ -->\r\n\t\t\t\t\t\t\t<view class=\"card-header\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-info\" @click=\"gotoUserProfile(post)\">\r\n\t\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t\tclass=\"card-avatar\" \r\n\t\t\t\t\t\t\t\t\t\t:src=post.avatar\r\n\t\t\t\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"card-nickname\">{{ truncateNickname(post.nickname) }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<view class=\"like-action\" @click.stop=\"toggleLike(post)\">\r\n\t\t\t\t\t\t\t\t    <image\r\n\t\t\t\t\t\t\t\t        class=\"like-icon-img\"\r\n\t\t\t\t\t\t\t\t        :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\"\r\n\t\t\t\t\t\t\t\t        mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t\t    ></image>\r\n\t\t\t\t\t\t\t\t    <text class=\"action-count\">{{ post.likeCount }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- å³åˆ— -->\r\n\t\t\t\t<view class=\"waterfall-column\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"waterfall-item\" \r\n\t\t\t\t\t\tv-for=\"post in rightColumnPosts\" \r\n\t\t\t\t\t\t:key=\"post.id\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"waterfall-card\">\r\n\t\t\t\t\t\t\t<!-- å›¾ç‰‡ï¼ˆå¦‚æœæœ‰ï¼‰ -->\r\n\t\t\t\t\t\t\t<view class=\"card-image-wrapper\" v-if=\"post.images && post.images.length > 0\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\tclass=\"card-image\"\r\n\t\t\t\t\t\t\t\t\t:src=\"post.images[0]\" \r\n\t\t\t\t\t\t\t\t\tmode=\"widthFix\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- å†…å®¹ -->\r\n\t\t\t\t\t\t\t<view class=\"card-content\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t\t\t\t<text class=\"content-text\">{{ post.content }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- ç”¨æˆ·ä¿¡æ¯å’Œç‚¹èµ -->\r\n\t\t\t\t\t\t\t<view class=\"card-header\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-info\" @click=\"gotoUserProfile(post)\">\r\n\t\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t\tclass=\"card-avatar\" \r\n\t\t\t\t\t\t\t\t\t\t:src=post.avatar \r\n\t\t\t\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"card-nickname\">{{ truncateNickname(post.nickname) }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<view class=\"like-action\" @click.stop=\"toggleLike(post)\">\r\n\t\t\t\t\t\t\t\t    <image\r\n\t\t\t\t\t\t\t\t        class=\"like-icon-img\"\r\n\t\t\t\t\t\t\t\t        :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\"\r\n\t\t\t\t\t\t\t\t        mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t\t    ></image>\r\n\t\t\t\t\t\t\t\t    <text class=\"action-count\">{{ post.likeCount }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- ç©ºçŠ¶æ€ -->\r\n\t\t\t<view class=\"empty-state\" v-else>\r\n\t\t\t\t<text class=\"empty-icon\">ğŸ“­</text>\r\n\t\t\t\t<text class=\"empty-text\">{{ getEmptyText() }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- åº•éƒ¨é—´è· -->\r\n\t\t<view class=\"bottom-spacing\"></view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport { mapState, mapMutations } from 'vuex'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// è½®æ’­å›¾æ•°æ®\r\n\t\t\t\tbannerList: [],\r\n\t\t\t\t\r\n\t\t\t\t// âœ… å¯¼èˆªå’Œåˆ†ç±»\r\n\t\t\t\tsortMode: 'discover', // discover(å‘ç°) / follow(å…³æ³¨) / latest(æœ€æ–°)\r\n\t\t\t\tcategoryMode: 'recommend', // recommend(æ¨è) / daily(æ—¥å¸¸) / friend(äº¤å‹) / complaint(åæ§½)\r\n\t\t\t\t\r\n\t\t\t\t// âœ… å¸–å­åˆ—è¡¨\r\n\t\t\t\tpostList: [],\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisLoadingMore: false,\r\n\t\t\t\thasMore: true,\r\n\t\t\t\t\r\n\t\t\t\t// âœ… æ¨èæ¨¡å¼æ’é™¤åˆ—è¡¨\r\n\t\t\t\texcludePostIds: [],\r\n\t\t\t\t\r\n\t\t\t\t// é˜²æŠ–ç›¸å…³\r\n\t\t\t\tisReachingBottom: false,\r\n\t\t\t\tlastReachTime: 0,\r\n\t\t\t\treachThrottle: 500,\r\n\t\t\t\t// âœ… å¯¼èˆªæ å¸é¡¶ç›¸å…³\r\n\t\t\t\tisNavFixed: false,     // æ˜¯å¦å›ºå®š\r\n\t\t\t\tnavTop: 0,              // å¯¼èˆªæ çš„ top å€¼\r\n\t\t\t\tbannerHeight: 300,      // è½®æ’­å›¾é«˜åº¦ï¼ˆrpx è½¬ px åçš„å€¼ï¼‰\r\n\t\t\t\tscrollTop: 0,           // å½“å‰æ»šåŠ¨ä½ç½®\r\n\t\t\t\ticonLikeUrl: 'https://img.xinshi00.com/label/like.png',\r\n\t\t\t\ticonLikedUrl: 'https://img.xinshi00.com/label/liked.png',\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcomputed: {\r\n\t\t\t...mapState('m_user', ['openid', 'userBase', 'preference']),\r\n\t\t\t\r\n\t\t\t// å·¦åˆ—å¸–å­\r\n\t\t\tleftColumnPosts() {\r\n\t\t\t\treturn this.postList.filter((_, index) => index % 2 === 0)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// å³åˆ—å¸–å­\r\n\t\t\trightColumnPosts() {\r\n\t\t\t\treturn this.postList.filter((_, index) => index % 2 === 1)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync onLoad() {\r\n\t\t\t// è·å–ç³»ç»Ÿä¿¡æ¯ï¼Œè®¡ç®—è½®æ’­å›¾é«˜åº¦\r\n\t\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\t\tthis.bannerHeight = 300 // rpx\r\n\t\t\t\r\n\t\t\t// âœ… åŠ è½½è½®æ’­å›¾æ•°æ®\r\n\t\t\tawait this.loadBannerList()\r\n\t\t\t\t\t\t\r\n\t\t\tawait this.loadPostList()\r\n\t\t\t\r\n\t\t\tif (this.openid) {\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/users/userinfo', { code: this.openid })\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tthis.updateUserBase(res.message)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.refreshPostList()\r\n\t\t},\r\n\t\t\r\n\t\tonReachBottom() {\r\n\t\t\tconst now = Date.now()\r\n\t\t\t\r\n\t\t\tif (now - this.lastReachTime < this.reachThrottle) {\r\n\t\t\t\tconsole.log('[onReachBottom] è§¦å‘è¿‡äºé¢‘ç¹ï¼Œå¿½ç•¥')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.lastReachTime = now\r\n\t\t\tconsole.log('[onReachBottom] è§¦å‘ä¸Šæ‹‰åŠ è½½')\r\n\t\t\tthis.loadMore()\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t...mapMutations('m_user', ['updateUserBase', 'updatepreference']),\r\n\t\t\t\r\n\t\t\t// âœ… æ–°å¢ï¼šåŠ è½½è½®æ’­å›¾æ•°æ®\r\n\t\t\t\t\t\tasync loadBannerList() {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tconst { data: res } = await uni.$http.get('/board/recentlist')\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (res.meta.status === 200 && res.message && res.message.length > 0) {\r\n\t\t\t\t\t\t\t\t\t// å°†åç«¯æ•°æ®è½¬æ¢ä¸ºè½®æ’­å›¾æ ¼å¼\r\n\t\t\t\t\t\t\t\t\tthis.bannerList = res.message.map(board => ({\r\n\t\t\t\t\t\t\t\t\t\tid: board.id,\r\n\t\t\t\t\t\t\t\t\t\ttitle: board.description || 'å°é»‘æ¿ä½œå“',\r\n\t\t\t\t\t\t\t\t\t\timage: board.image_url,\r\n\t\t\t\t\t\t\t\t\t\turl: '/subpkg/board/board',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\t\t\t\t\t\tboardId: board.id // ä¿å­˜å°é»‘æ¿IDï¼Œæ–¹ä¾¿åç»­å¯èƒ½çš„è¯¦æƒ…è·³è½¬\r\n\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tconsole.log('âœ… è½®æ’­å›¾åŠ è½½æˆåŠŸ:', this.bannerList.length, 'å¼ ')\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.warn('âš ï¸ æœªè·å–åˆ°è½®æ’­å›¾æ•°æ®ï¼Œä½¿ç”¨é»˜è®¤å›¾ç‰‡')\r\n\t\t\t\t\t\t\t\t\tthis.setDefaultBanner()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('âŒ è½®æ’­å›¾åŠ è½½å¤±è´¥:', error)\r\n\t\t\t\t\t\t\t\tthis.setDefaultBanner()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// âœ… æ–°å¢ï¼šè®¾ç½®é»˜è®¤è½®æ’­å›¾ï¼ˆå…œåº•æ–¹æ¡ˆï¼‰\r\n\t\t\t\t\t\tsetDefaultBanner() {\r\n\t\t\t\t\t\t\tthis.bannerList = [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\t\t\ttitle: 'åä¸œå¸ˆèŒƒå¤§å­¦å®˜ç½‘',\r\n\t\t\t\t\t\t\t\t\timage: 'https://img.xinshi00.com/%E5%B0%8F%E9%BB%91%E6%9D%BF/1.jpg',\r\n\t\t\t\t\t\t\t\t\turl: '/subpkg/board/board',\r\n\t\t\t\t\t\t\t\t\ttype: 'page'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t // ğŸ”¥ æ–°å¢ï¼šæ›´æ–°å¸–å­ç‚¹èµçŠ¶æ€çš„æ–¹æ³•\r\n\t\t\t  updatePostLikeStatus(data) {\r\n\t\t\t    const { postId, isLiked, likeCount } = data\r\n\t\t\t    \r\n\t\t\t    console.log('ğŸ“¥ æ”¶åˆ°ç‚¹èµçŠ¶æ€æ›´æ–°:', data)\r\n\t\t\t    \r\n\t\t\t    // åœ¨ postList ä¸­æŸ¥æ‰¾å¯¹åº”çš„å¸–å­\r\n\t\t\t    const index = this.postList.findIndex(post => post.id === postId)\r\n\t\t\t    console.log(\"imhere\");\r\n\t\t\t\tconsole.log(index)\r\n\t\t\t    if (index !== -1) {\r\n\t\t\t      // æ›´æ–°å¸–å­çš„ç‚¹èµçŠ¶æ€\r\n\t\t\t      this.postList[index].isLiked = isLiked\r\n\t\t\t      this.postList[index].likeCount = likeCount\r\n\t\t\t      \r\n\t\t\t      // å¼ºåˆ¶æ›´æ–°è§†å›¾\r\n\t\t\t      this.$set(this.postList, index, { ...this.postList[index] })\r\n\t\t\t      \r\n\t\t\t      console.log(`âœ… å·²æ›´æ–°å¸–å­ ${postId} çš„ç‚¹èµçŠ¶æ€:`, {\r\n\t\t\t        isLiked,\r\n\t\t\t        likeCount\r\n\t\t\t      })\r\n\t\t\t    } else {\r\n\t\t\t      console.warn(`âš ï¸ æœªæ‰¾åˆ°å¸–å­ ${postId}`)\r\n\t\t\t    }\r\n\t\t\t  },\r\n\t\t\t  \r\n\t\t\t// âœ… ä¿®æ”¹ï¼šåˆ‡æ¢æ’åºæ¨¡å¼ï¼ˆå‘ç°/å…³æ³¨/æœ€æ–°ï¼‰\r\n\t\t\tselectSortMode(mode) {\r\n\t\t\t    if (this.sortMode === mode) return\r\n\t\t\t    \r\n\t\t\t    // ğŸ†• ç‚¹å‡»\"å…³æ³¨\"æ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€\r\n\t\t\t    if (mode === 'follow' && !this.openid) {\r\n\t\t\t        uni.showToast({\r\n\t\t\t            title: 'è¯·å…ˆç™»å½•',\r\n\t\t\t            icon: 'none'\r\n\t\t\t        })\r\n\t\t\t        uni.switchTab({ url: '/pages/my/my' })\r\n\t\t\t        return\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    this.sortMode = mode\r\n\t\t\t    \r\n\t\t\t    // åˆ‡æ¢åˆ°\"æœ€æ–°\"æˆ–\"å…³æ³¨\"æ—¶ï¼Œé‡ç½®åˆ†ç±»ä¸º\"æ¨è\"\r\n\t\t\t    if (mode === 'latest' || mode === 'follow') {\r\n\t\t\t        this.categoryMode = 'recommend'\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    this.resetAndReload()\r\n\t\t\t    console.log(`ğŸ”„ åˆ‡æ¢æ’åº: ${mode}`)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ğŸ”¥ æ–°å¢ï¼šæˆªæ–­æ˜µç§°çš„æ–¹æ³•\r\n\t\t\ttruncateNickname(name) {\r\n\t\t\t\t\t\tif (!name) return '';\r\n\t\t\t\t\t\tconst maxLength = 7; // é™åˆ¶ 7 ä¸ªå­—\r\n\t\t\t\t\t\tif (name.length > maxLength) {\r\n\t\t\t\t\t\t\treturn name.substring(0, maxLength) + '...';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn name;\r\n\t\t\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… åˆ‡æ¢åˆ†ç±»ï¼ˆæ¨è/æ—¥å¸¸/äº¤å‹/åæ§½ï¼‰\r\n\t\t\tselectCategory(category) {\r\n\t\t\t\tif (this.categoryMode === category) return\r\n\t\t\t\t\r\n\t\t\t\tthis.categoryMode = category\r\n\t\t\t\tthis.resetAndReload()\r\n\t\t\t\tconsole.log(`ğŸ“‚ åˆ‡æ¢åˆ†ç±»: ${category}`)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… è·³è½¬åˆ°æœç´¢é¡µé¢\r\n\t\t\tgotoSearch() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpkg/post-search/post-search?'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… åŠ è½½å¸–å­åˆ—è¡¨\r\n\t\t\tasync loadPostList() {\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\tuni.switchTab({ url: '/pages/my/my' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.isLoading) return\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.isLoading = true\r\n\t\t\t\t\tconst department = this.userBase?.major || ''\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\t\t\topenid: this.openid || '',\r\n\t\t\t\t\t\tdepartment: department,\r\n\t\t\t\t\t\tfilterMode: 'all',\r\n\t\t\t\t\t\tisTopicDiscussion: 'true'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// æ ¹æ®ä¸åŒæ¨¡å¼è®¾ç½®å‚æ•°\r\n\t\t\t\t\tif (this.sortMode === 'discover') {\r\n\t\t\t\t\t\t// å‘ç°æ¨¡å¼\r\n\t\t\t\t\t\tif (this.categoryMode === 'recommend') {\r\n\t\t\t\t\t\t\t// æ¨èï¼šä½¿ç”¨ç”¨æˆ·åå¥½ + æ’é™¤åˆ—è¡¨\r\n\t\t\t\t\t\t\tparams.preference = this.preference\r\n\t\t\t\t\t\t\tparams.excludePostIds = this.excludePostIds.join(',')\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// å…¶ä»–åˆ†ç±»ï¼šä¼ é€’åˆ†ç±»åç§°\r\n\t\t\t\t\t\t\tconst categoryMap = {\r\n\t\t\t\t\t\t\t\t'daily': 'æ—¥å¸¸',\r\n\t\t\t\t\t\t\t\t'friend': 'äº¤å‹',\r\n\t\t\t\t\t\t\t\t'complaint': 'åæ§½'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparams.category = categoryMap[this.categoryMode]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.sortMode === 'latest') {\r\n\t\t\t\t\t\t// æœ€æ–°æ¨¡å¼ï¼šæŒ‰æ—¶é—´æ’åº\r\n\t\t\t\t\t\tparams.sortBy = 'created_at'\r\n\t\t\t\t\t} else if (this.sortMode === 'follow') {\r\n\t\t\t\t\t\t// ğŸ†• å…³æ³¨æ¨¡å¼ï¼šè°ƒç”¨ followlist æ¥å£\r\n\t\t\t\t\t\treturn await this.loadFollowPosts()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(`ğŸ“¡ åŠ è½½å¸–å­ - é¡µç : ${this.page}, æ’é™¤: ${this.excludePostIds.length} ä¸ª`, params)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst { data: res } = await uni.$http.get('/posts/list', params)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\t\tlet newPosts = (res.message.list || []).map(post => ({\r\n\t\t\t\t\t\t\t...post,\r\n\t\t\t\t\t\t\ttimeText: this.formatTime(post.created_at),\r\n\t\t\t\t\t\t\timages: this.processPostImages(post.images),\r\n\t\t\t\t\t\t\tviewCount: post.viewCount || 0,\r\n\t\t\t\t\t\t\tlikeCount: post.likeCount || 0,\r\n\t\t\t\t\t\t\tcommentCount: post.commentCount || 0,\r\n\t\t\t\t\t\t\tisLiked: post.isLiked || false,\r\n\t\t\t\t\t\t\tisTopicDiscussion: post.isTopicDiscussion || 0\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// è¿‡æ»¤æ‰éè¯é¢˜è®¨è®ºå¸–å­\r\n\t\t\t\t\t\t// newPosts = newPosts.filter(post => post.isTopicDiscussion === 1)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// ğŸ“Œ åªåœ¨æ¨èæ¨¡å¼ä¸‹ç´¯ç§¯ excludePostIds\r\n\t\t\t\t\t\tif (this.sortMode === 'discover' && \r\n\t\t\t\t\t\t\tthis.categoryMode === 'recommend' && \r\n\t\t\t\t\t\t\tres.message.fetchedPostIds && \r\n\t\t\t\t\t\t\tres.message.fetchedPostIds.length > 0) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.excludePostIds = [...this.excludePostIds, ...res.message.fetchedPostIds]\r\n\t\t\t\t\t\t\tconsole.log(`âœ… ç´¯ç§¯å·²è·å–ID: ${this.excludePostIds.length} ä¸ª`)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\t\tthis.postList = newPosts\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.postList.push(...newPosts)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.hasMore = res.message.hasMore === true\r\n\t\t\t\t\t\tconsole.log(`âœ… åŠ è½½æˆåŠŸ - æ–°å¢: ${newPosts.length}, æ€»è®¡: ${this.postList.length}`)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (this.page === 1 && newPosts.length === 0) {\r\n\t\t\t\t\t\t\tthis.showMessageToast(this.getEmptyText())\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('âŒ åŠ è½½å¤±è´¥:', error)\r\n\t\t\t\t\tthis.showMessageToast('åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ')\r\n\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.isLoading = false\r\n\t\t\t\t\tthis.isLoadingMore = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ğŸ†• æ–°å¢ï¼šåŠ è½½å…³æ³¨ç”¨æˆ·çš„å¸–å­\r\n\t\t\tasync loadFollowPosts() {\r\n\t\t\t    try {\r\n\t\t\t        // æ£€æŸ¥æ˜¯å¦æœ‰å…³æ³¨åˆ—è¡¨\r\n\t\t\t        const followingIds = this.userBase?.following_ids || []\r\n\t\t\t        \r\n\t\t\t        if (!Array.isArray(followingIds) || followingIds.length === 0) {\r\n\t\t\t            console.log('âš ï¸ æ²¡æœ‰å…³æ³¨ä»»ä½•ç”¨æˆ·')\r\n\t\t\t            this.postList = []\r\n\t\t\t            this.hasMore = false\r\n\t\t\t            this.isLoading = false\r\n\t\t\t            this.isLoadingMore = false\r\n\t\t\t            return\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        const params = {\r\n\t\t\t            page: this.page,\r\n\t\t\t            pageSize: this.pageSize,\r\n\t\t\t            openid: this.openid,\r\n\t\t\t            following_ids: followingIds.join(',')\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        console.log(`ğŸ“¡ åŠ è½½å…³æ³¨å¸–å­ - é¡µç : ${this.page}, å…³æ³¨ç”¨æˆ·æ•°: ${followingIds.length}`)\r\n\t\t\t        \r\n\t\t\t        const { data: res } = await uni.$http.get('/posts/followlist', params)\r\n\t\t\t        \r\n\t\t\t        if (res.meta.status === 200) {\r\n\t\t\t            let newPosts = (res.message.list || []).map(post => ({\r\n\t\t\t                ...post,\r\n\t\t\t                timeText: this.formatTime(post.created_at),\r\n\t\t\t                images: this.processPostImages(post.images),\r\n\t\t\t                viewCount: post.view_count || 0,\r\n\t\t\t                likeCount: post.like_count || 0,\r\n\t\t\t                commentCount: post.comment_count || 0,\r\n\t\t\t                isLiked: post.is_liked || false\r\n\t\t\t            }))\r\n\t\t\t            \r\n\t\t\t            if (this.page === 1) {\r\n\t\t\t                this.postList = newPosts\r\n\t\t\t            } else {\r\n\t\t\t                this.postList.push(...newPosts)\r\n\t\t\t            }\r\n\t\t\t            \r\n\t\t\t            this.hasMore = newPosts.length >= this.pageSize\r\n\t\t\t            console.log(`âœ… å…³æ³¨å¸–å­åŠ è½½æˆåŠŸ - æ–°å¢: ${newPosts.length}, æ€»è®¡: ${this.postList.length}`)\r\n\t\t\t        } else {\r\n\t\t\t            console.error('âŒ åŠ è½½å¤±è´¥:', res.meta.msg)\r\n\t\t\t            this.showMessageToast(res.meta.msg || 'åŠ è½½å¤±è´¥')\r\n\t\t\t        }\r\n\t\t\t    } catch (error) {\r\n\t\t\t        console.error('âŒ è¯·æ±‚å¼‚å¸¸:', error)\r\n\t\t\t        this.showMessageToast('ç½‘ç»œé”™è¯¯')\r\n\t\t\t        this.hasMore = false\r\n\t\t\t    } finally {\r\n\t\t\t        this.isLoading = false\r\n\t\t\t        this.isLoadingMore = false\r\n\t\t\t    }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… ä¸Šæ‹‰åŠ è½½æ›´å¤š\r\n\t\t\tasync loadMore() {\r\n\t\t\t\tif (this.isReachingBottom || this.isLoading || !this.hasMore) {\r\n\t\t\t\t\tconsole.log('[loadMore] æ¡ä»¶æ£€æŸ¥å¤±è´¥ï¼Œè·³è¿‡')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.isReachingBottom = true\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.page++\r\n\t\t\t\t\tawait this.loadPostList()\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('[loadMore] åŠ è½½å¤±è´¥:', error)\r\n\t\t\t\t\tthis.page--\r\n\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.isReachingBottom = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… ä¸‹æ‹‰åˆ·æ–°\r\n\t\t\tasync refreshPostList() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.resetAndReload()\r\n\t\t\t\t\tawait this.loadPostList()\r\n\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t\tthis.showMessageToast('åˆ·æ–°æˆåŠŸ', 1500)\r\n\t\t\t\t\tconsole.log('ğŸ”„ ä¸‹æ‹‰åˆ·æ–°å®Œæˆ')\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('[refreshPostList] åˆ·æ–°å¤±è´¥:', error)\r\n\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t\tthis.showMessageToast('åˆ·æ–°å¤±è´¥')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… é‡ç½®å¹¶é‡æ–°åŠ è½½\r\n\t\t\tresetAndReload() {\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.postList = []\r\n\t\t\t\tthis.excludePostIds = []\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadPostList()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… è·³è½¬åˆ°å¸–å­è¯¦æƒ…\r\n\t\t\tgotoPostDetail(post) {\r\n\t\t\t\tthis.updatepreference(post.properties || post.category)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpkg/topic-detail/topic-detail?id=${post.id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… è·³è½¬åˆ°ç”¨æˆ·ä¸»é¡µ\r\n\t\t\tasync gotoUserProfile(post) {\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\tuni.switchTab({ url: '/pages/my/my' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!post) return\r\n\t\t\t\t\r\n\t\t\t\t// å¦‚æœæ˜¯å½“å‰ç”¨æˆ·è‡ªå·±\r\n\t\t\t\tif (post.user_openid === this.openid) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/subpkg/profile/profile'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// è·³è½¬åˆ°å…¶ä»–ç”¨æˆ·ä¸»é¡µ\r\n\t\t\t\tconst payload = {\r\n\t\t\t\t\topenid: post.user_openid,\r\n\t\t\t\t\tnickname: post.nickname,\r\n\t\t\t\t\tavatarUrl: post.avatar\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst encodedPayload = encodeURIComponent(JSON.stringify(payload))\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpkg/profile/profile?publisher=${encodedPayload}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… ç‚¹èµ/å–æ¶ˆç‚¹èµ\r\n\t\t\tasync toggleLike(post) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\t\tuni.switchTab({ url: '/pages/my/my' })\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst { data: res } = await uni.$http.post('/posts/like', {\r\n\t\t\t\t\t\tpost_id: post.id,\r\n\t\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\t\tis_like: !post.isLiked\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\t\tconst index = this.postList.findIndex(p => p.id === post.id)\r\n\t\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\t\tthis.postList[index].isLiked = !this.postList[index].isLiked\r\n\t\t\t\t\t\t\tthis.postList[index].likeCount = res.message.like_count || 0\r\n\t\t\t\t\t\t\tthis.$set(this.postList, index, {...this.postList[index]})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('ç‚¹èµå¤±è´¥:', error)\r\n\t\t\t\t\tthis.showMessageToast('æ“ä½œå¤±è´¥')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// âœ… è½®æ’­å›¾ç‚¹å‡»\r\n\t\t\tonBannerClick(banner) {\r\n\t\t\t\tswitch (banner.type) {\r\n\t\t\t\t\tcase 'page':\r\n\t\t\t\t\t\tuni.navigateTo({ url: banner.url })\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'web':\r\n\t\t\t\t\t\tthis.copyLinkAndNotify(banner.url, banner.title)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn('æœªçŸ¥çš„è·³è½¬ç±»å‹:', banner.type)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// å¤„ç†å›¾ç‰‡æ•°æ®\r\n\t\t\tprocessPostImages(images) {\r\n\t\t\t\tif (!images) return []\r\n\t\t\t\t\r\n\t\t\t\tif (typeof images === 'string') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\treturn JSON.parse(images)\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\treturn []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn Array.isArray(images) ? images : []\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// å¤åˆ¶é“¾æ¥å¹¶æç¤º\r\n\t\t\tcopyLinkAndNotify(url, title) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: url,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'é“¾æ¥å·²å¤åˆ¶ï¼Œè¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// æ ¼å¼åŒ–æ—¶é—´\r\n\t\t\tformatTime(timestamp) {\r\n\t\t\t\tconst date = new Date(timestamp)\r\n\t\t\t\tconst now = new Date()\r\n\t\t\t\tconst diff = now - date\r\n\t\t\t\t\r\n\t\t\t\tif (diff < 3600000) {\r\n\t\t\t\t\treturn Math.floor(diff / 60000) + 'åˆ†é’Ÿå‰'\r\n\t\t\t\t} else if (diff < 86400000) {\r\n\t\t\t\t\treturn Math.floor(diff / 3600000) + 'å°æ—¶å‰'\r\n\t\t\t\t} else if (diff < 2592000000) {\r\n\t\t\t\t\treturn Math.floor(diff / 86400000) + 'å¤©å‰'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn `${date.getMonth() + 1}-${date.getDate()}`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// æ˜¾ç¤ºæç¤ºæ¶ˆæ¯\r\n\t\t\tshowMessageToast(text, duration = 2000) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: text,\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: duration\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// è·å–ç©ºçŠ¶æ€æ–‡æœ¬\r\n\t\t\tgetEmptyText() {\r\n\t\t\t    if (this.sortMode === 'follow') {\r\n\t\t\t        return 'æš‚æ— å…³æ³¨ç”¨æˆ·çš„åŠ¨æ€\\nå¿«å»å…³æ³¨æ„Ÿå…´è¶£çš„äººå§~'\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    if (this.sortMode === 'latest') {\r\n\t\t\t        return 'æš‚æ— æœ€æ–°å†…å®¹'\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    const categoryNames = {\r\n\t\t\t        'recommend': 'æ¨è',\r\n\t\t\t        'daily': 'æ—¥å¸¸',\r\n\t\t\t        'friend': 'äº¤å‹',\r\n\t\t\t        'complaint': 'åæ§½'\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    return `æš‚æ— ${categoryNames[this.categoryMode]}å†…å®¹`\r\n\t\t\t},\r\n\r\n\t\t\t// âœ… ç›‘å¬é¡µé¢æ»šåŠ¨\r\n\t\t\t\tonPageScroll(e) {\r\n\t\t\t\t\tconst scrollTop = e.scrollTop\r\n\t\t\t\t\tthis.scrollTop = scrollTop\r\n\t\t\t\t\t\r\n\t\t\t\t\t// å°† rpx è½¬æ¢ä¸º pxï¼ˆå‡è®¾å±å¹•å®½åº¦ä¸º 375pxï¼‰\r\n\t\t\t\t\tconst bannerHeightPx = uni.upx2px(this.bannerHeight)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (scrollTop >= bannerHeightPx) {\r\n\t\t\t\t\t\t// æ»šåŠ¨è¶…è¿‡è½®æ’­å›¾é«˜åº¦ï¼Œå›ºå®šå¯¼èˆªæ \r\n\t\t\t\t\t\tif (!this.isNavFixed) {\r\n\t\t\t\t\t\t\tthis.isNavFixed = true\r\n\t\t\t\t\t\t\tthis.navTop = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// æœªè¶…è¿‡è½®æ’­å›¾é«˜åº¦ï¼Œå¯¼èˆªæ è·Ÿéšæ»šåŠ¨\r\n\t\t\t\t\t\tthis.isNavFixed = false\r\n\t\t\t\t\t\tthis.navTop = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.index-page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n// è½®æ’­å›¾åŒºåŸŸ\r\n.banner-section {\r\n\t.banner-swiper {\r\n\t\twidth: 100%;\r\n\t\theight: 400rpx;\r\n\t\t\r\n\t\t.banner-image {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// ğŸ”¥ ä¿®æ”¹ï¼šå…¬å‘Šæ å¤–å±‚æŒ‰é’®æ ·å¼\r\n.notice-bar-wrapper {\r\n\twidth: 100%;\r\n\tbackground: transparent;\r\n\tborder: none;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tline-height: 1;\r\n\tdisplay: block;\r\n\t\r\n\t&::after {\r\n\t\tborder: none;\r\n\t}\r\n}\r\n\r\n// ğŸ”¥ ä¿®æ”¹ï¼šå…¬å‘Šæ æ ·å¼\r\n.notice-bar {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbackground: linear-gradient(135deg, #fff5f5 0%, #fff 100%);\r\n\tpadding: 20rpx 24rpx;\r\n\tborder-bottom: 1rpx solid #ffe4e4;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\ttransition: all 0.2s ease;\r\n\t\r\n\t// æ·»åŠ ç‚¹å‡»æ•ˆæœ\r\n\t&:active {\r\n\t\tbackground: linear-gradient(135deg, #ffebeb 0%, #fff5f5 100%);\r\n\t\ttransform: scale(0.99);\r\n\t}\r\n\t\r\n\t.notice-icon {\r\n\t\tfont-size: 32rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t\tanimation: shake 2s infinite;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.notice-content {\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\t\r\n\t\t.notice-text {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #C00000;\r\n\t\t\tline-height: 1.5;\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t-webkit-line-clamp: 2;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// ğŸ”¥ ä¿®æ”¹ï¼šç®­å¤´æ ·å¼ï¼ˆä¸å†æ˜¯ç‹¬ç«‹æŒ‰é’®ï¼‰\r\n\t.notice-arrow {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #C00000;\r\n\t\tfont-weight: bold;\r\n\t\tpadding: 0 8rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n}\r\n\r\n// ä¿æŒåŸæœ‰çš„æ‘‡æ™ƒåŠ¨ç”»\r\n@keyframes shake {\r\n\t0%, 100% {\r\n\t\ttransform: rotate(0deg);\r\n\t}\r\n\t10%, 30% {\r\n\t\ttransform: rotate(-10deg);\r\n\t}\r\n\t20%, 40% {\r\n\t\ttransform: rotate(10deg);\r\n\t}\r\n\t50% {\r\n\t\ttransform: rotate(0deg);\r\n\t}\r\n}\r\n\r\n\r\n// âœ… ä¸€çº§å¯¼èˆªæ ï¼ˆå‘ç°/æœ€æ–°ï¼‰- æ”¯æŒå¸é¡¶æ•ˆæœ\r\n.primary-nav {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #fff;\r\n\tpadding: 0 24rpx;\r\n\theight: 88rpx;\r\n\tborder-bottom: 1rpx solid #f0f0f0;\r\n\ttransition: all 0.3s ease;\r\n\tposition: relative;\r\n\tz-index: 100;\r\n\t\r\n\t// âœ… å›ºå®šçŠ¶æ€\r\n\t&.is-fixed {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 999;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);\r\n\t}\r\n\t\r\n\t.nav-left {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 48rpx;\r\n\t\t\r\n\t\t.nav-tab {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 16rpx 0;\r\n\t\t\t\r\n\t\t\t.nav-text {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\ttransition: all 0.3s;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.nav-indicator {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 6rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #C00000 0%, #C00000 100%);\r\n\t\t\t\tborder-radius: 3rpx;\r\n\t\t\t\tanimation: slideIn 0.3s ease;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&.active .nav-text {\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tfont-weight: 550;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.nav-right {\r\n\t\t.search-icon {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tpadding: 8rpx;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// âœ… äºŒçº§åˆ†ç±»å¯¼èˆªæ \r\n.category-nav {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\r\n\t.category-scroll {\r\n\t\twidth: 100%;\r\n\t\twhite-space: nowrap;\r\n\t\t\r\n\t\t.category-list {\r\n\t\t\tdisplay: inline-flex;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t\tgap: 32rpx;\r\n\t\t\t\r\n\t\t\t.category-item {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tpadding: 20rpx 8rpx;\r\n\t\t\t\t\r\n\t\t\t\t.category-text {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\ttransition: all 0.3s;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t&.active {\r\n\t\t\t\t\t.category-text {\r\n\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\tfont-weight: 550;\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// âœ… å†…å®¹åŒºåŸŸ\r\n.content-section {\r\n\tpadding: 16rpx;\r\n\t\r\n\t// åŠ è½½çŠ¶æ€\r\n\t.loading-container {\r\n\t\tpadding: 80rpx 0;\r\n\t\ttext-align: center;\r\n\t\t\r\n\t\t.loading-text {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// ç€‘å¸ƒæµå®¹å™¨\r\n\t.waterfall-container {\r\n\t\tdisplay: flex;\r\n\t\tgap: 12rpx;\r\n\t\talign-items: flex-start;\r\n\t\t\r\n\t\t.waterfall-column {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 12rpx;\r\n\t\t\t\r\n\t\t\t.waterfall-item {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t\r\n\t\t\t\t.waterfall-card {\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\t\t\t\t\ttransition: all 0.3s ease;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&:active {\r\n\t\t\t\t\t\ttransform: translateY(-4rpx);\r\n\t\t\t\t\t\tbox-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.card-image-wrapper {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.card-image {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.card-content {\r\n\t\t\t\t\t\tpadding: 12rpx 14rpx 6rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.content-text {\r\n\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\t\t-webkit-line-clamp: 3;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.card-header {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\tpadding: 8rpx 14rpx 10rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.user-info {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tgap: 10rpx;\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\tmin-width: 0;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.card-avatar {\r\n\t\t\t\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.card-nickname {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.like-action {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tgap: 6rpx;\r\n\t\t\t\t\t\t\tpadding: 8rpx 12rpx;\r\n\t\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t\t\ttransition: all 0.2s;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&:active {\r\n\t\t\t\t\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t\t\t\t\t\ttransform: scale(0.95);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.like-icon {\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.like-icon-img {\r\n\t\t\t\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.action-count {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// ç©ºçŠ¶æ€\r\n\t.empty-state {\r\n\t\tpadding: 120rpx 0;\r\n\t\ttext-align: center;\r\n\t\t\r\n\t\t.empty-icon {\r\n\t\t\tfont-size: 80rpx;\r\n\t\t\tdisplay: block;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.empty-text {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// åº•éƒ¨é—´è·\r\n.bottom-spacing {\r\n\theight: 100rpx;\r\n}\r\n\r\n// åŠ¨ç”»\r\n@keyframes slideIn {\r\n\tfrom {\r\n\t\twidth: 0;\r\n\t\topacity: 0;\r\n\t}\r\n\tto {\r\n\t\twidth: 40rpx;\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1763135844374\n      var cssReload = require(\"D:/Program/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}