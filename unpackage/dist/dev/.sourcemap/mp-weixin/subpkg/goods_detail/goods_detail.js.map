{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?d160","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?582c","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?d0a7","uni-app:///subpkg/goods_detail/goods_detail.vue","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?6f0a","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?4f55"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","goods_info","addstr","publisher_info","isFollowing","isCollected","searchHeight","bottomBarHeight","reviews","userAvatar","username","time","content","comments","queryObj","query","cid","pagenum","pagesize","goodsList","total","isloading","goods_id","showMessagePanel","newComment","scrollIntoView","viewCount","showReplyPanel","newReply","replyToUser","replyToCommentIndex","replyToComment","quickComment","goodsCategories","id","url","code","onLoad","comment","isLiked","showAllReplies","displayReplies","uni","res","console","methods","showPostMenu","itemList","success","reportUser","title","cancelText","confirmText","editable","placeholderText","reason","icon","reportData","reporter_openid","reported_openid","post_id","apiRes","onShareAppMessage","path","imageUrl","showEmojiSelector","closeEmojiPicker","selectEmoji","parseEmoji","result","onScroll","showQuickReply","closeQuickReply","onSwiperChange","getCategoryIcon","ShowBuyPanel","closeBuyPanel","loadDefaultAddress","defaultAddr","saveDefaultAddress","duration","confirmPurchase","address","orderInfo","order_price","consignee_addr","goods","openid","orderNumber","order_number","res2","payInfo","err","succ","res3","payOrder","showReplyInput","closeReply","sendReply","mask","isTextSafe","showCancel","currentTimestamp","targetCommentId","newReplyObj","reply_id","user_openid","nickname","avatarUrl","created_at","targetComment","comment_id","toggleShowAllReplies","gotoPublisherProfile","payload","gotoProfile","user_info","getIfFollowed","publisher_id","getIfCollected","getGoodsDetail","split","filter","getGoodsList","cb","saveHistory","requestBody","getPublisher","req","gotoDetail","preview","current","urls","gotoSearch","toggleFollow","url1","toggleLike","openMessage","closeMessage","toggleCollect","buyNow","startChat","sendComment","newCommentObj","like_count","replies","queryObj1","res1","showViewCount","manageGoods","editGoods","description","price","images","offlineGoods","setTimeout","delta","checkTextSafety","reofflineGoods","picsBigList","publisherNickname","coverImage","deleteGoods","viewGoodsData","RelativeTime","sendQuickComment","computed","leftColumn","rightColumn","displayedComments","onReachBottom","onPullDownRefresh"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACyJ;AACzJ,gBAAgB,mKAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAAujB,CAAgB,okBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;ACuhB3kB;AAAA;AAAA;AACA;AAAA,eAEA;EACA;EACA;EACA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,EACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAAA,yDACA,2DACA,qDACA,wDACA,wDACA,8DACA,+DAEA,4DACA,0DACA,6DACA,2DACA,6DAEA,gEACA,sDACA,CACA;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA,uDAEA,+DACA,yDACA,8DACA;EAGA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cACA;cACA;;cAEA;cACA;cACA;gBAAA,uCACAC;kBACAC;kBACAC;kBACAC;gBAAA;cAAA,CACA;cAAA,KAEA;gBAAA;gBAAA;cAAA;cACAL;cACAtB;gBAAAsB;cAAA;cAAA;cAAA,OACAM;YAAA;cAAA;cAAAC;cACA;gBACAC;gBACA;cACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA;EACAC,yCACA;IAEA;IACAC;MAAA;MACAJ;QACAK;QACAC;UACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;QACA;QACAP;UACAQ;UACAtC;UACAuC;UACAC;UACAJ;YACA;cACA;cACAN;gBACAP;cACA;YACA;YACA;UACA;QACA;;QACA;MACA;;MAEA;MACAO;QACAQ;QACAG;QAAA;QACAC;QACAN;UAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA,KAEAL;sBAAA;sBAAA;oBAAA;oBACAY;oBAEA;oBAAA,IACAA;sBAAA;sBAAA;oBAAA;oBACAb;sBACAQ;sBACAM;oBACA;oBAAA;kBAAA;oBAIA;oBACAC;sBACAC;sBAAA;sBACAC;sBAAA;sBACAC;sBACAtC;sBAAA;sBACAiC;oBACA;;oBAEAX;oBAAA;oBAAA;oBAAA,OAIAF;kBAAA;oBAAA;oBAAAmB;oBAAA,MAGAA;sBAAA;sBAAA;oBAAA;oBACAnB;sBACAQ;sBACAM;oBACA;oBAAA;oBAAA;kBAAA;oBAAA,MAGA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;oBAGAZ;oBACAF;sBACAQ;sBACAM;oBACA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAGA;UAAA;YAAA;UAAA;UAAA;QAAA;MACA;IACA;IAEA;IACAM;MACA;QACA;QACApB;UACAQ;UACAtC;UACAuC;UACAC;UACAJ;YACA;cACA;cACAN;gBACAP;cACA;YACA;YACA;UACA;QACA;;QACA;MACA;MAEA;QACAe;QACAa;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;;MAGA;MACA;IACA;IAEA;IACAC;MACA;MAEA;;MAEA;MACA;QACA;QACAC;MACA;MAEA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;QACA;QACA;UACA;QACA;MACA;QACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;QACA;QACA7B;UACAQ;UACAtC;UACAuC;UACAC;UACAJ;YACA;cACA;cACAN;gBACAP;cACA;YACA;YACA;UACA;QACA;;QACA;MACA;MAEA;MACA;IACA;IAEA;IACAqC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA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AP;cACA;YACA;YACA;UACA;QACA;;QACA;MACA,OACA;QACA;MACA;IAEA;IACAuG;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBACAjG;kBACAQ;kBACAtC;kBACAuC;kBACAC;kBACAJ;oBACA;sBACA;sBACAN;wBACAP;sBACA;oBACA;oBACA;kBACA;gBACA;gBAAA;cAAA;gBAIA;gBACAA;gBACArB;kBAAAsB;kBAAAd;gBAAA;gBAAA;gBAAA,OACAoB;cAAA;gBAAA;gBAAAC;gBACAD;kBACAQ;kBACAM;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAoF;MACA;QACA;QACAlG;UACAQ;UACAtC;UACAuC;UACAC;UACAJ;YACA;cACA;cACAN;gBACAP;cACA;YACA;YACA;UACA;QACA;;QACA;MACA,OACA;QACAO;UACAQ;UACAM;QACA;MACA;IACA;IACAqF;MACA;QACA;QACAnG;UACAQ;UACAtC;UACAuC;UACAC;UACAJ;YACA;cACA;cACAN;gBACAP;cACA;YACA;YACA;UACA;QACA;;QACA;MACA,OACA;QACA;QACAO;UACAP;QACA;MACA;IACA;IACA2G;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBACApG;kBACAQ;kBACAtC;kBACAuC;kBACAC;kBACAJ;oBACA;sBACA;sBACAN;wBACAP;sBACA;oBACA;oBACA;kBACA;gBACA;gBAAA;cAAA;gBAIAvB;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACA8B;kBACAQ;kBACAM;gBACA;gBAAA;cAAA;gBAIA;gBACAd;kBACAQ;kBACAiD;gBACA;gBAAA;gBAAA,OAEA;cAAA;gBAAAC;gBACA1D;gBAAA,IAEA0D;kBAAA;kBAAA;gBAAA;gBACA1D;kBACAQ;kBACAtC;kBACAyF;kBACAjD;gBACA;gBAAA;cAAA;gBAIA;gBACAkD;gBACAyC;kBACAhC;kBACAL;kBACAC;kBACAC;kBACAhG;k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","file":"subpkg/goods_detail/goods_detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/goods_detail/goods_detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods_detail.vue?vue&type=template&id=18739e8c&\"\nvar renderjs\nimport script from \"./goods_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./goods_detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods_detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/goods_detail/goods_detail.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=template&id=18739e8c&\"","var components\ntry {\n  components = {\n    mySearch: function () {\n      return import(\n        /* webpackChunkName: \"components/my-search/my-search\" */ \"@/components/my-search/my-search.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. æ’æŸ¥ç»„ä»¶åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®\")\n    console.error(\n      \"2. æ’æŸ¥ç»„ä»¶æ˜¯å¦ç¬¦åˆ easycom è§„èŒƒï¼Œæ–‡æ¡£ï¼šhttps://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. è‹¥ç»„ä»¶ä¸ç¬¦åˆ easycom è§„èŒƒï¼Œéœ€æ‰‹åŠ¨å¼•å…¥ï¼Œå¹¶åœ¨ components ä¸­æ³¨å†Œè¯¥ç»„ä»¶\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = (_vm.goods_info.pics && _vm.goods_info.pics.length) || 0\n  var g1 = _vm.comments.length\n  var l1 = _vm.__map(_vm.displayedComments, function (comment, index) {\n    var $orig = _vm.__get_orig(comment)\n    var m0 = _vm.RelativeTime(comment.created_at)\n    var m1 = _vm.parseEmoji(comment.content)\n    var g2 = comment.replies && comment.replies.length > 0\n    var l0 = g2\n      ? _vm.__map(comment.displayReplies, function (reply, rIndex) {\n          var $orig = _vm.__get_orig(reply)\n          var m2 = _vm.parseEmoji(reply.content)\n          return {\n            $orig: $orig,\n            m2: m2,\n          }\n        })\n      : null\n    var g3 = g2 ? comment.replies.length > 1 && !comment.showAllReplies : null\n    var g4 = g2 && g3 ? comment.replies.length : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      g2: g2,\n      l0: l0,\n      g3: g3,\n      g4: g4,\n    }\n  })\n  var g5 = _vm.comments.length\n  var l3 = _vm.__map(_vm.comments, function (comment, index) {\n    var $orig = _vm.__get_orig(comment)\n    var m3 = _vm.RelativeTime(comment.created_at)\n    var m4 = _vm.parseEmoji(comment.content)\n    var g6 = comment.replies && comment.replies.length > 0\n    var l2 = g6\n      ? _vm.__map(comment.displayReplies, function (reply, rIndex) {\n          var $orig = _vm.__get_orig(reply)\n          var m5 = _vm.parseEmoji(reply.content)\n          return {\n            $orig: $orig,\n            m5: m5,\n          }\n        })\n      : null\n    var g7 = g6 ? comment.replies.length > 1 && !comment.showAllReplies : null\n    var g8 = g6 && g7 ? comment.replies.length : null\n    return {\n      $orig: $orig,\n      m3: m3,\n      m4: m4,\n      g6: g6,\n      l2: l2,\n      g7: g7,\n      g8: g8,\n    }\n  })\n  var g9 = _vm.newComment.trim()\n  var g10 = _vm.newReply.length\n  var g11 = _vm.newReply.trim()\n  var g12 = _vm.quickComment.length\n  var g13 = _vm.quickComment.trim()\n  var g14 = _vm.deliveryAddress.length\n  var g15 = _vm.deliveryAddress.trim()\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.setAsDefault = !_vm.setAsDefault\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l1: l1,\n        g5: g5,\n        l3: l3,\n        g9: g9,\n        g10: g10,\n        g11: g11,\n        g12: g12,\n        g13: g13,\n        g14: g14,\n        g15: g15,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=script&lang=js&\"","<template>\n   <view class=\"goods-detail-page\">\n      <!-- ğŸ”¥ ä¿®æ”¹æœç´¢æ  - æ·»åŠ éšè—åŠ¨ç”» -->\n      <view class=\"search-box\" :class=\"{ 'hide': hideSearchBar }\">\n        <view class=\"search-wrapper\">\n          <view class=\"search-content\">\n            <my-search @click=\"gotoSearch\"></my-search>\n          </view>\n\t\t  \n         <!-- ğŸ”¥ æ–°å¢ï¼šæŒ‰é’®å®¹å™¨ -->\n           <view class=\"action-buttons\">\n             <button class=\"share-btn\" open-type=\"share\" @click.stop v-if=\"openid\">\n               <uni-icons type=\"redo\" size=\"24\" color=\"#333\"></uni-icons>\n             </button>\n             \n             <text\n               class=\"more-btn\" \n               @click=\"showPostMenu\" \n               v-if=\"goods_info.publisher_id !== openid\"\n             >â‹®</text>\n           </view>\n         </view>\n      </view>\n \n    <scroll-view \n          scroll-y \n          class=\"scroll-content\" \n          :style=\"'height: calc(100vh - ' + (searchHeight + bottomBarHeight) + 'px)'\"\n          @scroll=\"onScroll\"\n        >\n      <view class=\"content-wrapper\">\n        <!-- å‘å¸ƒè€…ä¿¡æ¯åŒºåŸŸ -->\n        <view class=\"publisher-section\">\n          <image \n            :src=publisher_info.avatarUrl\n            class=\"publisher-avatar\"\n            mode=\"aspectFill\" @click=\"gotoPublisherProfile()\"\n          ></image>\n          <view class=\"publisher-info\">\n            <view class=\"publisher-name-row\">\n\t\t\t<view class=\"user-info\">\n              <text class=\"publisher-name\" @click=\"gotoPublisherProfile()\">{{publisher_info.nickname}}</text>\n\t\t\t  <view class=\"post-meta\">\n\t\t\t  \t<text class=\"post-views\">{{ goods_info.view_count || 0 }}äººæµè§ˆ</text>\n\t\t\t  </view>\n\t\t\t</view>\n              <!-- ğŸ”¥ æ–°å¢ï¼šè®¤è¯æ ‡è¯† -->\n            </view>\n            <view class=\"publisher-meta\">\n            </view>\n          </view>\n          <!-- å…³æ³¨æŒ‰é’® -->\n          <view :class=\"['follow-btn', isFollowing ? 'following' : '']\" @click=\"toggleFollow\" v-if=\"goods_info.publisher_id !== userBase.openid\">\n            <text>{{ isFollowing ? 'å·²å…³æ³¨' : '+ å…³æ³¨' }}</text>\n          </view>\n        </view>\n\t\t\n\t\t<!-- ğŸ”¥ å•†å“åŸºç¡€ä¿¡æ¯å¡ç‰‡ -->\n\t\t<view class=\"goods-basic-info\">\n\t\t  <!-- å•†å“åç§° -->\n\t\t  <view class=\"goods-name-section\">\n\t\t    <text class=\"goods-name\">{{ goods_info.goods_name }}</text>\n\t\t  </view>\n\t\t  \n\t\t  <!-- ä»·æ ¼å’Œä½ç½®ä¿¡æ¯è¡Œ -->\n\t\t  <view class=\"price-location-row\">\n\t\t    <!-- å·¦ä¾§ä»·æ ¼ -->\n\t\t    <view class=\"price-container\">\n\t\t      <text class=\"price-symbol\">Â¥</text>\n\t\t      <text class=\"price-value\">{{ goods_info.goods_price }}</text>\n\t\t    </view>\n\t\t\t  \n\t\t    <!-- å³ä¾§ä½ç½®ä¿¡æ¯ -->\n\t\t    <view class=\"location-container\">\n\t\t      <text class=\"location-text\">{{ goods_info.location || 'é—µè¡Œ' }}æ ¡åŒº</text>\n\t\t    </view>\n\t\t  </view>\n\t\t  \n\t\t\n\t\t  <!-- ğŸ”¥ åˆ†ç±»æ ‡ç­¾è¡Œ -->\n\t\t</view>\n        \n\n        <!-- å•†å“è½®æ’­å›¾ -->\n        <view class=\"goods-images-section\">\n          <swiper \n            class=\"goods-swiper\"\n            :indicator-dots=\"true\" \n            :autoplay=\"true\" \n            :interval=\"3000\" \n            :duration=\"1000\" \n            :circular=\"true\"\n\t\t\t@change=\"onSwiperChange\"\n          >\n            <swiper-item v-for=\"(item, i) in goods_info.pics\" :key=\"i\">\n              <image \n                :src=item.pics_big \n                class=\"swiper-image\"\n                mode=\"aspectFit\"\n                @click=\"preview(i)\"\n              ></image>\n            </swiper-item>\n          </swiper>\n          \n          <!-- å›¾ç‰‡è®¡æ•°å™¨ -->\n          <view class=\"image-counter\">\n            <text>{{ currentImageIndex + 1 }}/{{ (goods_info.pics && goods_info.pics.length) || 0 }}</text>\n          </view>\n        </view>\n\n        <!-- ç•™è¨€åŒºåŸŸ -->\n        <view class=\"comments-section\">\n          <!-- ç•™è¨€æ ‡é¢˜æ  -->\n          <view class=\"section-header\">\n            <view class=\"section-title-wrapper\">\n              <text class=\"section-title\">ç•™è¨€ {{ comments.length }}</text>\n            </view>\n            <view class=\"more-btn\" @click=\"openMessage\">\n              <text class=\"more-text\">æŸ¥çœ‹å…¨éƒ¨</text>\n              <uni-icons type=\"arrowright\" color=\"#999\" size=\"16\"></uni-icons>\n            </view>\n          </view>\n        \n          <!-- å¿«é€Ÿç•™è¨€è¾“å…¥æ¡† - ä¿®æ”¹ç‚¹å‡»äº‹ä»¶ -->\n          <view class=\"quick-comment-box\" @click=\"showQuickReply\">\n            <image \n              :src=\"userBase.avatarUrl || '/images/1.jpg'\" \n              class=\"quick-comment-avatar\" \n              mode=\"aspectFill\"\n            ></image>\n            <view class=\"quick-comment-input-placeholder\">\n              <text>è¯´ç‚¹ä»€ä¹ˆ...</text>\n            </view>\n          </view>\n        \n          <!-- ç•™è¨€åˆ—è¡¨ -->\n          <view class=\"comment-item\" v-for=\"(comment, index) in displayedComments\" :key=\"index\">\n            <!-- ç‚¹å‡»æ•´ä¸ªç•™è¨€åŒºåŸŸå¯ä»¥å›å¤ -->\n            <view class=\"comment-main-content\" @click=\"showReplyInput(index, comment)\">\n              <view class=\"comment-header\">\n                <image :src=\"comment.avatarUrl\" class=\"comment-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(comment.user_openid)\"></image>\n                <view class=\"comment-user-info\">\n                  <text class=\"comment-username\">{{ comment.nickname }}</text>\n                  <text class=\"comment-time\">{{ RelativeTime(comment.created_at) }}</text>\n                </view>\n              </view>\n              <!-- ğŸ”¥ æ”¹ä¸ºæ”¯æŒè¡¨æƒ…çš„å¯Œæ–‡æœ¬æ˜¾ç¤º -->\n              <view class=\"comment-content\">\n                <rich-text :nodes=\"parseEmoji(comment.content)\"></rich-text>\n              </view>\n            </view>\n            \n            <!-- å›å¤åˆ—è¡¨ -->\n            <view class=\"replies-section\" v-if=\"comment.replies && comment.replies.length > 0\">\n              <view \n                class=\"reply-item\" \n                v-for=\"(reply, rIndex) in comment.displayReplies\" \n                :key=\"rIndex\"\n              >\n                <image :src=\"reply.avatarUrl\" class=\"reply-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(reply.user_openid)\"></image>\n                <!-- ğŸ”¥ æ”¹ä¸ºæ”¯æŒè¡¨æƒ… -->\n                <view class=\"reply-content-wrapper\">\n                  <text class=\"reply-username\">{{ reply.nickname }}ï¼š</text>\n                  <rich-text :nodes=\"parseEmoji(reply.content)\"></rich-text>\n                </view>\n              </view>\n              \n              <view class=\"show-more-replies\" v-if=\"comment.replies.length > 1 && !comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n                <text>æŸ¥çœ‹{{ comment.replies.length }}æ¡å›å¤</text>\n                <text class=\"iconfont icon-arrow-down\"></text>\n              </view>\n              \n              <view class=\"show-more-replies\" v-if=\"comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n                <text>æ”¶èµ·å›å¤</text>\n                <text class=\"iconfont icon-arrow-up\"></text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n      </view>\n    \n  </scroll-view>\n    <!-- åº•éƒ¨æ“ä½œæ  - å…¶ä»–ç”¨æˆ·æŸ¥çœ‹ -->\n    <view class=\"bottom-bar\" v-if=\"goods_info.publisher_id !== userBase.openid\">\n      <view class=\"bar-item\" @click=\"openMessage\">\n        <uni-icons type=\"chatbubble\" size=\"30\" color=\"#666\"></uni-icons>\n      </view>\n\t  <text class=\"bar-text\" @click=\"openMessage\">ç•™è¨€</text>\n      <view class=\"bar-item\" @click=\"toggleCollect\">\n        <uni-icons :type=\"isCollected ? 'star-filled' : 'star'\" size=\"30\" :color=\"isCollected ? '#ffd700' : '#666'\"></uni-icons>\n      </view>\n\t  <text class=\"bar-text\"  @click=\"toggleCollect\">{{ isCollected ? 'å·²æ”¶è—' : 'æ”¶è—' }}</text>\n      <view class=\"bar-btn chat-btn\" @click=\"startChat\">\n        <text>è”ç³»å–å®¶</text>\n      </view>\n    </view>\n\n    <!-- åº•éƒ¨æ“ä½œæ  - è‡ªå·±çš„å•†å“ -->\n    <view class=\"bottom-bar\" v-else>\n      <view class=\"bar-item\" @click=\"openMessage\">\n        <uni-icons type=\"chatbubble\" size=\"30\" color=\"#666\"></uni-icons>\n      </view>\n\t  <text class=\"bar-text\" @click=\"openMessage\">ç•™è¨€</text>\n      <view class=\"bar-item\" @click=\"toggleCollect\">\n        <uni-icons :type=\"isCollected ? 'star-filled' : 'star'\" size=\"30\" :color=\"isCollected ? '#ffd700' : '#666'\"></uni-icons>\n      </view>\n\t  <text class=\"bar-text\" @click=\"toggleCollect\">{{ isCollected ? 'å·²æ”¶è—' : 'æ”¶è—' }}</text>\n      <view class=\"bar-btn manage-btn\" @click=\"manageGoods\">\n        <text>ç®¡ç†å•†å“</text>\n      </view>\n    </view>\n\n    <!-- ç•™è¨€å¼¹çª—é®ç½©å±‚ -->\n    <view \n      class=\"message-overlay\" \n      :class=\"{ 'show': showMessagePanel }\"\n      @click=\"closeMessage\"\n    ></view>\n\n    <!-- ç•™è¨€å¼¹çª— -->\n    <view \n      class=\"message-panel\" \n      :class=\"{ 'show': showMessagePanel }\"\n      @click.stop\n    >\n      <!-- ç•™è¨€æ ‡é¢˜æ  - å±…ä¸­æ˜¾ç¤º -->\n      <view class=\"message-header\">\n        <view class=\"message-title-wrapper\">\n          <text class=\"message-title\">å…¨éƒ¨ç•™è¨€</text>\n          <text class=\"message-count\">({{ comments.length }})</text>\n        </view>\n        <view @click=\"closeMessage\">\n          <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n        </view>\n      </view>\n\n      <!-- ç•™è¨€åˆ—è¡¨ -->\n      <scroll-view scroll-y class=\"message-list\" :scroll-into-view=\"scrollIntoView\">\n        <view class=\"message-item\" v-for=\"(comment, index) in comments\" :key=\"index\" :id=\"'msg-' + index\">\n          <!-- ä¿®æ”¹ï¼šç‚¹å‡»æ•´ä¸ªç•™è¨€åŒºåŸŸå¯ä»¥å›å¤ -->\n          <view class=\"message-main-content\" @click=\"showReplyInput(index, comment)\">\n            <image :src=\"comment.avatarUrl\" class=\"message-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(comment.user_openid)\"></image>\n            <view class=\"message-content-wrapper\">\n              <view class=\"message-user-info\">\n                <text class=\"message-username\">{{ comment.nickname }}</text>\n                <text class=\"message-time\">{{ RelativeTime(comment.created_at) }}</text>\n              </view>\n              <!-- ğŸ”¥ æ”¹ä¸ºæ”¯æŒè¡¨æƒ… -->\n              <view class=\"message-text\">\n                <rich-text :nodes=\"parseEmoji(comment.content)\"></rich-text>\n              </view>\n            </view>\n            <!-- ç‚¹èµæŒ‰é’® -->\n            <!-- <view class=\"like-btn\" @click.stop=\"toggleCommentLike(comment, index)\">\n              <uni-icons \n                :type=\"comment.isLiked ? 'heart-filled' : 'heart'\" \n                size=\"18\" \n                :color=\"comment.isLiked ? '#ff6b6b' : '#999'\"\n              ></uni-icons>\n              <text class=\"like-count\" v-if=\"comment.likeCount > 0\">{{ comment.likeCount }}</text>\n            </view> -->\n          </view>\n          \n          <!-- å›å¤åˆ—è¡¨ -->\n          <view class=\"replies-section-in-panel\" v-if=\"comment.replies && comment.replies.length > 0\">\n            <view \n              class=\"reply-item\" \n              v-for=\"(reply, rIndex) in comment.displayReplies\" \n              :key=\"rIndex\"\n              @click=\"showReplyToReply(reply, comment)\"\n            >\n              <image :src=\"reply.avatarUrl\" class=\"reply-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(reply.user_openid)\"></image>\n              <view class=\"reply-content-wrapper\">\n                <text class=\"reply-username\">{{ reply.nickname }}ï¼š</text>\n                <rich-text :nodes=\"parseEmoji(reply.content)\"></rich-text>\n              </view>\n              <!-- å›å¤çš„ç‚¹èµæŒ‰é’® -->\n              <!-- <view class=\"reply-like-btn\" @click.stop=\"toggleReplyLike(reply, index, rIndex)\">\n                <uni-icons \n                  :type=\"reply.isLiked ? 'heart-filled' : 'heart'\" \n                  size=\"16\" \n                  :color=\"reply.isLiked ? '#ff6b6b' : '#999'\"\n                ></uni-icons>\n                <text class=\"like-count\" v-if=\"reply.likeCount > 0\">{{ reply.likeCount }}</text>\n              </view> -->\n            </view>\n            \n            <view class=\"show-more-replies\" v-if=\"comment.replies.length > 1 && !comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n              <text>æŸ¥çœ‹{{ comment.replies.length }}æ¡å›å¤</text>\n            </view>\n            \n            <view class=\"show-more-replies\" v-if=\"comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n              <text>æ”¶èµ·å›å¤</text>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n\n      <!-- ç•™è¨€è¾“å…¥æ¡† -->\n      <view class=\"message-input-box\">\n        <input \n          class=\"message-input\"\n          v-model=\"newComment\"\n          placeholder=\"è¯´ç‚¹ä»€ä¹ˆ...\"\n          :adjust-position=\"true\"\n          @confirm=\"sendComment\"\n        />\n        <!-- ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…æŒ‰é’® -->\n        <view class=\"emoji-btn-inline\" @click=\"showEmojiSelector('message')\">\n          <text>{{ showEmojiSelector ? 'âŒ¨ï¸' : 'ğŸ˜Š' }}</text>\n        </view>\n        <view \n          class=\"send-btn\" \n          :class=\"{ 'active': newComment.trim() }\"\n          @click=\"sendComment\"\n        >\n          <text>å‘é€</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- å›å¤è¾“å…¥æ¡†é®ç½©å±‚ -->\n    <view \n      class=\"reply-overlay\" \n      :class=\"{ 'show': showReplyPanel }\"\n      @click=\"closeReply\"\n    ></view>\n\n    <!-- å›å¤è¾“å…¥æ¡†å¼¹çª— -->\n    <view \n      class=\"reply-panel\" \n      :class=\"{ 'show': showReplyPanel }\"\n      @click.stop\n    >\n      <view class=\"reply-header\">\n        <text class=\"reply-title\">å›å¤ {{ replyToUser }}</text>\n        <view @click=\"closeReply\">\n          <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n        </view>\n      </view>\n      \n      <view class=\"reply-input-box\">\n        <textarea \n          class=\"reply-textarea\"\n          v-model=\"newReply\"\n          :placeholder=\"'å›å¤ ' + replyToUser + '...'\"\n          :adjust-position=\"true\"\n          :focus=\"showReplyPanel\"\n          auto-height\n          maxlength=\"500\"\n          @confirm=\"sendReply\"\n        ></textarea>\n        <view class=\"reply-actions\">\n          <!-- ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…æŒ‰é’® -->\n          <view class=\"emoji-btn\" @click=\"showEmojiSelector('reply')\">\n\t\t\t  <text>{{ showEmojiSelector ? 'âŒ¨ï¸' : 'ğŸ˜Š' }}</text>\n            <!-- <uni-icons type=\"emotion\" size=\"24\" color=\"#666\"></uni-icons> -->\n          </view>\n          <view class=\"char-count\">{{ newReply.length }}/500</view>\n          <view \n            class=\"send-btn\" \n            :class=\"{ 'active': newReply.trim() }\"\n            @click=\"sendReply\"\n          >\n            <text>å‘é€</text>\n          </view>\n        </view>\n      </view>\n    </view>\n\t\n\t<!-- ğŸ”¥ æ–°å¢:å¿«é€Ÿç•™è¨€å¼¹çª— -->\n\t<view \n\t  class=\"quick-reply-overlay\" \n\t  :class=\"{ 'show': showQuickReplyPanel }\"\n\t  @click=\"closeQuickReply\"\n\t></view>\n\t\n\t<view \n\t  class=\"quick-reply-panel\" \n\t  :class=\"{ 'show': showQuickReplyPanel }\"\n\t  @click.stop\n\t>\n\t  <view class=\"quick-reply-header\">\n\t    <text class=\"quick-reply-title\">å‘è¡¨ç•™è¨€</text>\n\t    <view @click=\"closeQuickReply\">\n\t      <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n\t    </view>\n\t  </view>\n\t  \n\t  <view class=\"quick-reply-input-box\">\n\t    <textarea \n\t      class=\"quick-reply-textarea\"\n\t      v-model=\"quickComment\"\n\t      placeholder=\"è¯´ç‚¹ä»€ä¹ˆ...\"\n\t      :adjust-position=\"true\"\n\t      :focus=\"showQuickReplyPanel\"\n\t      auto-height\n\t      maxlength=\"500\"\n\t      @confirm=\"sendQuickComment\"\n\t    ></textarea>\n\t    <view class=\"quick-reply-actions\">\n\t      <!-- ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…æŒ‰é’® -->\n\t      <view class=\"emoji-btn\" @click=\"showEmojiSelector('quick')\">\n\t\t\t  <text>{{ showEmojiSelector ? 'âŒ¨ï¸' : 'ğŸ˜Š' }}</text>\n\t        <!-- <uni-icons type=\"emotion\" size=\"24\" color=\"#666\"></uni-icons> -->\n\t      </view>\n\t      <view class=\"char-count\">{{ quickComment.length }}/500</view>\n\t      <view \n\t        class=\"send-btn\" \n\t        :class=\"{ 'active': quickComment.trim() }\"\n\t        @click=\"sendQuickComment\"\n\t      >\n\t        <text>å‘é€</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t</view>\n\t<!-- ğŸ”¥ è¡¨æƒ…é€‰æ‹©å™¨é®ç½©å±‚ -->\n\t<view \n\t  class=\"emoji-picker-overlay\" \n\t  :class=\"{ 'show': showEmojiPicker }\"\n\t  @click=\"closeEmojiPicker\"\n\t></view>\n\t\n\t<!-- ğŸ”¥ è¡¨æƒ…é€‰æ‹©å™¨å¼¹çª— -->\n\t<view \n\t  class=\"emoji-picker-panel\" \n\t  :class=\"{ 'show': showEmojiPicker }\"\n\t  @click.stop\n\t>\n\t  <view class=\"emoji-picker-header\">\n\t    <text class=\"emoji-picker-title\">é€‰æ‹©è¡¨æƒ…</text>\n\t    <view @click=\"closeEmojiPicker\">\n\t      <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n\t    </view>\n\t  </view>\n\t  \n\t  <scroll-view scroll-y class=\"emoji-grid-container\">\n\t    <view class=\"emoji-grid\">\n\t      <view \n\t        class=\"emoji-item\" \n\t        v-for=\"emoji in emojiList\" \n\t        :key=\"emoji.id\"\n\t        @click=\"selectEmoji(emoji)\"\n\t      >\n\t        <image \n\t          :src=\"emoji.url\" \n\t          class=\"emoji-icon\" \n\t          mode=\"aspectFit\"\n\t        ></image>\n\t      </view>\n\t    </view>\n\t  </scroll-view>\n\t</view>\n\t\n\t<!-- ğŸ”¥ æ–°å¢ï¼šè´­ä¹°ç¡®è®¤å¼¹çª—é®ç½©å±‚ -->\n\t<view \n\t  class=\"buy-overlay\" \n\t  :class=\"{ 'show': showBuyPanel }\"\n\t  @click=\"closeBuyPanel\"\n\t></view>\n\t\n\t<!-- ğŸ”¥ æ–°å¢ï¼šè´­ä¹°ç¡®è®¤å¼¹çª— -->\n\t<view \n\t  class=\"buy-panel\" \n\t  :class=\"{ 'show': showBuyPanel }\"\n\t  @click.stop\n\t>\n\t  <!-- å¼¹çª—æ ‡é¢˜æ  -->\n\t  <view class=\"buy-header\">\n\t    <text class=\"buy-title\">ç¡®è®¤è´­ä¹°</text>\n\t    <view @click=\"closeBuyPanel\">\n\t      <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n\t    </view>\n\t  </view>\n\t\n\t  <!-- å•†å“ä¿¡æ¯ -->\n\t  <view class=\"buy-goods-info\">\n\t    <image \n\t      :src=\"goods_info.goods_big_logo\" \n\t      class=\"buy-goods-image\" \n\t      mode=\"aspectFill\"\n\t    ></image>\n\t    <view class=\"buy-goods-detail\">\n\t      <text class=\"buy-goods-name\">{{ goods_info.goods_name }}</text>\n\t      <view class=\"buy-goods-price-row\">\n\t        <text class=\"buy-price-symbol\">Â¥</text>\n\t        <text class=\"buy-price-value\">{{ goods_info.goods_price }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t\n\t  <!-- æ”¶è´§åœ°å€è¾“å…¥ -->\n\t  <view class=\"buy-address-section\">\n\t    <view class=\"buy-section-title\">\n\t      <text>æ”¶è´§åœ°å€</text>\n\t      <text class=\"required-mark\">*</text>\n\t    </view>\n\t    <textarea \n\t      class=\"buy-address-input\"\n\t      v-model=\"deliveryAddress\"\n\t      placeholder=\"è¯·è¾“å…¥è¯¦ç»†çš„æ”¶è´§åœ°å€ï¼ˆå¦‚ï¼šxxæ ¡åŒºxxå·æ¥¼xxå®¤ï¼‰\"\n\t      :adjust-position=\"true\"\n\t      auto-height\n\t      maxlength=\"200\"\n\t    ></textarea>\n\t    <view class=\"address-char-count\">{{ deliveryAddress.length }}/200</view>\n\t    \n\t    <!-- è®¾ä¸ºé»˜è®¤åœ°å€ -->\n\t    <view class=\"default-address-checkbox\" @click=\"setAsDefault = !setAsDefault\">\n\t      <view class=\"checkbox-wrapper\">\n\t        <view class=\"checkbox\" :class=\"{ 'checked': setAsDefault }\">\n\t          <text v-if=\"setAsDefault\" class=\"checkbox-icon\">âœ“</text>\n\t        </view>\n\t        <text class=\"checkbox-label\">è®¾ä¸ºé»˜è®¤åœ°å€</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t\n\t  <!-- è´­ä¹°æŒ‰é’® -->\n\t  <view class=\"buy-action-section\">\n\t    <view \n\t      class=\"confirm-buy-btn\" \n\t      :class=\"{ 'active': deliveryAddress.trim() }\"\n\t      @click=\"confirmPurchase\"\n\t    >\n\t      <text>ç«‹å³è´­ä¹°</text>\n\t    </view>\n\t  </view>\n\t</view>\n  </view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n// import uniIcon from '@dcloudio/uni-ui/lib/uni-icon/uni-icon.vue'\n\nexport default {\n\t// components: {\n\t//     uniIcon\n\t//   }\n  data() {\n    return {\n      goods_info: {},\n\t  addstr: '22å·å®¿èˆæ¥¼',\n      publisher_info: {},\n      isFollowing: false,\n      isCollected: false,\n      searchHeight: 44,\n      bottomBarHeight: 60,\n      reviews: [\n        {\n          userAvatar: '/images/1.jpg',\n          username: 'æ¥è‡ªä¸­å›½æ¹–åŒ—...',\n          time: '7å¤©å‰',\n          content: 'äº”æ˜Ÿå¥½è¯„ã€‚\\nç‰©ç¾ä»·å»‰'\n        },\n        {\n          userAvatar: '/images/2.jpg',\n          username: 'æ¥è‡ªä¸­å›½å®‰å¾½...',\n          time: '8å¤©å‰',\n          content: 'æ²¡é—®é¢˜ã€‚ğŸ˜ğŸ˜ğŸ˜ğŸ˜'\n        }\n      ],\n      comments: [],\n      queryObj: {\n        query: '',\n        cid: '',\n        pagenum: 1,\n        pagesize: 6\n      },\n      goodsList: [],\n      total: 0,\n      isloading: false,\n      goods_id: 0,\n      showMessagePanel: false,\n      newComment: '',\n      scrollIntoView: '',\n      viewCount: 0,\n      // æ–°å¢ï¼šå›å¤ç›¸å…³æ•°æ®\n      showReplyPanel: false,\n      newReply: '',\n      replyToUser: '',\n      replyToCommentIndex: null,\n      replyToComment: null,\n\t  quickComment: '',\n\t  goodsCategories: [],\n\t  showReplyPanel: false,\n\t  replyToUser: '',\n\t  newReply: '',\n\t  replyTarget: null, // å­˜å‚¨å›å¤ç›®æ ‡ä¿¡æ¯\n\t  replyType: '', // 'comment' æˆ– 'reply'\n\t  currentImageIndex: 0,\n\t  // ğŸ”¥ æ–°å¢:å¿«é€Ÿç•™è¨€ç›¸å…³\n\t  showQuickReplyPanel: false,  // æ§åˆ¶å¿«é€Ÿç•™è¨€å¼¹çª—æ˜¾ç¤º\n\t  quickComment: '',            // å¿«é€Ÿç•™è¨€å†…å®¹\n\t  hideSearchBar: false,      // æ§åˆ¶æœç´¢æ æ˜¾ç¤º/éšè—\n\t  lastScrollTop: 0,          // ä¸Šä¸€æ¬¡æ»šåŠ¨çš„ä½ç½®\n\t  scrollThreshold: 120,       // æ»šåŠ¨é˜ˆå€¼(åƒç´ )\n\t    // ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…åŒ…ç›¸å…³æ•°æ®\n\t      showEmojiPicker: false,  // æ§åˆ¶è¡¨æƒ…é€‰æ‹©å™¨æ˜¾ç¤º\n\t      currentInputType: '',    // 'quick' | 'message' | 'reply' - è®°å½•å½“å‰è¾“å…¥æ¡†ç±»å‹\n\t      emojiList: [\n\t        { id: 1, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-1.png', code: '[å¾®ç¬‘]' },\n\t        { id: 2, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-2.png', code: '[å¤§ç¬‘]' },\n\t        { id: 3, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-3.png', code: '[ç¬‘å“­]' },\n\t        { id: 4, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-4.png', code: '[éš¾è¿‡]' },\n\t        { id: 5, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-5.png', code: '[å¤§å“­]' },\n\t        { id: 6, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-6.png', code: '[ç–‘é—®]' },\n\t        { id: 7, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-7.png', code: '[çˆ±å¿ƒ]' },\n\t        { id: 8, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-8.png', code: '[å¾—æ„]' },\n\t        { id: 9, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-9.png', code: '[æƒŠæ]' },\n\t      ],\n\t\t  // ğŸ”¥ æ–°å¢ï¼šè´­ä¹°ç¡®è®¤å¼¹çª—ç›¸å…³\n\t\t      showBuyPanel: false,           // æ§åˆ¶è´­ä¹°å¼¹çª—æ˜¾ç¤º\n\t\t      deliveryAddress: '',           // æ”¶è´§åœ°å€\n\t\t      setAsDefault: false,           // æ˜¯å¦è®¾ä¸ºé»˜è®¤åœ°å€\n\t\t      defaultAddress: '',            // é»˜è®¤åœ°å€\n\t  \n    };\n  },\n  async onLoad(options) {\n    this.goods_id = options.goods_id\n    await this.getIfCollected()\n    await this.getGoodsDetail(this.goods_id)\n    await this.getIfFollowed()\n    await this.getPublisher()\n    this.getGoodsList()\n    this.saveHistory()\n    \n    // åˆå§‹åŒ–ç•™è¨€æ•°æ®\n    this.comments = this.goods_info.comment\n    this.comments = this.comments.map(comment => ({\n      ...comment,\n      isLiked: false,\n      showAllReplies: false,\n      displayReplies: comment.replies ? comment.replies.slice(0, 1) : []\n    }));\n    \n    if (this.token) {\n      const code = this.openid\n      const queryObj = {code: code};\n      const { data: res } = await uni.$http.get('/users/userinfo', queryObj);\n      if (res.meta.status === 200) {\n        console.log(res.message)\n        this.updateUserBase(res.message)\n      }\n      this.getGoodsList();\n    }\n  },\n  methods: {\n    ...mapMutations('m_user', ['updateUserInfo', 'updateToken', 'updateUserBase']),\t\n\t\n\t// æ˜¾ç¤ºå¸–å­èœå•\n\tshowPostMenu() {\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['ä¸¾æŠ¥'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\tthis.reportUser()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t},\n\t\n\t// ä¸¾æŠ¥ç”¨æˆ·\n\t\t\treportUser() {\n\t\t\t\t// å®‰å…¨æ£€æŸ¥\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t\t\t  uni.showModal({\r\n\t\t\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t\t\t        uni.switchTab({\r\n\t\t\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t\t\t        })\r\n\t\t\t\t\t\t      }\r\n\t\t\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t  return\r\n\t\t\t\t\t\t}\n\t\n\t\t\t\t// å¼¹å‡ºä¸€ä¸ªå¯ç¼–è¾‘çš„è¾“å…¥æ¡†\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'è¯·è¾“å…¥æ‚¨ä¸¾æŠ¥è¯¥ç”¨æˆ·çš„ç†ç”±:',\n\t\t\t\t\teditable: true, // æ˜¾ç¤ºè¾“å…¥æ¡†\n\t\t\t\t\tplaceholderText: 'ä¾‹å¦‚ï¼šæ¶‰åŠäººèº«æ”»å‡»ã€å¹¿å‘Šç­‰',\n\t\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\t\t// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç‚¹å‡»äº†â€œç¡®å®šâ€\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tconst reason = res.content.trim() // è·å–è¾“å…¥æ¡†å†…å®¹\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// éªŒè¯ç†ç”±æ˜¯å¦ä¸ºç©º\n\t\t\t\t\t\t\tif (!reason) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'ä¸¾æŠ¥ç†ç”±ä¸èƒ½ä¸ºç©º',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// å‡†å¤‡æäº¤åˆ°åç«¯çš„æ•°æ®\n\t\t\t\t\t\t\tconst reportData = {\n\t\t\t\t\t\t\t\treporter_openid: this.openid, // ä¸¾æŠ¥äºº (å½“å‰ç”¨æˆ·)\n\t\t\t\t\t\t\t\treported_openid: this.goods_info.publisher_id, // è¢«ä¸¾æŠ¥äºº (å¸–å­ä½œè€…)\n\t\t\t\t\t\t\t\tpost_id: 0, \n\t\t\t\t\t\t\t\tgoods_id: this.goods_id, // ç›¸å…³å¸–å­ID\n\t\t\t\t\t\t\t\treason: reason // ä¸¾æŠ¥ç†ç”±\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log('æäº¤ä¸¾æŠ¥:', reportData)\n\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// è°ƒç”¨åç«¯ /users/report æ¥å£\n\t\t\t\t\t\t\t\tconst { data: apiRes } = await uni.$http.post('/users/report', reportData)\n\t\n\t\t\t\t\t\t\t\t// æ ¹æ®åç«¯è¿”å›çš„çŠ¶æ€ç å¤„ç†\n\t\t\t\t\t\t\t\tif (apiRes.meta.status === 201) {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'ä¸¾æŠ¥æˆåŠŸï¼Œæˆ‘ä»¬ä¼šå°½å¿«æ ¸å®',\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// æ˜¾ç¤ºåç«¯è¿”å›çš„é”™è¯¯ä¿¡æ¯\n\t\t\t\t\t\t\t\t\tthrow new Error(apiRes.meta.msg || 'ä¸¾æŠ¥å¤±è´¥')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tconsole.error('ä¸¾æŠ¥å¤±è´¥:', error)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: error.message || 'ä¸¾æŠ¥æ—¶å‘ç”Ÿé”™è¯¯',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t// ğŸ”¥ æ–°å¢ï¼šåˆ†äº«ç»™å¥½å‹\n\t  onShareAppMessage(res) {\n\t if (!this.openid) {\r\n\t \t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t \t\t  uni.showModal({\r\n\t \t\t    title: 'æç¤º',\r\n\t \t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t \t\t    cancelText: 'å–æ¶ˆ',\r\n\t \t\t    confirmText: 'ç™»å½•',\r\n\t \t\t    success: (res) => {\r\n\t \t\t      if (res.confirm) {\r\n\t \t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t \t\t        uni.switchTab({\r\n\t \t\t          url: '/pages/my/my'\r\n\t \t\t        })\r\n\t \t\t      }\r\n\t \t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t \t\t    }\r\n\t \t\t  })\r\n\t \t\t  return\r\n\t \t\t}\n\t\n\t    return {\n\t      title: this.goods_info.goods_name || 'å‘ç°ä¸€ä¸ªå¥½ç‰©æ¨èç»™ä½ ',\n\t      path: `/subpkg/goods_detail/goods_detail?goods_id=${this.goods_id}`,\n\t      imageUrl: this.goods_info.goods_big_logo || ''\n\t    };\n\t  },\n\t  \n\t// ğŸ”¥ æ–°å¢ï¼šæ˜¾ç¤ºè¡¨æƒ…é€‰æ‹©å™¨\n\t  showEmojiSelector(type) {\n\t    this.currentInputType = type;\n\t    this.showEmojiPicker = true;\n\t  },\n\t  \n\t  // ğŸ”¥ æ–°å¢ï¼šå…³é—­è¡¨æƒ…é€‰æ‹©å™¨\n\t  closeEmojiPicker() {\n\t    this.showEmojiPicker = false;\n\t  },\n\t  \n\t  // ğŸ”¥ ä¿®æ”¹ï¼šé€‰æ‹©è¡¨æƒ…åè‡ªåŠ¨å…³é—­\n\t  selectEmoji(emoji) {\n\t    // æ ¹æ®å½“å‰è¾“å…¥æ¡†ç±»å‹æ’å…¥è¡¨æƒ…ä»£ç \n\t    switch(this.currentInputType) {\n\t      case 'quick':\n\t        this.quickComment += emoji.code;\n\t        break;\n\t      case 'message':\n\t        this.newComment += emoji.code;\n\t        break;\n\t      case 'reply':\n\t        this.newReply += emoji.code;\n\t        break;\n\t    }\n\t    \n\t    // âœ… é€‰æ‹©åè‡ªåŠ¨å…³é—­è¡¨æƒ…é€‰æ‹©å™¨\n\t    this.closeEmojiPicker();\n\t  },\n\n\t\t// ğŸ”¥ æ–°å¢ï¼šè§£æè¡¨æƒ…ä»£ç ä¸ºHTMLï¼ˆç”¨äºæ˜¾ç¤ºï¼‰\n\t\t  parseEmoji(content) {\n\t\t    if (!content) return '';\n\t\t    \n\t\t    let result = content;\n\t\t    \n\t\t    // éå†æ‰€æœ‰è¡¨æƒ…ï¼Œæ›¿æ¢è¡¨æƒ…ä»£ç ä¸ºå›¾ç‰‡æ ‡ç­¾\n\t\t    this.emojiList.forEach(emoji => {\n\t\t      const regex = new RegExp(emoji.code.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]'), 'g');\n\t\t      result = result.replace(regex, `<img src=\"${emoji.url}\" class=\"emoji-image\" />`);\n\t\t    });\n\t\t    \n\t\t    return result;\n\t\t  },\n\t\t  \n\t // ğŸ”¥ æ–°å¢ï¼šç›‘å¬æ»šåŠ¨äº‹ä»¶\n\t    onScroll(e) {\n\t      const scrollTop = e.detail.scrollTop;\n\t      \n\t      // åˆ¤æ–­æ˜¯ä¸Šæ»‘è¿˜æ˜¯ä¸‹æ»‘\n\t      if (scrollTop > this.lastScrollTop) {\n\t        // ä¸Šæ»‘ï¼šéšè—æœç´¢æ \n\t        if (scrollTop > this.scrollThreshold) {\n\t          this.hideSearchBar = true;\n\t        }\n\t      } else {\n\t        // ä¸‹æ»‘ï¼šæ˜¾ç¤ºæœç´¢æ \n\t        this.hideSearchBar = false;\n\t      }\n\t      \n\t      this.lastScrollTop = scrollTop;\n\t    },\t  \n\t\n\t// ğŸ”¥ æ–°å¢:æ˜¾ç¤ºå¿«é€Ÿç•™è¨€è¾“å…¥æ¡†\n\t  showQuickReply() {\n\t   if (!this.openid) {\r\n\t   \t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t   \t\t  uni.showModal({\r\n\t   \t\t    title: 'æç¤º',\r\n\t   \t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t   \t\t    cancelText: 'å–æ¶ˆ',\r\n\t   \t\t    confirmText: 'ç™»å½•',\r\n\t   \t\t    success: (res) => {\r\n\t   \t\t      if (res.confirm) {\r\n\t   \t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t   \t\t        uni.switchTab({\r\n\t   \t\t          url: '/pages/my/my'\r\n\t   \t\t        })\r\n\t   \t\t      }\r\n\t   \t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t   \t\t    }\r\n\t   \t\t  })\r\n\t   \t\t  return\r\n\t   \t\t}\n\t    \n\t    this.showQuickReplyPanel = true;\n\t    this.quickComment = '';\n\t  },\n\t  \n\t  // ğŸ”¥ æ–°å¢:å…³é—­å¿«é€Ÿç•™è¨€è¾“å…¥æ¡†\n\t  closeQuickReply() {\n\t    this.showQuickReplyPanel = false;\n\t    this.quickComment = '';\n\t  },\n\t  \n\t// ğŸ”¥ æ–°å¢ï¼šç›‘å¬è½®æ’­å›¾åˆ‡æ¢\n\t  onSwiperChange(e) {\n\t    this.currentImageIndex = e.detail.current;\n\t  },\n\t\t\t\t\t  \n\t// ğŸ”¥ğŸ”¥ğŸ”¥ æ–°å¢:è·å–åˆ†ç±»å›¾æ ‡ ğŸ”¥ğŸ”¥ğŸ”¥\n\t  getCategoryIcon(category) {\n\t    const iconMap = {\n\t      'æ€æ”¿è¯¾èµ„æ–™': 'ğŸ“–',\n\t      'è‹±è¯­èµ„æ–™': 'ğŸ”¤',\n\t      'ä½“è‚²è¯¾å™¨æ': 'âš½',\n\t      'é€šè¯†è¯¾ç¨‹èµ„æ–™': 'ğŸ“',\n\t      'åŸºç¡€è¯¾ç¨‹èµ„æ–™': 'ğŸ“š',\n\t      'è€ƒç ”èµ„æ–™': 'ğŸ“',\n\t      'æœŸæœ«èµ„æ–™': 'ğŸ“„',\n\t\t  'å­¦ä¹ ç”¨ä¹¦': 'ğŸ“„',\n\t\t  'å­¦ä¹ å·¥å…·': 'ğŸ“„',\n\t\t  'æ—¥ç”¨å“': 'ğŸ“„',\n\t\t  'ç©¿æ­': 'ğŸ“„',\n\t\t  'å®¶æ•™': 'ğŸ“„',\n\t      'å…¶ä»–å¥½ç‰©': 'ğŸ“¦'\n\t    }\n\t\t return iconMap[category] || 'ğŸ·ï¸'\n\t\t},\n\t\t\n\t\t// ğŸ”¥ ä¿®æ”¹ï¼šæ˜¾ç¤ºè´­ä¹°ç¡®è®¤å¼¹çª—\n\t\tShowBuyPanel() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\t  \n\t\t  // åŠ è½½é»˜è®¤åœ°å€\n\t\t  this.loadDefaultAddress();\n\t\t  this.showBuyPanel = true;\n\t\t},\n\t\t\n\t\t// ğŸ”¥ æ–°å¢ï¼šå…³é—­è´­ä¹°å¼¹çª—\n\t\tcloseBuyPanel() {\n\t\t  this.showBuyPanel = false;\n\t\t},\n\t\t\n\t\t// ğŸ”¥ æ–°å¢ï¼šåŠ è½½é»˜è®¤åœ°å€\n\t\tasync loadDefaultAddress() {\n\t\t  try {\n\t\t    // ä»æœ¬åœ°å­˜å‚¨è·å–é»˜è®¤åœ°å€\n\t\t    const defaultAddr = uni.getStorageSync('default_delivery_address_' + this.openid);\n\t\t    if (defaultAddr) {\n\t\t      this.defaultAddress = defaultAddr;\n\t\t      this.deliveryAddress = defaultAddr;\n\t\t    }\n\t\t  } catch (error) {\n\t\t    console.error('åŠ è½½é»˜è®¤åœ°å€å¤±è´¥:', error);\n\t\t  }\n\t\t},\n\t\t\n\t\t// ğŸ”¥ æ–°å¢ï¼šä¿å­˜é»˜è®¤åœ°å€\n\t\tsaveDefaultAddress() {\n\t\t  if (this.setAsDefault && this.deliveryAddress.trim()) {\n\t\t    try {\n\t\t      uni.setStorageSync('default_delivery_address_' + this.openid, this.deliveryAddress.trim());\n\t\t      uni.showToast({\n\t\t        title: 'å·²è®¾ä¸ºé»˜è®¤åœ°å€',\n\t\t        icon: 'success',\n\t\t        duration: 1500\n\t\t      });\n\t\t    } catch (error) {\n\t\t      console.error('ä¿å­˜é»˜è®¤åœ°å€å¤±è´¥:', error);\n\t\t    }\n\t\t  }\n\t\t},\n\t\t\n\t\t// ğŸ”¥ ä¿®æ”¹ï¼šç¡®è®¤è´­ä¹°æ–¹æ³•\n\t\tasync confirmPurchase() {\n\t\t\tif (!this.openid) {\r\n\t\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t\t  uni.showModal({\r\n\t\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t\t    success: (res) => {\r\n\t\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t\t        uni.switchTab({\r\n\t\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t\t        })\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t  return\r\n\t\t\t\t\t}\n\t\t  // éªŒè¯åœ°å€\n\t\t  const address = this.deliveryAddress.trim();\n\t\t  if (!address) {\n\t\t    uni.showToast({\n\t\t      title: 'è¯·è¾“å…¥æ”¶è´§åœ°å€',\n\t\t      icon: 'none'\n\t\t    });\n\t\t    return;\n\t\t  }\n\t\t  \n\t\t  // å¦‚æœå‹¾é€‰äº†è®¾ä¸ºé»˜è®¤ï¼Œä¿å­˜åœ°å€\n\t\t  if (this.setAsDefault) {\n\t\t    this.saveDefaultAddress();\n\t\t  }\n\t\t  \n\t\t  // å…³é—­å¼¹çª—\n\t\t  this.closeBuyPanel();\n\t\t  \n\t\t  // æ‰§è¡ŒåŸæœ‰çš„æ”¯ä»˜é€»è¾‘\n\t\t  try {\n\t\t    // 1. åˆ›å»ºè®¢å•\n\t\t    const orderInfo = {\n\t\t      order_price: 0.01,\n\t\t      consignee_addr: address,  // ä½¿ç”¨ç”¨æˆ·è¾“å…¥çš„åœ°å€\n\t\t      goods: this.goods_info,\n\t\t      openid: this.openid\n\t\t    };\n\t\t\n\t\t    const { data: res } = await uni.$http.post('/orders/create', orderInfo);\n\t\t    if (res.meta.status !== 200) return uni.$showMsg('åˆ›å»ºè®¢å•å¤±è´¥ï¼');\n\t\t\n\t\t    const orderNumber = res.message.order_number;\n\t\t\n\t\t    // 2. è®¢å•é¢„æ”¯ä»˜\n\t\t    const { data: res2 } = await uni.$http.post('/orders/req_unifiedorder', { order_number: orderNumber });\n\t\t    if (res2.meta.status !== 200) return uni.$showMsg('é¢„ä»˜è®¢å•ç”Ÿæˆå¤±è´¥ï¼');\n\t\t\n\t\t    const payInfo = res2.message.pay;\n\t\t\n\t\t    // 3. å‘èµ·å¾®ä¿¡æ”¯ä»˜\n\t\t    const [err, succ] = await uni.requestPayment(payInfo);\n\t\t    if (err) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼');\n\t\t\n\t\t    const { data: res3 } = await uni.$http.post('/orders/chkOrder', { order_number: orderNumber });\n\t\t    if (res3.meta.status !== 200) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼');\n\t\t\n\t\t    uni.showToast({\n\t\t      title: 'è®¢å•æ”¯ä»˜å®Œæˆï¼',\n\t\t      icon: 'success'\n\t\t    });\n\t\t  } catch (error) {\n\t\t    console.error('æ”¯ä»˜å¤±è´¥:', error);\n\t\t    uni.showToast({\n\t\t      title: 'æ”¯ä»˜å¤±è´¥ï¼Œè¯·é‡è¯•',\n\t\t      icon: 'none'\n\t\t    });\n\t\t  }\n\t\t},\n\t\t\n\tasync payOrder() {\n\t        // 1. åˆ›å»ºè®¢å•\n\t        // 1.1 ç»„ç»‡è®¢å•çš„ä¿¡æ¯å¯¹è±¡\n\t        const orderInfo = {\n\t          // order_price: this.checkedGoodsAmount,\n\t          order_price: 0.01,\n\t          consignee_addr: this.addstr,\n\t          goods: this.goods_info,\n\t\t\t  openid: this.openid\n\t        }\n\t\n\t        // 1.2 å‘èµ·è¯·æ±‚åˆ›å»ºè®¢å•\n\t        const { data: res } = await uni.$http.post('/orders/create', orderInfo)\n\t        if (res.meta.status !== 200) return uni.$showMsg('åˆ›å»ºè®¢å•å¤±è´¥ï¼')\n\t\n\t        // 1.3 å¾—åˆ°æœåŠ¡å™¨å“åº”çš„â€œè®¢å•ç¼–å·â€\n\t        const orderNumber = res.message.order_number\n\t\n\t        // 2. è®¢å•é¢„æ”¯ä»˜\n\t        // 2.1 å‘èµ·è¯·æ±‚è·å–è®¢å•çš„æ”¯ä»˜ä¿¡æ¯\n\t        const { data: res2 } = await uni.$http.post('/orders/req_unifiedorder', { order_number: orderNumber })\n\t        // 2.2 é¢„ä»˜è®¢å•ç”Ÿæˆå¤±è´¥\n\t        if (res2.meta.status !== 200) return uni.$showMsg('é¢„ä»˜è®¢å•ç”Ÿæˆå¤±è´¥ï¼')\n\t        // 2.3 å¾—åˆ°è®¢å•æ”¯ä»˜ç›¸å…³çš„å¿…è¦å‚æ•°\n\t        const payInfo = res2.message.pay\n\t\n\t        // 3. å‘èµ·å¾®ä¿¡æ”¯ä»˜\n\t        // 3.1 è°ƒç”¨ uni.requestPayment() å‘èµ·å¾®ä¿¡æ”¯ä»˜\n\t        const [err, succ] = await uni.requestPayment(payInfo)\n\t        // 3.2 æœªå®Œæˆæ”¯ä»˜\n\t        if (err) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼')\n\t        // 3.3 å®Œæˆäº†æ”¯ä»˜ï¼Œè¿›ä¸€æ­¥æŸ¥è¯¢æ”¯ä»˜çš„ç»“æœ\n\t        const { data: res3 } = await uni.$http.post('/orders/chkOrder', { order_number: orderNumber })\n\t        // 3.4 æ£€æµ‹åˆ°è®¢å•æœªæ”¯ä»˜\n\t        if (res3.meta.status !== 200) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼')\n\t        // 3.5 æ£€æµ‹åˆ°è®¢å•æ”¯ä»˜å®Œæˆ\n\t        uni.showToast({\n\t          title: 'è®¢å•æ”¯ä»˜å®Œæˆï¼',\n\t          icon: 'success'\n\t        })\n\t      },\n\t\t  \n    // æ–°å¢ï¼šæ˜¾ç¤ºå›å¤è¾“å…¥æ¡†\n    showReplyInput(index, comment) {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n      this.replyToCommentIndex = index;\n      this.replyToComment = comment;\n      this.replyToUser = comment.nickname;\n      this.showReplyPanel = true;\n      this.newReply = '';\n    },\n    \n    // æ–°å¢ï¼šå…³é—­å›å¤è¾“å…¥æ¡†\n    closeReply() {\n      this.showReplyPanel = false;\n      this.newReply = '';\n      this.replyToCommentIndex = null;\n      this.replyToComment = null;\n      this.replyToUser = '';\n    },\n    \nasync sendReply() {\n  if (!this.openid) {\r\n  \t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n  \t\t  uni.showModal({\r\n  \t\t    title: 'æç¤º',\r\n  \t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n  \t\t    cancelText: 'å–æ¶ˆ',\r\n  \t\t    confirmText: 'ç™»å½•',\r\n  \t\t    success: (res) => {\r\n  \t\t      if (res.confirm) {\r\n  \t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n  \t\t        uni.switchTab({\r\n  \t\t          url: '/pages/my/my'\r\n  \t\t        })\r\n  \t\t      }\r\n  \t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n  \t\t    }\r\n  \t\t  })\r\n  \t\t  return\r\n  \t\t}\n\n  const content = this.newReply.trim();\n  if (!content) {\n    uni.showToast({\n      title: 'è¯·è¾“å…¥å›å¤å†…å®¹',\n      icon: 'none'\n    });\n    return;\n  }\n\n  // ğŸ”¥ æ–°å¢ï¼šæ–‡æœ¬å†…å®¹å®‰å…¨æ£€æµ‹\n  uni.showLoading({\n    title: 'æ£€æµ‹å†…å®¹...',\n    mask: true\n  });\n\n  const isTextSafe = await this.checkTextSafety(content);\n  uni.hideLoading();\n\n  if (!isTextSafe) {\n    uni.showModal({\n      title: 'å†…å®¹è¿è§„',\n      content: 'å›å¤å†…å®¹åŒ…å«è¿è§„ä¿¡æ¯ï¼Œè¯·ä¿®æ”¹åé‡è¯•',\n      showCancel: false,\n      confirmText: 'æˆ‘çŸ¥é“äº†'\n    });\n    return;\n  }\n\n  // âœ… æ£€æµ‹é€šè¿‡ï¼Œç»§ç»­å‘é€å›å¤\n  const currentTimestamp = Math.floor(Date.now() / 1000);\n  const targetCommentId = this.replyToComment.comment_id;\n\n  const newReplyObj = {\n    reply_id: 'reply_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),\n    user_openid: this.userBase.openid,\n    nickname: this.userBase.nickname,\n    avatarUrl: this.userBase.avatarUrl || '/images/1.jpg',\n    content: content,\n    created_at: currentTimestamp\n  };\n\n  const targetComment = this.comments.find(c => c.comment_id === targetCommentId);\n  \n  if (!targetComment) {\n    uni.showToast({\n      title: 'ç•™è¨€ä¸å­˜åœ¨',\n      icon: 'none'\n    });\n    return;\n  }\n\n  if (!targetComment.replies) {\n    targetComment.replies = [];\n  }\n  targetComment.replies.push(newReplyObj);\n\n  if (!targetComment.showAllReplies) {\n    targetComment.displayReplies = targetComment.replies.slice(0, 1);\n  } else {\n    targetComment.displayReplies = targetComment.replies;\n  }\n\n  this.closeReply();\n\n  // ä¿å­˜åˆ°åç«¯\n  try {\n    const { data: res } = await uni.$http.post('/goods/reply', {\n      comment_id: targetCommentId,\n      user_openid: this.userBase.openid,\n      nickname: this.userBase.nickname,\n      avatarUrl: this.userBase.avatarUrl || '/images/1.jpg',\n      content: content,\n      created_at: currentTimestamp,\n      goods_id: this.goods_id\n    });\n\n    if (res.meta.status !== 200) {\n      console.error('å›å¤ä¿å­˜å¤±è´¥:', res.meta.msg);\n      uni.showToast({\n        title: 'å›å¤ä¿å­˜å¤±è´¥',\n        icon: 'none'\n      });\n    }\n  } catch (error) {\n    console.error('è°ƒç”¨å›å¤APIå¤±è´¥:', error);\n  }\n},\n\n    \n    // æ–°å¢ï¼šåˆ‡æ¢æ˜¾ç¤ºæ‰€æœ‰å›å¤\n    toggleShowAllReplies(index) {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\tthis.comments[index].showAllReplies = !this.comments[index].showAllReplies;\n\t\t\tif (this.comments[index].showAllReplies) {\n\t\t\t  this.comments[index].displayReplies = this.comments[index].replies;\n\t\t\t} else {\n\t\t\t  this.comments[index].displayReplies = this.comments[index].replies.slice(0, 1);\n\t\t\t}\n\t\t}\n      \n    },\n    \n    async gotoPublisherProfile() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\tconst payload = encodeURIComponent(JSON.stringify(this.publisher_info));\n\t\t\tuni.navigateTo({\n\t\t\t  url: `/subpkg/profile/profile?publisher=${payload}`\n\t\t\t});\n\t\t}\n    },\n    async gotoProfile(openid) {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t  else {\n\t\t  const queryObj = {code: openid};\n\t\t  const {data: res} = await uni.$http.get('/users/userinfo', queryObj);\n\t\t  if (res.meta.status === 200) {\n\t\t    const user_info = res.message\n\t\t    const payload = encodeURIComponent(JSON.stringify(user_info));\n\t\t    uni.navigateTo({\n\t\t      url: `/subpkg/profile/profile?publisher=${payload}`\n\t\t    });\n\t\t  }\n\t  }\n      \n    },\n    async getIfFollowed() {\n\t\tif (this.openid) {\n\t\t\tconst queryObj = {code: this.openid, publisher_id: this.goods_info.publisher_id};\n      const { data: res } = await uni.$http.get('/users/iffollow', queryObj) \n      if (res.meta.status === 200) {\n        this.isFollowing = res.data.isFollowing;\n      }\n\t\t}\n      \n    },\n    async getIfCollected() {\n\t\tif (this.openid) {\n\t\t\tconst queryObj = {code: this.openid, goods_id: this.goods_id};\n      const { data: res } = await uni.$http.get('/users/ifcollect', queryObj) \n      if (res.meta.status === 200) {\t\n        this.isCollected = res.data.isCollected;\n      }\n\t\t}\n      \n    },\n    async getGoodsDetail(goods_id) {\n      const { data: res } = await uni.$http.get('/goods/detail', { goods_id })\n      if (res.meta.status !== 200) return uni.$showMsg()\n      this.goods_info = res.message[0]\n      console.log(this.goods_info)\n\t  // ğŸ”¥ğŸ”¥ğŸ”¥ è§£æå•†å“åˆ†ç±»(ä»é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„) ğŸ”¥ğŸ”¥ğŸ”¥\n\t    if (this.goods_info.category) {\n\t      this.goodsCategories = this.goods_info.category\n\t        .split(',')\n\t        .filter(c => c.trim() !== '')\n\t    } else {\n\t      this.goodsCategories = []\n\t    }\n\t  \n    },\n    async getGoodsList(cb) {\n      this.isloading = true\n      const { data: res } = await uni.$http.get('/goods/search', this.queryObj)\n      this.isloading = false\n      cb && cb()\n      if (res.meta.status !== 200) return uni.$showMsg()\n      this.goodsList = [...this.goodsList, ...res.message.goods]\n      this.total = res.message.total\n    },\n    async saveHistory() {\n\t\tif (this.openid) {\n\t\t\tconst requestBody = {\n        code: this.openid,\n        goods_id: this.goods_id\n      };\n      const { data: res } = await uni.$http.post('/users/history', requestBody)\n\t\t}\n      \n    },\n    async getPublisher() {\n      console.log('hello')\n      const req = {openid: this.goods_info.publisher_id}\n      const { data: res } = await uni.$http.get('/users/publisher', req)\n      if (res.meta.status === 200) {\n        this.publisher_info = res.message\n      }\n    },\n    async gotoDetail(item) {\n\t\ttry {\n\t\t  // 1. å…ˆå¢åŠ æµè§ˆæ¬¡æ•°\n\t\t  console.log('ğŸ“Š å¢åŠ å•†å“æµè§ˆæ¬¡æ•°:', item.goods_id);\n\t\t  const { data: res } = await uni.$http.post('/goods/view', {\n\t\t    goods_id: item.goods_id,\n\t\t    // å¯é€‰ï¼šæ·»åŠ ç”¨æˆ·ä¿¡æ¯ç”¨äºç»Ÿè®¡åˆ†æ\n\t\t    user_openid: this.openid || null\n\t\t  });\n\t\t\n\t\t  if (res.meta.status === 200) {\n\t\t    console.log('âœ… æµè§ˆæ¬¡æ•°å¢åŠ æˆåŠŸ');\n\t\t  } else {\n\t\t    console.warn('âš ï¸ æµè§ˆæ¬¡æ•°å¢åŠ å¤±è´¥:', res.meta.msg);\n\t\t  }\n\t\t} catch (error) {\n\t\t  console.error('âŒ æµè§ˆæ¬¡æ•°å¢åŠ æ¥å£é”™è¯¯:', error);\n\t\t  // å³ä½¿æ¥å£å¤±è´¥ä¹Ÿç»§ç»­è·³è½¬ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ\n\t\t}\n      uni.navigateTo({\n        url: '/subpkg/goods_detail/goods_detail?goods_id=' + item.goods_id\n      })\n    },\n    // ä¿®æ”¹é¢„è§ˆå›¾ç‰‡æ–¹æ³•ï¼ŒåŒæ­¥æ›´æ–°ç´¢å¼•\n      preview(i) {\n        this.currentImageIndex = i; // æ›´æ–°å½“å‰ç´¢å¼•\n        uni.previewImage({\n          current: i,\n          urls: this.goods_info.pics.map(x => x.pics_big + '?x-oss-process=image/quality,q_80'),\n        });\n      },\n    gotoSearch() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n      uni.navigateTo({\n        url: '/subpkg/search/search'\n      })\n    },\n    async toggleFollow() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t  else {\n\t\t  this.isFollowing = !this.isFollowing;\n\t\t  const url1 = this.isFollowing ? '/users/follow' : '/users/unfollow';\n\t\t  const query = {code: this.openid, publisher_id: this.goods_info.publisher_id};\n\t\t  const {data: res} = await uni.$http.post(url1, query);\n\t\t  uni.showToast({\n\t\t    title: this.isFollowing ? 'å…³æ³¨æˆåŠŸ' : 'å–æ¶ˆå…³æ³¨',\n\t\t    icon: 'none'\n\t\t  });\n\t  }\n     \n    },\n    toggleLike(index) {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\tthis.comments[index].isLiked = !this.comments[index].isLiked;\n\t\t}\n    },\t\n    openMessage() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\t this.showMessagePanel = true;\n\t\t}\n     \n    },\n    closeMessage() {\n      this.showMessagePanel = false;\n    },\n    async toggleCollect() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\tthis.isCollected = !this.isCollected;\n      const url = this.isCollected ? '/users/collect' : '/users/uncollect';\n      const queryObj = {code: this.openid, goods_id: this.goods_id};\n      const {data: res} = await uni.$http.post(url, queryObj);\n      uni.showToast({\n        title: this.isCollected ? 'æ”¶è—æˆåŠŸ' : 'å–æ¶ˆæ”¶è—',\n        icon: 'none'\n      });\n\t}  \n},\n    buyNow() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\tuni.showToast({\n\t\t\ttitle: 'ç«‹å³è´­ä¹°',\n\t\t\ticon: 'none'\n\t\t  });\n\t\t}\n    },\n    startChat() {\n\t\tif (!this.openid) {\r\n\t\t\t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t\t\t\t  uni.showModal({\r\n\t\t\t\t    title: 'æç¤º',\r\n\t\t\t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t\t\t\t    cancelText: 'å–æ¶ˆ',\r\n\t\t\t\t    confirmText: 'ç™»å½•',\r\n\t\t\t\t    success: (res) => {\r\n\t\t\t\t      if (res.confirm) {\r\n\t\t\t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t\t\t\t        uni.switchTab({\r\n\t\t\t\t          url: '/pages/my/my'\r\n\t\t\t\t        })\r\n\t\t\t\t      }\r\n\t\t\t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t\t\t\t    }\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\n\t\telse {\n\t\t\tconst payload = encodeURIComponent(JSON.stringify(this.goods_info));\n\t\t  uni.navigateTo({\n\t\t\turl: `/subpkg/chat/chat?goods_info=${payload}`\n\t\t  })\n\t\t}\n    },\n    async sendComment() {\n     if (!this.openid) {\r\n     \t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n     \t\t  uni.showModal({\r\n     \t\t    title: 'æç¤º',\r\n     \t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n     \t\t    cancelText: 'å–æ¶ˆ',\r\n     \t\t    confirmText: 'ç™»å½•',\r\n     \t\t    success: (res) => {\r\n     \t\t      if (res.confirm) {\r\n     \t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n     \t\t        uni.switchTab({\r\n     \t\t          url: '/pages/my/my'\r\n     \t\t        })\r\n     \t\t      }\r\n     \t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n     \t\t    }\r\n     \t\t  })\r\n     \t\t  return\r\n     \t\t}\n    \n      const content = this.newComment.trim();\n      if (!content) {\n        uni.showToast({\n          title: 'è¯·è¾“å…¥ç•™è¨€å†…å®¹',\n          icon: 'none'\n        });\n        return;\n      }\n    \n      // ğŸ”¥ æ–°å¢ï¼šæ–‡æœ¬å†…å®¹å®‰å…¨æ£€æµ‹\n      uni.showLoading({\n        title: 'æ£€æµ‹å†…å®¹...',\n        mask: true\n      });\n    \n      const isTextSafe = await this.checkTextSafety(content);\n      uni.hideLoading();\n    \n      if (!isTextSafe) {\n        uni.showModal({\n          title: 'å†…å®¹è¿è§„',\n          content: 'ç•™è¨€å†…å®¹åŒ…å«è¿è§„ä¿¡æ¯ï¼Œè¯·ä¿®æ”¹åé‡è¯•',\n          showCancel: false,\n          confirmText: 'æˆ‘çŸ¥é“äº†'\n        });\n        return;\n      }\n    \n      // âœ… æ£€æµ‹é€šè¿‡ï¼Œç»§ç»­å‘é€ç•™è¨€\n      const currentTimestamp = Math.floor(Date.now() / 1000);\n      const newCommentObj = {\n        comment_id: 'cmt_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),\n        user_openid: this.userBase.openid,\n        nickname: this.userBase.nickname,\n        avatarUrl: this.userBase.avatarUrl,\n        content: content,\n        created_at: currentTimestamp,\n        like_count: 0,\n        replies: [],\n        showAllReplies: false,\n        displayReplies: []\n      };\n      \n      this.comments.unshift(newCommentObj);\n      this.newComment = '';\n      this.scrollIntoView = 'msg-0';\n      \n      uni.showToast({\n        title: 'ç•™è¨€æˆåŠŸ',\n        icon: 'success'\n      });\n    \n      // ä¿å­˜åˆ°åç«¯\n      const queryObj = {goods_id: this.goods_id, comment: newCommentObj};\n      const { data: res } = await uni.$http.post('/goods/comment', queryObj);\n      \n      const queryObj1 = {code: this.openid, goods_id: this.goods_id, content: newCommentObj};\n      const { data: res1 } = await uni.$http.post('/users/comment', queryObj1);\n    },\n    showViewCount() {\n      uni.showToast({\n        title: `å…± ${this.viewCount || 0} äººæµè§ˆ`,\n        icon: 'none',\n        duration: 2000\n      });\n    },\n    manageGoods() {\n\tif (this.goods_info.goods_status === 1) {\n\t\tuni.showActionSheet({\n\t\t  itemList: ['ä¸‹æ¶å•†å“', 'æŸ¥çœ‹æ•°æ®'],\n\t\t  success: (res) => {\n\t\t    switch(res.tapIndex) {\n\t\t      case 0:\n\t\t        this.offlineGoods();\n\t\t        break;\n\t\t      case 1:\n\t\t        this.viewGoodsData();\n\t\t        break;\n\t\t    }\n\t\t  }\n\t\t});\n\t};\n    if (this.goods_info.goods_status === 2) {\n\t\tuni.showActionSheet({\n\t\t  itemList: ['é‡æ–°ä¸Šæ¶','æŸ¥çœ‹æ•°æ®'],\n\t\t  success: (res) => {\n\t\t    switch(res.tapIndex) {\n\t\t      case 0:\n\t\t        this.reofflineGoods();\n\t\t        break;\n\t\t      case 1:\n\t\t        this.viewGoodsData();\n\t\t        break;\n\t\t    }\n\t\t  }\n\t\t});\n\t}\n    },\n    editGoods() {\n\t\tconst goodsData = {\n\t\t  goods_id: this.goods_info.goods_id,\n\t\t  description: this.goods_info.goods_name,\n\t\t  price: this.goods_info.goods_price,\n\t\t  images: this.goods_info.pics.map(item => item.pics_big),\n\t\t};\n\t\tuni.setStorageSync('edit_goods_data', goodsData);\n\t\tuni.switchTab({\n\t\t    url: '/pages/sold/sold'\n\t\t  });\n    },\n    async offlineGoods() {\n      uni.showModal({\n        title: 'æç¤º',\n        content: 'ç¡®å®šè¦ä¸‹æ¶è¯¥å•†å“å—ï¼Ÿ',\n        success: async (res) => {\n          if (res.confirm) {\n            try {\n              const queryObj = {goods_id: this.goods_id};\n              const { data: res } = await uni.$http.post('/goods/unpublish', queryObj);\n              \n              uni.showToast({\n                title: 'ä¸‹æ¶æˆåŠŸ',\n                icon: 'success',\n                duration: 1000\n              });\n              \n              // âœ… ç­‰å¾… Toast æ˜¾ç¤ºå®Œæˆåè¿”å›ä¸Šä¸€é¡µ\n              setTimeout(() => {\n                uni.navigateBack({\n                  delta: 1\n                });\n              }, 1000);\n              \n            } catch (error) {\n              console.error('ä¸‹æ¶å¤±è´¥:', error);\n              uni.showToast({\n                title: 'ä¸‹æ¶å¤±è´¥',\n                icon: 'none',\n                duration: 1000\n              });\n            }\n          }\n        }\n      });\n    },\n\t\n\t/**\n\t * ğŸ”¥ æ–°å¢ï¼šæ–‡æœ¬å†…å®¹å®‰å…¨æ£€æµ‹\n\t */\n\tasync checkTextSafety(text) {\n\t  try {\n\t    console.log('ğŸ” å¼€å§‹æ£€æµ‹æ–‡æœ¬:', text.substring(0, 30) + '...');\n\t    \n\t    const { data: res } = await uni.$http.post('/upload/textSecCheck', {\n\t      content: text,\n\t      openid: this.openid\n\t    });\n\t    \n\t    console.log('ğŸ“¥ æ–‡æœ¬æ£€æµ‹ç»“æœ:', res);\n\t    \n\t    if (res.meta.status === 200) {\n\t      console.log('âœ… æ–‡æœ¬å†…å®¹å®‰å…¨');\n\t      return true;\n\t    } else {\n\t      console.warn('ğŸš« æ–‡æœ¬å†…å®¹è¿è§„:', res.meta.msg);\n\t      return false;\n\t    }\n\t    \n\t  } catch (err) {\n\t    console.error('ğŸ’¥ æ–‡æœ¬æ£€æµ‹å‡ºé”™:', err);\n\t    \n\t    // ğŸ”¥ ç½‘ç»œé”™è¯¯æ—¶æç¤ºç”¨æˆ·\n\t    uni.showToast({\n\t      title: 'æ–‡æœ¬æ£€æµ‹å¤±è´¥ï¼Œè¯·é‡è¯•',\n\t      icon: 'none',\n\t      duration: 2000\n\t    });\n\t    \n\t    return false;\n\t  }\n\t},\n\n\t\n\t\n\tasync reofflineGoods() {\n\t  uni.showModal({\n\t    title: 'æç¤º',\n\t    content: 'ç¡®å®šè¦é‡æ–°ä¸Šæ¶è¯¥å•†å“å—ï¼Ÿ',\n\t    success: async (res) => {\n\t      if (res.confirm) {\n\t        try {\n\t          const picsBigList = this.goods_info.pics.map(item => item.pics_big);\n\t          const queryObj = {\n\t            code: this.openid,\n\t            publisherNickname: this.userBase.nickname,\n\t            description: this.goods_info.goods_name,\n\t            price: this.goods_info.goods_price,\n\t            coverImage: this.goods_info.goods_big_logo, // ç¬¬ä¸€å¼ ä½œä¸ºå°é¢\n\t            images: picsBigList, // æ‰€æœ‰å›¾ç‰‡\n\t            goods_id: this.goods_info.goods_id\n\t          };\n\t          \n\t          const { data: res } = await uni.$http.post('/goods/republish', queryObj);\n\t          \n\t          uni.showToast({\n\t            title: 'é‡æ–°ä¸Šæ¶æˆåŠŸ',\n\t            icon: 'success',\n\t            duration: 1000\n\t          });\n\t          \n\t          // âœ… ç­‰å¾… Toast æ˜¾ç¤ºå®Œæˆåè¿”å›ä¸Šä¸€é¡µ\n\t          setTimeout(() => {\n\t            uni.navigateBack({\n\t              delta: 1\n\t            });\n\t          }, 1000);\n\t          \n\t        } catch (error) {\n\t          console.error('é‡æ–°ä¸Šæ¶å¤±è´¥:', error);\n\t          uni.showToast({\n\t            title: 'é‡æ–°ä¸Šæ¶å¤±è´¥',\n\t            icon: 'none',\n\t            duration: 1000\n\t          });\n\t        }\n\t      }\n\t    }\n\t  });\n\t},\n    deleteGoods() {\n      uni.showModal({\n        title: 'è­¦å‘Š',\n        content: 'åˆ é™¤åæ— æ³•æ¢å¤ï¼Œç¡®å®šè¦åˆ é™¤è¯¥å•†å“å—ï¼Ÿ',\n        success: (res) => {\n          if (res.confirm) {\n            console.log('åˆ é™¤å•†å“');\n          }\n        }\n      });\n    },\n    viewGoodsData() {\n      uni.showModal({\n        title: 'å•†å“æ•°æ®',\n        content: `æµè§ˆï¼š${this.viewCount}\\næ”¶è—ï¼š${this.collectCount}\\nç•™è¨€ï¼š${this.comments.length}`,\n        showCancel: false\n      });\n    },\n    RelativeTime(createdAt) {\n      const currentTimestamp = Math.floor(Date.now() / 1000);\n      const diffInSeconds = currentTimestamp - createdAt;\n      \n      if (diffInSeconds <= 0) {\n        return \"åˆšåˆš\";\n      }\n      \n      const MINUTE = 60;\n      const HOUR = 60 * MINUTE;\n      const DAY = 24 * HOUR;\n      const MONTH = 30 * DAY;\n      const YEAR = 365 * DAY;\n      \n      if (diffInSeconds < HOUR) {\n        const minutes = Math.floor(diffInSeconds / MINUTE);\n        return minutes <= 0 ? \"åˆšåˆš\" : `${minutes}åˆ†é’Ÿä¹‹å‰`;\n      }\n      \n      if (diffInSeconds < DAY) {\n        const hours = Math.floor(diffInSeconds / HOUR);\n        return `${hours}å°æ—¶ä¹‹å‰`;\n      }\n      \n      if (diffInSeconds < MONTH) {\n        const days = Math.floor(diffInSeconds / DAY);\n        return `${days}å¤©ä¹‹å‰`;\n      }\n      \n      if (diffInSeconds < YEAR) {\n        const months = Math.floor(diffInSeconds / MONTH);\n        return `${months}ä¸ªæœˆä¹‹å‰`;\n      }\n      \n      const years = Math.floor(diffInSeconds / YEAR);\n      return `${years}å¹´ä¹‹å‰`;\n    },\n\tasync sendQuickComment() {\n\t  if (!this.openid) {\r\n\t  \t\t  // å¼¹å‡ºç™»å½•æç¤ºæ¡†\r\n\t  \t\t  uni.showModal({\r\n\t  \t\t    title: 'æç¤º',\r\n\t  \t\t    content: 'éœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒæ›´å¤šå†…å®¹å“¦',\r\n\t  \t\t    cancelText: 'å–æ¶ˆ',\r\n\t  \t\t    confirmText: 'ç™»å½•',\r\n\t  \t\t    success: (res) => {\r\n\t  \t\t      if (res.confirm) {\r\n\t  \t\t        // ç”¨æˆ·ç‚¹å‡»äº†\"ç™»å½•\"æŒ‰é’®\r\n\t  \t\t        uni.switchTab({\r\n\t  \t\t          url: '/pages/my/my'\r\n\t  \t\t        })\r\n\t  \t\t      }\r\n\t  \t\t      // ç”¨æˆ·ç‚¹å‡»äº†\"å–æ¶ˆ\"æŒ‰é’®ï¼Œä¸åšä»»ä½•æ“ä½œ\r\n\t  \t\t    }\r\n\t  \t\t  })\r\n\t  \t\t  return\r\n\t  \t\t}\n\t  \n\t  const content = this.quickComment.trim();\n\t  if (!content) {\n\t    uni.showToast({\n\t      title: 'è¯·è¾“å…¥ç•™è¨€å†…å®¹',\n\t      icon: 'none'\n\t    });\n\t    return;\n\t  }\n\t\n\t  // ğŸ”¥ æ–°å¢ï¼šæ–‡æœ¬å†…å®¹å®‰å…¨æ£€æµ‹\n\t  uni.showLoading({\n\t    title: 'æ£€æµ‹å†…å®¹...',\n\t    mask: true\n\t  });\n\t\n\t  const isTextSafe = await this.checkTextSafety(content);\n\t  uni.hideLoading();\n\t\n\t  if (!isTextSafe) {\n\t    uni.showModal({\n\t      title: 'å†…å®¹è¿è§„',\n\t      content: 'ç•™è¨€å†…å®¹åŒ…å«è¿è§„ä¿¡æ¯ï¼Œè¯·ä¿®æ”¹åé‡è¯•',\n\t      showCancel: false,\n\t      confirmText: 'æˆ‘çŸ¥é“äº†'\n\t    });\n\t    return;\n\t  }\n\t\n\t  // âœ… æ£€æµ‹é€šè¿‡ï¼Œç»§ç»­å‘é€å¿«é€Ÿç•™è¨€\n\t  const currentTimestamp = Math.floor(Date.now() / 1000);\n\t  \n\t  const newCommentObj = {\n\t    comment_id: 'cmt_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),\n\t    user_openid: this.userBase.openid,\n\t    nickname: this.userBase.nickname,\n\t    avatarUrl: this.userBase.avatarUrl || '/images/1.jpg',\n\t    content: content,\n\t    created_at: currentTimestamp,\n\t    like_count: 0,\n\t    replies: [],\n\t    showAllReplies: false,\n\t    displayReplies: [],\n\t    isLiked: false\n\t  };\n\t  \n\t  this.comments.unshift(newCommentObj);\n\t  this.closeQuickReply();\n\t  \n\t  uni.showToast({\n\t    title: 'ç•™è¨€æˆåŠŸ',\n\t    icon: 'success'\n\t  });\n\t  \n\t  // ä¿å­˜åˆ°åç«¯\n\t  try {\n\t    const queryObj = {\n\t      goods_id: this.goods_id,\n\t      comment: newCommentObj\n\t    };\n\t    const { data: res } = await uni.$http.post('/goods/comment', queryObj);\n\t    \n\t    if (res.meta.status !== 200) {\n\t      console.error('ç•™è¨€ä¿å­˜å¤±è´¥:', res.meta.msg);\n\t    }\n\t    \n\t    const queryObj1 = {\n\t      code: this.openid,\n\t      goods_id: this.goods_id,\n\t      content: newCommentObj\n\t    };\n\t    await uni.$http.post('/users/comment', queryObj1);\n\t    \n\t  } catch (error) {\n\t    console.error('è°ƒç”¨ç•™è¨€APIå¤±è´¥:', error);\n\t  }\n\t},\n  },\n  computed: {\n    ...mapState('m_user', ['token', 'code', 'userBase', 'openid']),\n    leftColumn()  { return this.goodsList.filter((_, idx) => idx % 2 === 0) },\n    rightColumn() { return this.goodsList.filter((_, idx) => idx % 2 === 1) },\n\tdisplayedComments() {\n\t    return this.comments.slice(0, 3);\n\t  }\n  },\n  onReachBottom() {\n    if (this.queryObj.pagenum * this.queryObj.pagesize >= this.total)\n    return uni.$showMsg('æ•°æ®åŠ è½½å®Œæ¯•ï¼')\n    if (this.isloading) return\n    this.queryObj.pagenum += 1\n    this.getGoodsList()\n  },\n  onPullDownRefresh() {\n    this.queryObj.pagenum = 1\n    this.total = 0\n    this.isloading = false\n    this.goodsList = []\n    this.getGoodsList(() => uni.stopPullDownRefresh())\n  },\n  \n}\n</script>\n\n\n<style lang=\"scss\">\n.goods-detail-page {\n  min-height: 100vh;\n  background: #f8f9fa;\n  padding-bottom: 120rpx;\n}\n\n// ğŸ”¥ ä¿®æ”¹æœç´¢æ¡†æ ·å¼ - ä¼˜åŒ–éšè—åŠ¨ç”»\n.search-box {\n  background: #fff;\n  position: sticky;\n  top: 0;\n  z-index: 999;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  \n  /* ğŸ”¥ å…³é”®ï¼šæ·»åŠ å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), \n              opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),\n              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* é»˜è®¤çŠ¶æ€ */\n  transform: translateY(0);\n  opacity: 1;\n  \n  &.hide {\n    /* å‘ä¸Šæ»‘å‡ºå±å¹• */\n    transform: translateY(-100%);\n    opacity: 0;\n    box-shadow: none;\n    /* éšè—åä¸å ç”¨ç©ºé—´ */\n    pointer-events: none;\n  }\n  \n  .search-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 0 16rpx;\n    height: 88rpx; /* ğŸ”¥ å›ºå®šé«˜åº¦ï¼Œé˜²æ­¢åŠ¨ç”»æ—¶æŠ–åŠ¨ */\n    \n    .search-content {\n      flex: 1;\n    }\n    \n\t/* ğŸ”¥ æ–°å¢ï¼šæŒ‰é’®å®¹å™¨ - ç¡®ä¿å³ä¾§æŒ‰é’®å¯¹é½ */\n\t  .action-buttons {\n\t    display: flex;\n\t    align-items: center;\n\t    gap: 20rpx;  /* âœ… æ§åˆ¶ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´çš„é—´è· */\n\t  }\n\t  \n    .share-btn {\n     width: 64rpx;\n     height: 64rpx;\n     background: #ffffff; \n     // background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);\n     border-radius: 50%;\n     display: flex;\n     align-items: center;\n     justify-content: center;\n     border: none;\n     padding: 0;\n     margin: 0;\n     transition: all 0.3s;\n\t flex-shrink: 0;  /* âœ… é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */\n\t \n      &::after {\n        border: none;\n      }\n\t  \n      &:active {\n        transform: scale(0.95);\n      }\n\t  .share-icon {\n\t    width: 40rpx;      /* å›¾ç‰‡å®½åº¦ */\n\t    height: 40rpx;     /* å›¾ç‰‡é«˜åº¦ */\n\t    display: block;\n\n\t  }\n\t  \n    }\n  }\n}\n.more-btn {\n    width: 64rpx;           /* âœ… è®¾ç½®å›ºå®šå®½åº¦ */\n    height: 64rpx;          /* âœ… è®¾ç½®å›ºå®šé«˜åº¦ */\n    font-size: 48rpx;\n    color: #999;\n    display: flex;          /* âœ… ä½¿ç”¨flexå±…ä¸­ */\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;         /* âœ… é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */\n  }\n.scroll-content {\n  width: 100%;\n  transition: height 0.3s ease;\n}\n\n.content-wrapper {\n  padding: 0 16rpx;\n}\n\n// ğŸ¨ å‘å¸ƒè€…ä¿¡æ¯åŒºåŸŸ\n.publisher-section {\n  display: flex;\n  align-items: center;\n  padding: 20rpx 24rpx;\n  margin: 16rpx 0;\n  background: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .publisher-avatar {\n    width: 80rpx;\n    height: 80rpx;\n    border-radius: 50%;\n    margin-right: 16rpx;\n    background: #f5f5f5;\n  }\n\n  .publisher-info {\n    flex: 1;\n\n    .publisher-name-row {\n      display: flex;\n      align-items: center;\n      margin-bottom: 4rpx;\n      \n\t  .user-info {\n\t    flex: 1; \n\t\t\n      .publisher-name {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n        margin-right: 12rpx;\n\t\tmargin_bottom: 3rpx;\n      }\n\t  \n\t  .post-meta {\n\t    display: flex;\n\t    gap: 16rpx;\n\t    font-size: 24rpx;\n\t    color: #999;\n\t  \n\t    .post-views::before {\n\t      margin-right: 8rpx;\n\t    }\n\t  }\n}\n      .verification-badge {\n        display: flex;\n        align-items: center;\n        padding: 2rpx 8rpx;\n        background: #C00000;\n        border-radius: 12rpx;\n\n        .badge-icon {\n          font-size: 16rpx;\n          color: #fff;\n          margin-right: 2rpx;\n        }\n\n        .badge-text {\n          font-size: 16rpx;\n          color: #fff;\n        }\n      }\n    }\n\n    .publisher-meta {\n      display: flex;\n      align-items: center;\n      gap: 16rpx;\n\n      .publish-time {\n        font-size: 22rpx;\n        color: #999;\n      }\n\n      .view-count-item {\n        display: flex;\n        align-items: center;\n        gap: 4rpx;\n\n        .view-icon {\n          font-size: 20rpx;\n        }\n\n        .view-count {\n          font-size: 22rpx;\n          color: #666;\n        }\n      }\n    }\n  }\n\n  .follow-btn {\n    padding: 12rpx 24rpx;\n    background: #C00000;\n    color: #fff;\n    border-radius: 20rpx;\n    font-size: 24rpx;\n    \n    &.following {\n      background: #f0f0f0;\n      color: #666;\n    }\n  }\n}\n\n// ğŸ¨ å•†å“åŸºç¡€ä¿¡æ¯å¡ç‰‡\n.goods-basic-info {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 24rpx;\n  margin: 16rpx 0;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n}\n\n.goods-name-section {\n  margin-bottom: 16rpx;\n\n  .goods-name {\n    font-size: 28rpx;\n    line-height: 40rpx;\n    color: #333;\n    font-weight: 500;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n  }\n}\n\n.price-location-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16rpx;\n\n  .price-container {\n    display: flex;\n    align-items: baseline;\n\n    .price-symbol {\n      font-size: 24rpx;\n      color: #C00000;\n      font-weight: 600;\n    }\n\n    .price-value {\n      font-size: 48rpx;\n      color: #C00000;\n      font-weight: 700;\n      margin-left: 4rpx;\n    }\n  }\n  \n\n\t\n\n  .location-container {\n    display: flex;\n    align-items: center;\n    padding: 8rpx 16rpx;\n    background: #f0f9ff;\n    border-radius: 20rpx;\n    border: 1rpx solid #e6f7ff;\n\n    .location-icon {\n      font-size: 20rpx;\n      margin-right: 6rpx;\n    }\n\n    .location-text {\n      font-size: 22rpx;\n      color: #C00000;\n      margin-right: 8rpx;\n    }\n\n    .status-dot {\n      width: 8rpx;\n      height: 8rpx;\n      background: #C00000;\n      border-radius: 50%;\n    }\n  }\n}\n\n// ğŸ”¥ æ–°å¢ï¼šæµè§ˆæ•°å•ç‹¬ä¸€è¡Œçš„æ ·å¼\n.view-count-row {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16rpx;\n  \n  .view-count-badge {\n    display: flex;\n    align-items: center;\n    padding: 6rpx 12rpx;\n    background: #f5f5f5;\n    border-radius: 16rpx;\n    \n    .view-icon {\n      font-size: 20rpx;\n      margin-right: 6rpx;\n    }\n    \n    .view-text {\n      font-size: 22rpx;\n      color: #666;\n    }\n  }\n}\n\n.category-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12rpx;\n\n  .category-tag {\n    display: flex;\n    align-items: center;\n    padding: 6rpx 12rpx;\n    background: #f8f9fa;\n    border: 1rpx solid #e9ecef;\n    border-radius: 16rpx;\n\n    .tag-icon {\n      font-size: 20rpx;\n      margin-right: 4rpx;\n    }\n\n    .tag-text {\n      font-size: 20rpx;\n      color: #666;\n    }\n  }\n}\n\n// ğŸ¨ å•†å“å›¾ç‰‡åŒºåŸŸ\n.goods-images-section {\n  position: relative;\n  margin: 16rpx 0;\n  background: #fff;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .goods-swiper {\n    width: 100%;\n    height: 680rpx;\n\n    .swiper-image {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .image-counter {\n    position: absolute;\n    top: 16rpx;\n    right: 16rpx;\n    padding: 4rpx 12rpx;\n    background: rgba(0, 0, 0, 0.6);\n    border-radius: 16rpx;\n    backdrop-filter: blur(10rpx);\n\n    text {\n      color: #fff;\n      font-size: 20rpx;\n    }\n  }\n}\n\n// ğŸ¨ ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ\n.stats-section {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20rpx;\n  margin: 16rpx 0;\n  background: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .stats-item {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .stats-number {\n      font-size: 32rpx;\n      font-weight: 700;\n      color: #333;\n      margin-bottom: 4rpx;\n    }\n\n    .stats-label {\n      font-size: 22rpx;\n      color: #999;\n    }\n  }\n\n  .stats-divider {\n    width: 1rpx;\n    height: 40rpx;\n    background: #f0f0f0;\n    margin: 0 20rpx;\n  }\n}\n\n.comments-section {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 15rpx;\n  margin: 16rpx 0;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16rpx;\n    padding-bottom: 12rpx;\n    border-bottom: 1rpx solid #f5f5f5;\n\n    .section-title-wrapper {\n      .section-title {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n      }\n    }\n\n    .more-btn {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      gap: 4rpx;\n      white-space: nowrap;\n      flex-shrink: 0;\n      padding: 16rpx 20rpx;\n\n      .more-text {\n        font-size: 24rpx;\n        color: #999;\n        display: inline-block;\n        line-height: 1;\n        padding-top: 15rpx;\n      }\n    }\n  }\n\n  .quick-comment-box {\n    display: flex;\n    align-items: center;\n    padding: 16rpx 0;\n    border-bottom: 1rpx solid #f5f5f5;\n    cursor: pointer;\n\n    .quick-comment-avatar {\n      width: 56rpx;\n      height: 56rpx;\n      border-radius: 50%;\n      margin-right: 16rpx;\n      margin-bottom: 12rpx;\n      flex-shrink: 0;\n    }\n\n    .quick-comment-input-placeholder {\n      flex: 1;\n      height: 56rpx;\n      background: #f8f9fa;\n      border-radius: 28rpx;\n      padding: 0 30rpx;\n      display: flex;\n      align-items: center;\n      margin-bottom: 12rpx;\n      \n      text {\n        font-size: 24rpx;\n        color: #999;\n      }\n    }\n  }\n\n  .comment-item {\n    padding: 16rpx 0;\n    border-bottom: 1rpx solid #f0f0f0;  // ğŸ”¥ ä¿®æ”¹ï¼šä½¿ç”¨æ›´æ˜æ˜¾çš„åˆ†ç•Œçº¿é¢œè‰²\n\n    &:last-child {\n      border-bottom: none;  // æœ€åä¸€æ¡ç•™è¨€ä¸æ˜¾ç¤ºåˆ†ç•Œçº¿\n    }\n\n    .comment-main-content {\n      cursor: pointer;\n      \n      .comment-header {\n        display: flex;\n        align-items: center;\n        margin-bottom: 12rpx;\n\n        .comment-avatar {\n          width: 56rpx;\n          height: 56rpx;\n          border-radius: 50%;\n          margin-right: 12rpx;\n          flex-shrink: 0;\n        }\n\n        .comment-user-info {\n          flex: 1;\n\n          .comment-username {\n            font-size: 26rpx;\n            color: #333;\n            font-weight: 600;\n            margin-bottom: 4rpx;  // ğŸ”¥ å‡å°é—´è·ï¼ˆåŸæ¥æ²¡æœ‰è®¾ç½® â†’ 4rpxï¼‰\n            display: block;\n          }\n\n          .comment-time {\n            font-size: 22rpx;\n            color: #999;\n\t\t\tline-height: 1;  // ğŸ”¥ æ–°å¢ï¼šè®¾ç½®è¡Œé«˜ä¸º1ï¼Œè¿›ä¸€æ­¥å‡å°é—´è·\n          }\n        }\n      }\n\n      .comment-content {\n        padding-left: 68rpx;\n        font-size: 26rpx;\n        line-height: 36rpx;\n        color: #333;\n        word-break: break-word;\n      }\n    }\n\n    .replies-section {\n      margin-top: 16rpx;\n      padding: 16rpx;\n      margin-left: 68rpx;\n      background: #f8f9fa;\n      border-radius: 12rpx;\n\n      .reply-item {\n        display: flex;\n        align-items: flex-start;\n        margin-bottom: 24rpx;\n        cursor: pointer;\n\t\t  padding-bottom: 16rpx;  // ğŸ”¥ å¢åŠ åº•éƒ¨å†…è¾¹è·ï¼ˆåŸæ¥æ²¡æœ‰ï¼‰\n\n        &:last-child {\n          margin-bottom: 0;\n          padding-bottom: 0;\n        }\n\n        .reply-avatar {\n          width: 40rpx;\n          height: 40rpx;\n          border-radius: 50%;\n          margin-right: 8rpx;\n          flex-shrink: 0;\n        }\n\n        .reply-content-wrapper {\n          flex: 1;\n          font-size: 24rpx;\n           line-height: 36rpx;  // ğŸ”¥ å¢åŠ è¡Œé«˜ï¼ˆåŸ32rpx â†’ 36rpxï¼‰\n          word-break: break-word;\n\n          .reply-username {\n            color: #666;\n            font-weight: 600;\n          }\n\n          .reply-text {\n            color: #333;\n          }\n        }\n      }\n\n      .show-more-replies {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 12rpx 0;\n        font-size: 24rpx;\n        color: #C00000;\n        cursor: pointer;\n      }\n    }\n  }\n}\n\n\n// ğŸ¨ åˆ†éš”çº¿åŒºåŸŸ\n.section-divider {\n  display: flex;\n  align-items: center;\n  margin: 32rpx 0;\n  padding: 0 24rpx;\n\n  .divider-line {\n    flex: 1;\n    height: 1rpx;\n    background: #e9ecef;\n  }\n\n    .divider-text {\n      padding: 0 20rpx;\n      font-size: 24rpx;\n      color: #999;\n      background: #f8f9fa;\n    }\n  }\n  \n  // å•†å“ç€‘å¸ƒæµ\n  .waterfall {\n    display: flex;\n    padding: 16rpx;\n    justify-content: space-between;\n  \n    .col {\n      width: 48%;\n      display: flex;\n      flex-direction: column;\n    }\n  }\n  \n  // ğŸ¨ åº•éƒ¨æ“ä½œæ \n  .bottom-bar {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100rpx;\n    background: #fff;\n    display: flex;\n    align-items: center;\n    padding: 0 20rpx;\n    box-shadow: 0 -2rpx 16rpx rgba(0, 0, 0, 0.08);\n    z-index: 999;\n  \n    .bar-item {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin-right: 0rpx;\n      padding: 8rpx;\n    }\n  \n  .bar-text {\n   font-size: 23rpx;\n       color: #666;\n       margin-top: 4rpx;\n       /* ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šè®¾ç½®å›ºå®šå®½åº¦ï¼Œé˜²æ­¢æ–‡å­—é•¿åº¦å˜åŒ–å½±å“å¸ƒå±€ */\n       width: 60rpx;\n       text-align: center;\n       white-space: nowrap;  /* é˜²æ­¢æ¢è¡Œ */\n  }\n    .bar-btn {\n      // flex: 1;\n      height: 70rpx;\n\t  width: 400rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 35rpx;\n      font-size: 28rpx;\n      font-weight: 600;\n      margin-left: 30rpx;\n\t  \n\t  flex-shrink: 0;  /* é˜²æ­¢è¢«å‹ç¼© */\n    }\n  \n    .buy-btn {\n      background: linear-gradient(135deg, #C00000, #C00000);\n      color: #fff;\n    }\n  \n    .chat-btn {\n      background: linear-gradient(135deg, #C00000, #C00000);\n      color: #fff;\n    }\n  \n    .manage-btn {\n      background: linear-gradient(135deg, #C00000, #C00000);\n      color: #fff;\n    }\n  }\n  \n  // ç•™è¨€å¼¹çª—ç›¸å…³æ ·å¼\n  .message-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 1000;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s;\n  \n    &.show {\n      opacity: 1;\n      visibility: visible;\n    }\n  }\n  \n  .message-panel {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 80vh;\n    background: #fff;\n    border-radius: 20rpx 20rpx 0 0;\n    z-index: 1001;\n    display: flex;\n    flex-direction: column;\n    transform: translateY(100%);\n    transition: transform 0.3s;\n  \n    &.show {\n      transform: translateY(0);\n    }\n  \n    .message-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 24rpx;\n      border-bottom: 1rpx solid #f5f5f5;\n  \n      .message-title-wrapper {\n        flex: 1;\n        display: flex;\n        justify-content: center;\n        align-items: baseline;\n  \n        .message-title {\n          font-size: 28rpx;\n          font-weight: 600;\n          color: #333;\n        }\n  \n        .message-count {\n          font-size: 22rpx;\n          color: #999;\n          margin-left: 8rpx;\n        }\n      }\n    }\n.message-list {\n  flex: 1;\n  padding: 0 24rpx;\n\n  .message-item {\n    margin-top: 0;  // ğŸ”¥ ä¿®æ”¹ï¼šç§»é™¤é¡¶éƒ¨é—´è·\n    margin-bottom: 0;  // ğŸ”¥ ä¿®æ”¹ï¼šç§»é™¤åº•éƒ¨é—´è·\n    padding: 20rpx 0;  // ğŸ”¥ æ–°å¢ï¼šä½¿ç”¨å†…è¾¹è·ä»£æ›¿å¤–è¾¹è·\n    position: relative;\n    border-bottom: 1rpx solid #f0f0f0;  // ğŸ”¥ æ–°å¢ï¼šæ·»åŠ åˆ†ç•Œçº¿\n\n    &:last-child {\n      border-bottom: none;  // ğŸ”¥ æœ€åä¸€æ¡ä¸æ˜¾ç¤ºåˆ†ç•Œçº¿\n    }\n\n    // ä¸»ç•™è¨€åŒºåŸŸ\n    .message-main-content {\n      display: flex;\n      cursor: pointer;\n      position: relative;\n      padding-right: 80rpx;\n      padding-bottom: 0;  // ğŸ”¥ ä¿®æ”¹ï¼šç§»é™¤åº•éƒ¨å†…è¾¹è·\n      \n      .message-avatar {\n        width: 64rpx;\n        height: 64rpx;\n        border-radius: 50%;\n        margin-right: 20rpx;\n        flex-shrink: 0;\n      }\n\n      .message-content-wrapper {\n        flex: 1;\n        min-width: 0;\n\n        .message-user-info {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          margin-bottom: 12rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é—´è·ï¼ˆåŸ16rpxï¼‰\n\n          .message-username {\n            font-size: 26rpx;\n            color: #333;\n            font-weight: 600;\n            margin-bottom: 6rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é—´è·ï¼ˆåŸ8rpxï¼‰\n          }\n\n          .message-time {\n            font-size: 22rpx;\n            color: #999;\n          }\n        }\n\n        .message-text {\n          font-size: 26rpx;\n          line-height: 40rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°è¡Œé«˜ï¼ˆåŸ44rpxï¼‰\n          color: #333;\n          word-break: break-word;\n          overflow-wrap: break-word;\n        }\n      }\n\n      .like-btn {\n        position: absolute;\n        right: 47rpx;\n        top: 0;\n        padding: 8rpx;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        min-width: 40rpx;\n\n        .like-count {\n          font-size: 20rpx;\n          color: #666;\n          margin-top: 2rpx;\n        }\n      }\n    }\n\n    // å›å¤åŒºåŸŸæ ·å¼\n    .replies-section-in-panel {\n      margin-top: 16rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é¡¶éƒ¨é—´è·ï¼ˆåŸ24rpxï¼‰\n      margin-left: 80rpx;\n      margin-right: 40rpx;\n      padding: 16rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°å†…è¾¹è·ï¼ˆåŸ20rpxï¼‰\n      background: #f8f9fa;\n      border-radius: 12rpx;\n\n      .reply-item {\n        display: flex;\n        align-items: flex-start;\n        margin-bottom: 16rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é—´è·ï¼ˆåŸ20rpxï¼‰\n        cursor: pointer;\n        position: relative;\n        padding-right: 60rpx;\n        padding-bottom: 8rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°åº•éƒ¨å†…è¾¹è·ï¼ˆåŸ12rpxï¼‰\n\n        &:last-child {\n          margin-bottom: 0;\n          padding-bottom: 0;\n        }\n\n        .reply-avatar {\n          width: 40rpx;\n          height: 40rpx;\n          border-radius: 50%;\n          margin-right: 16rpx;\n          flex-shrink: 0;\n        }\n\n        .reply-content-wrapper {\n          flex: 1;\n          font-size: 24rpx;\n          line-height: 36rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°è¡Œé«˜ï¼ˆåŸ40rpxï¼‰\n          min-width: 0;\n          word-break: break-word;\n          overflow-wrap: break-word;\n\n          .reply-username {\n            color: #666;\n            font-weight: 600;\n          }\n\n          .reply-text {\n            color: #333;\n          }\n        }\n\n        .reply-like-btn {\n          position: absolute;\n          right: 0;\n          top: 0;\n          padding: 4rpx;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          min-width: 32rpx;\n          flex-shrink: 0;\n\n          .like-count {\n            font-size: 18rpx;\n            color: #666;\n            margin-top: 2rpx;\n          }\n        }\n      }\n\n      .show-more-replies {\n        text-align: center;\n        padding: 12rpx 0;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°å†…è¾¹è·ï¼ˆåŸ16rpxï¼‰\n        margin-top: 8rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é¡¶éƒ¨é—´è·ï¼ˆåŸ12rpxï¼‰\n        font-size: 22rpx;\n        color: #C00000;\n        cursor: pointer;\n      }\n    }\n  }\n}\n\n\n\n    .message-input-box {\n      display: flex;\n      align-items: center;\n      padding: 16rpx 24rpx;\n      border-top: 1rpx solid #f5f5f5;\n      background: #fff;\n  \n      .message-input {\n        flex: 1;\n        height: 56rpx;\n        background: #f8f9fa;\n        border-radius: 28rpx;\n        padding: 0 20rpx;\n        font-size: 26rpx;\n        margin-right: 12rpx;\n        border: 1rpx solid #e9ecef;\n      }\n  \n      .send-btn {\n        padding: 12rpx 20rpx;\n        background: #e9ecef;\n        color: #999;\n        border-radius: 20rpx;\n        font-size: 26rpx;\n        transition: all 0.3s;\n        flex-shrink: 0;\n  \n        &.active {\n          background: #C00000;\n          color: #fff;\n        }\n      }\n    }\n  }\n  \n  // å›å¤å¼¹çª—æ ·å¼\n  .reply-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 1002;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s;\n  \n    &.show {\n      opacity: 1;\n      visibility: visible;\n    }\n  }\n  \n  .reply-panel {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #fff;\n    border-radius: 20rpx 20rpx 0 0;\n    z-index: 1003;\n    display: flex;\n    flex-direction: column;\n    transform: translateY(100%);\n    transition: transform 0.3s;\n    max-height: 60vh;\n  \n    &.show {\n      transform: translateY(0);\n    }\n  \n    .reply-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 24rpx;\n      border-bottom: 1rpx solid #f5f5f5;\n  \n      .reply-title {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n      }\n    }\n  \n    .reply-input-box {\n      padding: 24rpx;\n  \n      .reply-textarea {\n        width: 100%;\n        min-height: 120rpx;\n        max-height: 200rpx;\n        background: #f8f9fa;\n        border-radius: 12rpx;\n        padding: 16rpx;\n        font-size: 26rpx;\n        line-height: 1.5;\n        border: 1rpx solid #e9ecef;\n        margin-bottom: 16rpx;\n        resize: none;\n        box-sizing: border-box;\n      }\n  \n      .reply-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n  \n        .char-count {\n          font-size: 22rpx;\n          color: #999;\n        }\n  \n        .send-btn {\n          padding: 12rpx 24rpx;\n          background: #e9ecef;\n          color: #999;\n          border-radius: 20rpx;\n          font-size: 26rpx;\n          transition: all 0.3s;\n          flex-shrink: 0;\n  \n          &.active {\n            background: #C00000;\n            color: #fff;\n          }\n        }\n      }\n    }\n  }\n  \n  // ğŸ”¥ å¿«é€Ÿç•™è¨€å¼¹çª—æ ·å¼\n  .quick-reply-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 1004;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s;\n  \n    &.show {\n      opacity: 1;\n      visibility: visible;\n    }\n  }\n  \n  .quick-reply-panel {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #fff;\n    border-radius: 20rpx 20rpx 0 0;\n    z-index: 1005;\n    display: flex;\n    flex-direction: column;\n    transform: translateY(100%);\n    transition: transform 0.3s;\n    max-height: 60vh;\n    box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.1);\n  \n    &.show {\n      transform: translateY(0);\n    }\n  \n    .quick-reply-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 24rpx;\n      border-bottom: 1rpx solid #f5f5f5;\n  \n      .quick-reply-title {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n      }\n    }\n  \n    .quick-reply-input-box {\n      padding: 24rpx;\n  \n      .quick-reply-textarea {\n        width: 100%;\n        min-height: 120rpx;\n        max-height: 300rpx;\n        background: #f8f9fa;\n        border-radius: 12rpx;\n        padding: 16rpx;\n        font-size: 26rpx;\n        line-height: 1.5;\n        border: 1rpx solid #e9ecef;\n        margin-bottom: 16rpx;\n        resize: none;\n        box-sizing: border-box;\n      }\n  \n      .quick-reply-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n  \n        .char-count {\n          font-size: 22rpx;\n          color: #999;\n        }\n  \n        .send-btn {\n          padding: 12rpx 24rpx;\n          background: #e9ecef;\n          color: #999;\n          border-radius: 20rpx;\n          font-size: 26rpx;\n          transition: all 0.3s;\n          flex-shrink: 0;\n  \n          &.active {\n            background: #C00000;\n            color: #fff;\n          }\n        }\n      }\n    }\n  }\n  \n  // ğŸ”¥ è¡¨æƒ…é€‰æ‹©å™¨æ ·å¼\n  .emoji-picker-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 2000;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s;\n  \n    &.show {\n      opacity: 1;\n      visibility: visible;\n    }\n  }\n  \n  .emoji-picker-panel {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 480rpx;\n    background: #fff;\n    border-radius: 20rpx 20rpx 0 0;\n    z-index: 2001;\n    display: flex;\n    flex-direction: column;\n    transform: translateY(100%);\n    transition: transform 0.3s;\n    box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.1);\n  \n    &.show {\n      transform: translateY(0);\n    }\n  \n    .emoji-picker-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 20rpx 24rpx;\n      border-bottom: 1rpx solid #f5f5f5;\n      flex-shrink: 0;\n  \n      .emoji-picker-title {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n      }\n    }\n  \n    .emoji-grid-container {\n      flex: 1;\n      overflow-y: auto;\n    }\n  \n    .emoji-grid {\n      display: flex;\n      flex-wrap: wrap;\n      padding: 16rpx;\n  \n      .emoji-item {\n        width: 20%;\n        padding: 16rpx;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n  \n        &:active {\n          background: #f5f5f5;\n          border-radius: 8rpx;\n        }\n  \n        .emoji-icon {\n          width: 60rpx;\n          height: 60rpx;\n        }\n      }\n    }\n  }\n  \n  // ğŸ”¥ è¡¨æƒ…æŒ‰é’®æ ·å¼\n  .emoji-btn {\n    padding: 8rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    \n    &:active {\n      opacity: 0.6;\n    }\n  }\n  \n  .emoji-btn-inline {\n    padding: 8rpx 12rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    \n    &:active {\n      opacity: 0.6;\n    }\n  }\n  \n  // ğŸ”¥ ç•™è¨€ä¸­çš„è¡¨æƒ…å›¾ç‰‡æ ·å¼\n  // âœ… æ­£ç¡®çš„å†™æ³•\n  .comment-content,\n  .message-text,\n  .reply-content-wrapper {\n    ::v-deep .emoji-image {\n      width: 40rpx !important;\n      height: 40rpx !important;\n      vertical-align: middle;\n      display: inline-block;\n      margin: 0 4rpx;\n    }\n  }\n  \n  // ä¿®æ”¹è¾“å…¥æ¡†åº•éƒ¨æŒ‰é’®å¸ƒå±€\n  .quick-reply-actions,\n  .reply-actions {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 8rpx;\n  }\n  \n  .message-input-box {\n    display: flex;\n    align-items: center;\n    padding: 16rpx 24rpx;\n    border-top: 1rpx solid #f5f5f5;\n    background: #fff;\n    gap: 8rpx;\n  \n    .message-input {\n      flex: 1;\n      height: 56rpx;\n      background: #f8f9fa;\n      border-radius: 28rpx;\n      padding: 0 20rpx;\n      font-size: 26rpx;\n      border: 1rpx solid #e9ecef;\n    }\n  \n    .emoji-btn-inline {\n      flex-shrink: 0;\n    }\n  \n    .send-btn {\n      padding: 12rpx 20rpx;\n      background: #e9ecef;\n      color: #999;\n      border-radius: 20rpx;\n      font-size: 26rpx;\n      transition: all 0.3s;\n      flex-shrink: 0;\n  \n      &.active {\n        background: #C00000;\n        color: #fff;\n      }\n    }\n  }\n  /* é®ç½©å±‚ */\n  .buy-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 998;\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.3s ease;\n    \n    &.show {\n      opacity: 1;\n      visibility: visible;\n    }\n  }\n  \n  /* å¼¹çª—ä¸»ä½“ */\n  .buy-panel {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 80vh;\n    background-color: #fff;\n    border-radius: 24rpx 24rpx 0 0;\n    z-index: 999;\n    transform: translateY(100%);\n    transition: transform 0.3s ease;\n    display: flex;\n    flex-direction: column;\n    \n    &.show {\n      transform: translateY(0);\n    }\n  }\n  \n  /* å¼¹çª—æ ‡é¢˜æ  */\n  .buy-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 32rpx;\n    border-bottom: 1rpx solid #f0f0f0;\n    flex-shrink: 0;\n    \n    .buy-title {\n      font-size: 36rpx;\n      font-weight: 600;\n      color: #333;\n    }\n  }\n  \n  /* å•†å“ä¿¡æ¯åŒºåŸŸ */\n  .buy-goods-info {\n    display: flex;\n    padding: 32rpx;\n    border-bottom: 1rpx solid #f0f0f0;\n    flex-shrink: 0;\n    \n    .buy-goods-image {\n      width: 160rpx;\n      height: 160rpx;\n      border-radius: 12rpx;\n      margin-right: 24rpx;\n      flex-shrink: 0;\n    }\n    \n    .buy-goods-detail {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      \n      .buy-goods-name {\n        font-size: 28rpx;\n        color: #333;\n        line-height: 1.5;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }\n      \n      .buy-goods-price-row {\n        display: flex;\n        align-items: baseline;\n        \n        .buy-price-symbol {\n          font-size: 28rpx;\n          color: #ff6b6b;\n          font-weight: 600;\n        }\n        \n        .buy-price-value {\n          font-size: 40rpx;\n          color: #ff6b6b;\n          font-weight: 700;\n        }\n      }\n    }\n  }\n  \n  /* æ”¶è´§åœ°å€åŒºåŸŸ */\n  .buy-address-section {\n    flex: 1;\n    padding: 32rpx;\n    overflow-y: auto;\n    \n    .buy-section-title {\n      font-size: 28rpx;\n      color: #333;\n      font-weight: 600;\n      margin-bottom: 20rpx;\n      \n      .required-mark {\n        color: #ff6b6b;\n        margin-left: 8rpx;\n      }\n    }\n    \n    .buy-address-input {\n      width: 100%;\n      min-height: 160rpx;\n      padding: 20rpx;\n      background-color: #f8f8f8;\n      border-radius: 12rpx;\n      font-size: 28rpx;\n      color: #333;\n      line-height: 1.6;\n      box-sizing: border-box;\n    }\n    \n    .address-char-count {\n      text-align: right;\n      font-size: 24rpx;\n      color: #999;\n      margin-top: 12rpx;\n    }\n    \n    /* é»˜è®¤åœ°å€å¤é€‰æ¡† */\n    .default-address-checkbox {\n      margin-top: 32rpx;\n      \n      .checkbox-wrapper {\n        display: flex;\n        align-items: center;\n        \n        .checkbox {\n          width: 40rpx;\n          height: 40rpx;\n          border: 2rpx solid #ddd;\n          border-radius: 8rpx;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: 16rpx;\n          transition: all 0.2s;\n          \n          &.checked {\n            background-color: #07c160;\n            border-color: #07c160;\n            \n            .checkbox-icon {\n              color: #fff;\n              font-size: 28rpx;\n              font-weight: bold;\n            }\n          }\n        }\n        \n        .checkbox-label {\n          font-size: 28rpx;\n          color: #666;\n        }\n      }\n    }\n  }\n  \n  /* è´­ä¹°æŒ‰é’®åŒºåŸŸ */\n  .buy-action-section {\n    padding: 24rpx 32rpx;\n    padding-bottom: calc(24rpx + env(safe-area-inset-bottom));\n    border-top: 1rpx solid #f0f0f0;\n    flex-shrink: 0;\n    \n    .confirm-buy-btn {\n      width: 100%;\n      height: 88rpx;\n      background: linear-gradient(135deg, #ffb3b3 0%, #ff6b6b 100%);\n      border-radius: 44rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      opacity: 0.5;\n      transition: all 0.3s;\n      \n      &.active {\n        opacity: 1;\n        box-shadow: 0 8rpx 24rpx rgba(255, 107, 107, 0.3);\n      }\n      \n      text {\n        font-size: 32rpx;\n        color: #fff;\n        font-weight: 600;\n      }\n    }\n  }\n  \n\n  \n  </style>","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1763788759330\n      var cssReload = require(\"D:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}