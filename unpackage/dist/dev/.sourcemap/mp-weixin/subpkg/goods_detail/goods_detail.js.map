{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?a262","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?d160","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?582c","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?d0a7","uni-app:///subpkg/goods_detail/goods_detail.vue","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?6f0a","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/goods_detail/goods_detail.vue?4f55"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","goods_info","addstr","publisher_info","isFollowing","isCollected","searchHeight","bottomBarHeight","reviews","userAvatar","username","time","content","comments","queryObj","query","cid","pagenum","pagesize","goodsList","total","isloading","goods_id","showMessagePanel","newComment","scrollIntoView","viewCount","showReplyPanel","newReply","replyToUser","replyToCommentIndex","replyToComment","quickComment","goodsCategories","id","url","code","onLoad","comment","isLiked","showAllReplies","displayReplies","uni","res","console","methods","showPostMenu","itemList","success","reportUser","title","editable","placeholderText","reason","icon","reportData","reporter_openid","reported_openid","post_id","apiRes","onShareAppMessage","path","imageUrl","showEmojiSelector","closeEmojiPicker","selectEmoji","parseEmoji","result","onScroll","showQuickReply","closeQuickReply","onSwiperChange","getCategoryIcon","ShowBuyPanel","duration","closeBuyPanel","loadDefaultAddress","defaultAddr","saveDefaultAddress","confirmPurchase","address","orderInfo","order_price","consignee_addr","goods","openid","orderNumber","order_number","res2","payInfo","err","succ","res3","payOrder","showReplyInput","closeReply","sendReply","currentTimestamp","targetCommentId","newReplyObj","reply_id","user_openid","nickname","avatarUrl","created_at","targetComment","comment_id","toggleShowAllReplies","gotoPublisherProfile","payload","gotoProfile","user_info","getIfFollowed","publisher_id","getIfCollected","getGoodsDetail","split","filter","getGoodsList","cb","saveHistory","requestBody","getPublisher","req","gotoDetail","preview","current","urls","gotoSearch","toggleFollow","url1","toggleLike","openMessage","closeMessage","toggleCollect","buyNow","startChat","sendComment","newCommentObj","like_count","replies","queryObj1","res1","showViewCount","manageGoods","editGoods","description","price","images","offlineGoods","setTimeout","delta","reofflineGoods","picsBigList","publisherNickname","coverImage","deleteGoods","viewGoodsData","showCancel","RelativeTime","sendQuickComment","computed","leftColumn","rightColumn","displayedComments","onReachBottom","onPullDownRefresh"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACyJ;AACzJ,gBAAgB,mKAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAAujB,CAAgB,okBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;ACuhB3kB;AAAA;AAAA;AACA;AAAA,eAEA;EACA;EACA;EACA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,EACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAAA,yDACA,2DACA,qDACA,wDACA,wDACA,8DACA,+DAEA,4DACA,0DACA,6DACA,2DACA,6DAEA,gEACA,sDACA,CACA;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA,uDAEA,+DACA,yDACA,8DACA;EAGA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cAAA;cAAA,OACA;YAAA;cACA;cACA;;cAEA;cACA;cACA;gBAAA,uCACAC;kBACAC;kBACAC;kBACAC;gBAAA;cAAA,CACA;cAAA,KAEA;gBAAA;gBAAA;cAAA;cACAL;cACAtB;gBAAAsB;cAAA;cAAA;cAAA,OACAM;YAAA;cAAA;cAAAC;cACA;gBACAC;gBACA;cACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA;EACAC,yCACA;IAEA;IACAC;MAAA;MACAJ;QACAK;QACAC;UACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;QACAP;UACAP;QACA;QACA;MACA;;MAEA;MACAO;QACAQ;QACAC;QAAA;QACAC;QACAJ;UAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA,KAEAL;sBAAA;sBAAA;oBAAA;oBACAU;oBAEA;oBAAA,IACAA;sBAAA;sBAAA;oBAAA;oBACAX;sBACAQ;sBACAI;oBACA;oBAAA;kBAAA;oBAIA;oBACAC;sBACAC;sBAAA;sBACAC;sBAAA;sBACAC;sBACApC;sBAAA;sBACA+B;oBACA;;oBAEAT;oBAAA;oBAAA;oBAAA,OAIAF;kBAAA;oBAAA;oBAAAiB;oBAAA,MAGAA;sBAAA;sBAAA;oBAAA;oBACAjB;sBACAQ;sBACAI;oBACA;oBAAA;oBAAA;kBAAA;oBAAA,MAGA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;oBAGAV;oBACAF;sBACAQ;sBACAI;oBACA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAGA;UAAA;YAAA;UAAA;UAAA;QAAA;MACA;IACA;IAEA;IACAM;MACA;QACAlB;UACAP;QACA;QACA;MACA;MAEA;QACAe;QACAW;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;;MAGA;MACA;IACA;IAEA;IACAC;MACA;MAEA;;MAEA;MACA;QACA;QACAC;MACA;MAEA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;QACA;QACA;UACA;QACA;MACA;QACA;QACA;MACA;MAEA;IACA;IAEA;IACAC;MACA;QACA3B;UACAP;QACA;QACA;MACA;MAEA;MACA;IACA;IAEA;IACAmC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA/B;UACAP;UACAa;YACAN;cACAQ;cACAI;cACAoB;YACA;UACA;QACA;QACA;MACA;;MAEA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACA;kBACAC;kBACA;oBACA;oBACA;kBACA;gBACA;kBACAjC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAkC;MACA;QACA;UACApC;UACAA;YACAQ;YACAI;YACAoB;UACA;QACA;UACA9B;QACA;MACA;IACA;IAEA;IACAmC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACArC;kBACAP;gBACA;gBAAA;cAAA;gBAGA;gBACA6C;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAtC;kBACAQ;kBACAI;gBACA;gBAAA;cAAA;gBAIA;gBACA;kBACA;gBACA;;gBAEA;gBACA;;gBAEA;gBAAA;gBAEA;gBACA2B;kBACAC;kBACAC;kBAAA;kBACAC;kBACAC;gBACA;gBAAA;gBAAA,OAEA3C;cAAA;gBAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA2C,wCAEA;gBAAA;gBAAA,OACA5C;kBAAA6C;gBAAA;cAAA;gBAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEAC,4BAEA;gBAAA;gBAAA,OACA/C;cAAA;gBAAA;gBAAA;gBAAAgD;gBAAAC;gBAAA,KACAD;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEAhD;kBAAA6C;gBAAA;cAAA;gBAAA;gBAAAK;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEAlD;kBACAQ;kBACAI;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAV;gBACAF;kBACAQ;kBACAI;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAuC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACAZ;kBACA;kBACAC;kBACAC;kBACAC;kBACAC;gBACA,GAEA;gBAAA;gBAAA,OACA3C;cAAA;gBAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBACA2C,wCAEA;gBACA;gBAAA;gBAAA,OACA5C;kBAAA6C;gBAAA;cAAA;gBAAA;gBAAAC;gBAAA,MAEAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACAC,4BAEA;gBACA;gBAAA;gBAAA,OACA/C;cAAA;gBAAA;gBAAA;gBAAAgD;gBAAAC;gBAAA,KAEAD;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA,OAEAhD;kBAAA6C;gBAAA;cAAA;gBAAA;gBAAAK;gBAAA,MAEAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACAlD;kBACAQ;kBACAI;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAwC;MACA;QACApD;UACAP;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACA4D;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACAtD;kBACAP;gBAEA;gBAAA;cAAA;gBAIAvB;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACA8B;kBACAQ;kBACAI;gBACA;gBAAA;cAAA;gBAIA2C,kDAEA;gBACAC,oDAEA;gBACAC;kBACAC;kBACAC;kBACAC;kBACAC;kBACA3F;kBACA4F;gBACA,GAEA;gBACAC;kBAAA;gBAAA;gBAAA,IAEAA;kBAAA;kBAAA;gBAAA;gBACA/D;kBACAQ;kBACAI;gBACA;gBAAA;cAAA;gBAIA;gBACA;kBACAmD;gBACA;gBACAA;;gBAEA;gBACA;kBACAA;gBACA;kBACAA;gBACA;;gBAEA;gBACA;;gBAEA;gBAAA;gBAAA;gBAAA,OAEA/D;kBACAgE;kBAAA;kBACAL;kBACAC;kBACAC;kBACA3F;kBACA4F;kBACAlF;gBACA;cAAA;gBAAA;gBARAqB;gBAUA;kBACAC;kBACAF;oBACAQ;oBACAI;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAV;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA+D;MACA;QACAjE;UACAP;QACA;MACA,OACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;IAEA;IAEAyE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACAlE;oBACAP;kBACA;gBACA,OACA;kBACA0E;kBACAnE;oBACAP;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA2E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACApE;kBACAP;gBACA;gBAAA;gBAAA;cAAA;gBAGArB;kBAAAsB;gBAAA;gBAAA;gBAAA,OACAM;cAAA;gBAAA;gBAAAC;gBACA;kBACAoE;kBACAF;kBACAnE;oBACAP;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACA6E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACAlG;kBAAAsB;kBAAA6E;gBAAA;gBAAA;gBAAA,OACAvE;cAAA;gBAAA;gBAAAC;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACAuE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACApG;kBAAAsB;kBAAAd;gBAAA;gBAAA;gBAAA,OACAoB;cAAA;gBAAA;gBAAAC;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACAwE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAzE;kBAAApB;gBAAA;cAAA;gBAAA;gBAAAqB;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACAC;gBACA;gBACA;kBACA,sDACAwE,WACAC;oBAAA;kBAAA;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBAAA;gBAAA,OACA5E;cAAA;gBAAA;gBAAAC;gBACA;gBACA4E;gBAAA,MACA5E;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA6E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBACAC;kBACArF;kBACAd;gBACA;gBAAA;gBAAA,OACAoB;cAAA;gBAAA;gBAAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACA+E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA9E;gBACA+E;kBAAAtC;gBAAA;gBAAA;gBAAA,OACA3C;cAAA;gBAAA;gBAAAC;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAiF;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAhF;gBAAA;gBAAA,OACAF;kBACApB;kBACA;kBACA+E;gBACA;cAAA;gBAAA;gBAJA1D;gBAMA;kBACAC;gBACA;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;cAAA;gBAEAF;kBACAP;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA0F;MACA;MACAnF;QACAoF;QACAC;UAAA;QAAA;MACA;IACA;IACAC;MACA;QACAtF;UACAP;QACA;QACA;MACA;MACAO;QACAP;MACA;IACA;IACA8F;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACAvF;kBACAP;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAGA;gBACA+F;gBACAnH;kBAAAqB;kBAAA6E;gBAAA;gBAAA;gBAAA,OACAvE;cAAA;gBAAA;gBAAAC;gBACAD;kBACAQ;kBACAI;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACA6E;MACA;QACAzF;UACAP;QACA;MACA,OACA;QACA;MACA;IACA;IACAiG;MACA;QACA1F;UACAP;QACA;MACA,OACA;QACA;MACA;IAEA;IACAkG;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA5F;kBACAP;gBACA;gBAAA;gBAAA;cAAA;gBAGA;gBACAA;gBACArB;kBAAAsB;kBAAAd;gBAAA;gBAAA;gBAAA,OACAoB;cAAA;gBAAA;gBAAAC;gBACAD;kBACAQ;kBACAI;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAiF;MACA;QACA7F;UACAP;QACA;MACA,OACA;QACAO;UACAQ;UACAI;QACA;MACA;IACA;IACAkF;MACA;QACA9F;UACAP;QACA;MACA,OACA;QACA;QACAO;UACAP;QACA;MACA;IACA;IACAsG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA/F;kBACAP;gBACA;gBAAA;gBAAA;cAAA;gBAGAvB;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACA8B;kBACAQ;kBACAI;gBACA;gBAAA;cAAA;gBAGA2C;gBACAyC;kBACAhC;kBACAL;kBACAC;kBACAC;kBACA3F;kBACA4F;kBACAmC;kBACAC;kBACApG;kBACAC;gBACA;gBAEA;gBACA;gBACA;gBAEAC;kBACAQ;kBACAI;gBACA;gBACAxC;kBAAAQ;kBAAAgB;gBAAA;gBAAA;gBAAA,OACAI;cAAA;gBAAA;gBAAAC;gBAEAkG;kBAAAzG;kBAAAd;kBAAAV;gBAAA;gBAAA;gBAAA,OACA8B;cAAA;gBAAA;gBAAAoG;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MACArG;QACAQ;QACAI;QACAoB;MACA;IACA;IACAsE;MAAA;MACA;QACAtG;UACAK;UACAC;YACA;cACA;gBACA;gBACA;cACA;gBACA;gBACA;YAAA;UAEA;QACA;MACA;MAAA;MACA;QACAN;UACAK;UACAC;YACA;cACA;gBACA;gBACA;cACA;gBACA;gBA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","file":"subpkg/goods_detail/goods_detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/goods_detail/goods_detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods_detail.vue?vue&type=template&id=18739e8c&\"\nvar renderjs\nimport script from \"./goods_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./goods_detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods_detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/goods_detail/goods_detail.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=template&id=18739e8c&\"","var components\ntry {\n  components = {\n    mySearch: function () {\n      return import(\n        /* webpackChunkName: \"components/my-search/my-search\" */ \"@/components/my-search/my-search.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. æ’æŸ¥ç»„ä»¶åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®\")\n    console.error(\n      \"2. æ’æŸ¥ç»„ä»¶æ˜¯å¦ç¬¦åˆ easycom è§„èŒƒï¼Œæ–‡æ¡£ï¼šhttps://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. è‹¥ç»„ä»¶ä¸ç¬¦åˆ easycom è§„èŒƒï¼Œéœ€æ‰‹åŠ¨å¼•å…¥ï¼Œå¹¶åœ¨ components ä¸­æ³¨å†Œè¯¥ç»„ä»¶\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = (_vm.goods_info.pics && _vm.goods_info.pics.length) || 0\n  var g1 = _vm.comments.length\n  var l1 = _vm.__map(_vm.displayedComments, function (comment, index) {\n    var $orig = _vm.__get_orig(comment)\n    var m0 = _vm.RelativeTime(comment.created_at)\n    var m1 = _vm.parseEmoji(comment.content)\n    var g2 = comment.replies && comment.replies.length > 0\n    var l0 = g2\n      ? _vm.__map(comment.displayReplies, function (reply, rIndex) {\n          var $orig = _vm.__get_orig(reply)\n          var m2 = _vm.parseEmoji(reply.content)\n          return {\n            $orig: $orig,\n            m2: m2,\n          }\n        })\n      : null\n    var g3 = g2 ? comment.replies.length > 1 && !comment.showAllReplies : null\n    var g4 = g2 && g3 ? comment.replies.length : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      g2: g2,\n      l0: l0,\n      g3: g3,\n      g4: g4,\n    }\n  })\n  var g5 = _vm.comments.length\n  var l3 = _vm.__map(_vm.comments, function (comment, index) {\n    var $orig = _vm.__get_orig(comment)\n    var m3 = _vm.RelativeTime(comment.created_at)\n    var m4 = _vm.parseEmoji(comment.content)\n    var g6 = comment.replies && comment.replies.length > 0\n    var l2 = g6\n      ? _vm.__map(comment.displayReplies, function (reply, rIndex) {\n          var $orig = _vm.__get_orig(reply)\n          var m5 = _vm.parseEmoji(reply.content)\n          return {\n            $orig: $orig,\n            m5: m5,\n          }\n        })\n      : null\n    var g7 = g6 ? comment.replies.length > 1 && !comment.showAllReplies : null\n    var g8 = g6 && g7 ? comment.replies.length : null\n    return {\n      $orig: $orig,\n      m3: m3,\n      m4: m4,\n      g6: g6,\n      l2: l2,\n      g7: g7,\n      g8: g8,\n    }\n  })\n  var g9 = _vm.newComment.trim()\n  var g10 = _vm.newReply.length\n  var g11 = _vm.newReply.trim()\n  var g12 = _vm.quickComment.length\n  var g13 = _vm.quickComment.trim()\n  var g14 = _vm.deliveryAddress.length\n  var g15 = _vm.deliveryAddress.trim()\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.setAsDefault = !_vm.setAsDefault\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l1: l1,\n        g5: g5,\n        l3: l3,\n        g9: g9,\n        g10: g10,\n        g11: g11,\n        g12: g12,\n        g13: g13,\n        g14: g14,\n        g15: g15,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=script&lang=js&\"","<template>\n   <view class=\"goods-detail-page\">\r\n      <!-- ğŸ”¥ ä¿®æ”¹æœç´¢æ  - æ·»åŠ éšè—åŠ¨ç”» -->\r\n      <view class=\"search-box\" :class=\"{ 'hide': hideSearchBar }\">\r\n        <view class=\"search-wrapper\">\r\n          <view class=\"search-content\">\r\n            <my-search @click=\"gotoSearch\"></my-search>\r\n          </view>\r\n\t\t  \r\n         <!-- ğŸ”¥ æ–°å¢ï¼šæŒ‰é’®å®¹å™¨ -->\r\n           <view class=\"action-buttons\">\r\n             <button class=\"share-btn\" open-type=\"share\" @click.stop v-if=\"openid\">\r\n               <uni-icons type=\"redo\" size=\"24\" color=\"#333\"></uni-icons>\r\n             </button>\r\n             \r\n             <text\r\n               class=\"more-btn\" \r\n               @click=\"showPostMenu\" \r\n               v-if=\"goods_info.publisher_id !== openid\"\r\n             >â‹®</text>\r\n           </view>\r\n         </view>\r\n      </view>\r\n \n    <scroll-view \r\n          scroll-y \r\n          class=\"scroll-content\" \r\n          :style=\"'height: calc(100vh - ' + (searchHeight + bottomBarHeight) + 'px)'\"\r\n          @scroll=\"onScroll\"\r\n        >\n      <view class=\"content-wrapper\">\n        <!-- å‘å¸ƒè€…ä¿¡æ¯åŒºåŸŸ -->\n        <view class=\"publisher-section\">\n          <image \n            :src=publisher_info.avatarUrl\n            class=\"publisher-avatar\"\n            mode=\"aspectFill\" @click=\"gotoPublisherProfile()\"\n          ></image>\n          <view class=\"publisher-info\">\n            <view class=\"publisher-name-row\">\r\n\t\t\t<view class=\"user-info\">\n              <text class=\"publisher-name\" @click=\"gotoPublisherProfile()\">{{publisher_info.nickname}}</text>\r\n\t\t\t  <view class=\"post-meta\">\r\n\t\t\t  \t<text class=\"post-views\">{{ goods_info.view_count || 0 }}äººæµè§ˆ</text>\r\n\t\t\t  </view>\r\n\t\t\t</view>\n              <!-- ğŸ”¥ æ–°å¢ï¼šè®¤è¯æ ‡è¯† -->\n            </view>\n            <view class=\"publisher-meta\">\n            </view>\n          </view>\n          <!-- å…³æ³¨æŒ‰é’® -->\n          <view :class=\"['follow-btn', isFollowing ? 'following' : '']\" @click=\"toggleFollow\" v-if=\"goods_info.publisher_id !== userBase.openid\">\n            <text>{{ isFollowing ? 'å·²å…³æ³¨' : '+ å…³æ³¨' }}</text>\n          </view>\n        </view>\n\t\t\r\n\t\t<!-- ğŸ”¥ å•†å“åŸºç¡€ä¿¡æ¯å¡ç‰‡ -->\r\n\t\t<view class=\"goods-basic-info\">\r\n\t\t  <!-- å•†å“åç§° -->\r\n\t\t  <view class=\"goods-name-section\">\r\n\t\t    <text class=\"goods-name\">{{ goods_info.goods_name }}</text>\r\n\t\t  </view>\r\n\t\t  \r\n\t\t  <!-- ä»·æ ¼å’Œä½ç½®ä¿¡æ¯è¡Œ -->\r\n\t\t  <view class=\"price-location-row\">\r\n\t\t    <!-- å·¦ä¾§ä»·æ ¼ -->\r\n\t\t    <view class=\"price-container\">\r\n\t\t      <text class=\"price-symbol\">Â¥</text>\r\n\t\t      <text class=\"price-value\">{{ goods_info.goods_price }}</text>\r\n\t\t    </view>\r\n\t\t\t  \r\n\t\t    <!-- å³ä¾§ä½ç½®ä¿¡æ¯ -->\r\n\t\t    <view class=\"location-container\">\r\n\t\t      <text class=\"location-text\">{{ goods_info.location || 'é—µè¡Œ' }}æ ¡åŒº</text>\r\n\t\t    </view>\r\n\t\t  </view>\r\n\t\t  \r\n\t\t\r\n\t\t  <!-- ğŸ”¥ åˆ†ç±»æ ‡ç­¾è¡Œ -->\r\n\t\t</view>\n        \n\n        <!-- å•†å“è½®æ’­å›¾ -->\n        <view class=\"goods-images-section\">\n          <swiper \n            class=\"goods-swiper\"\n            :indicator-dots=\"true\" \n            :autoplay=\"true\" \n            :interval=\"3000\" \n            :duration=\"1000\" \n            :circular=\"true\"\r\n\t\t\t@change=\"onSwiperChange\"\n          >\n            <swiper-item v-for=\"(item, i) in goods_info.pics\" :key=\"i\">\n              <image \n                :src=item.pics_big \n                class=\"swiper-image\"\n                mode=\"aspectFill\"\n                @click=\"preview(i)\"\n              ></image>\n            </swiper-item>\n          </swiper>\n          \n          <!-- å›¾ç‰‡è®¡æ•°å™¨ -->\n          <view class=\"image-counter\">\n            <text>{{ currentImageIndex + 1 }}/{{ (goods_info.pics && goods_info.pics.length) || 0 }}</text>\n          </view>\n        </view>\n\n        <!-- ç•™è¨€åŒºåŸŸ -->\n        <view class=\"comments-section\">\n          <!-- ç•™è¨€æ ‡é¢˜æ  -->\n          <view class=\"section-header\">\n            <view class=\"section-title-wrapper\">\n              <text class=\"section-title\">ç•™è¨€ {{ comments.length }}</text>\n            </view>\n            <view class=\"more-btn\" @click=\"openMessage\">\n              <text class=\"more-text\">æŸ¥çœ‹å…¨éƒ¨</text>\n              <uni-icons type=\"arrowright\" color=\"#999\" size=\"16\"></uni-icons>\n            </view>\n          </view>\n        \n          <!-- å¿«é€Ÿç•™è¨€è¾“å…¥æ¡† - ä¿®æ”¹ç‚¹å‡»äº‹ä»¶ -->\r\n          <view class=\"quick-comment-box\" @click=\"showQuickReply\">\r\n            <image \r\n              :src=\"userBase.avatarUrl || '/images/1.jpg'\" \r\n              class=\"quick-comment-avatar\" \r\n              mode=\"aspectFill\"\r\n            ></image>\r\n            <view class=\"quick-comment-input-placeholder\">\r\n              <text>è¯´ç‚¹ä»€ä¹ˆ...</text>\r\n            </view>\r\n          </view>\n        \n          <!-- ç•™è¨€åˆ—è¡¨ -->\n          <view class=\"comment-item\" v-for=\"(comment, index) in displayedComments\" :key=\"index\">\n            <!-- ç‚¹å‡»æ•´ä¸ªç•™è¨€åŒºåŸŸå¯ä»¥å›å¤ -->\n            <view class=\"comment-main-content\" @click=\"showReplyInput(index, comment)\">\n              <view class=\"comment-header\">\n                <image :src=\"comment.avatarUrl\" class=\"comment-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(comment.user_openid)\"></image>\n                <view class=\"comment-user-info\">\n                  <text class=\"comment-username\">{{ comment.nickname }}</text>\n                  <text class=\"comment-time\">{{ RelativeTime(comment.created_at) }}</text>\n                </view>\n              </view>\n              <!-- ğŸ”¥ æ”¹ä¸ºæ”¯æŒè¡¨æƒ…çš„å¯Œæ–‡æœ¬æ˜¾ç¤º -->\r\n              <view class=\"comment-content\">\r\n                <rich-text :nodes=\"parseEmoji(comment.content)\"></rich-text>\r\n              </view>\n            </view>\n            \n            <!-- å›å¤åˆ—è¡¨ -->\n            <view class=\"replies-section\" v-if=\"comment.replies && comment.replies.length > 0\">\n              <view \n                class=\"reply-item\" \n                v-for=\"(reply, rIndex) in comment.displayReplies\" \n                :key=\"rIndex\"\n              >\n                <image :src=\"reply.avatarUrl\" class=\"reply-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(reply.user_openid)\"></image>\n                <!-- ğŸ”¥ æ”¹ä¸ºæ”¯æŒè¡¨æƒ… -->\r\n                <view class=\"reply-content-wrapper\">\r\n                  <text class=\"reply-username\">{{ reply.nickname }}ï¼š</text>\r\n                  <rich-text :nodes=\"parseEmoji(reply.content)\"></rich-text>\r\n                </view>\n              </view>\n              \n              <view class=\"show-more-replies\" v-if=\"comment.replies.length > 1 && !comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n                <text>æŸ¥çœ‹{{ comment.replies.length }}æ¡å›å¤</text>\n                <text class=\"iconfont icon-arrow-down\"></text>\n              </view>\n              \n              <view class=\"show-more-replies\" v-if=\"comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n                <text>æ”¶èµ·å›å¤</text>\n                <text class=\"iconfont icon-arrow-up\"></text>\n              </view>\n            </view>\n          </view>\n        </view>\n\n      </view>\n    \n  </scroll-view>\n    <!-- åº•éƒ¨æ“ä½œæ  - å…¶ä»–ç”¨æˆ·æŸ¥çœ‹ -->\n    <view class=\"bottom-bar\" v-if=\"goods_info.publisher_id !== userBase.openid\">\n      <view class=\"bar-item\" @click=\"openMessage\">\n        <uni-icons type=\"chatbubble\" size=\"30\" color=\"#666\"></uni-icons>\n      </view>\r\n\t  <text class=\"bar-text\" @click=\"openMessage\">ç•™è¨€</text>\n      <view class=\"bar-item\" @click=\"toggleCollect\">\n        <uni-icons :type=\"isCollected ? 'star-filled' : 'star'\" size=\"30\" :color=\"isCollected ? '#ffd700' : '#666'\"></uni-icons>\n      </view>\r\n\t  <text class=\"bar-text\"  @click=\"toggleCollect\">{{ isCollected ? 'å·²æ”¶è—' : 'æ”¶è—' }}</text>\n      <view class=\"bar-btn chat-btn\" @click=\"startChat\">\n        <text>è”ç³»å–å®¶</text>\n      </view>\n    </view>\n\n    <!-- åº•éƒ¨æ“ä½œæ  - è‡ªå·±çš„å•†å“ -->\n    <view class=\"bottom-bar\" v-else>\n      <view class=\"bar-item\" @click=\"openMessage\">\n        <uni-icons type=\"chatbubble\" size=\"30\" color=\"#666\"></uni-icons>\n      </view>\r\n\t  <text class=\"bar-text\" @click=\"openMessage\">ç•™è¨€</text>\n      <view class=\"bar-item\" @click=\"toggleCollect\">\n        <uni-icons :type=\"isCollected ? 'star-filled' : 'star'\" size=\"30\" :color=\"isCollected ? '#ffd700' : '#666'\"></uni-icons>\n      </view>\r\n\t  <text class=\"bar-text\" @click=\"toggleCollect\">{{ isCollected ? 'å·²æ”¶è—' : 'æ”¶è—' }}</text>\n      <view class=\"bar-btn manage-btn\" @click=\"manageGoods\">\n        <text>ç®¡ç†å•†å“</text>\n      </view>\n    </view>\n\n    <!-- ç•™è¨€å¼¹çª—é®ç½©å±‚ -->\n    <view \n      class=\"message-overlay\" \n      :class=\"{ 'show': showMessagePanel }\"\n      @click=\"closeMessage\"\n    ></view>\n\n    <!-- ç•™è¨€å¼¹çª— -->\n    <view \n      class=\"message-panel\" \n      :class=\"{ 'show': showMessagePanel }\"\n      @click.stop\n    >\n      <!-- ç•™è¨€æ ‡é¢˜æ  - å±…ä¸­æ˜¾ç¤º -->\n      <view class=\"message-header\">\n        <view class=\"message-title-wrapper\">\n          <text class=\"message-title\">å…¨éƒ¨ç•™è¨€</text>\n          <text class=\"message-count\">({{ comments.length }})</text>\n        </view>\n        <view @click=\"closeMessage\">\n          <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n        </view>\n      </view>\n\n      <!-- ç•™è¨€åˆ—è¡¨ -->\n      <scroll-view scroll-y class=\"message-list\" :scroll-into-view=\"scrollIntoView\">\n        <view class=\"message-item\" v-for=\"(comment, index) in comments\" :key=\"index\" :id=\"'msg-' + index\">\n          <!-- ä¿®æ”¹ï¼šç‚¹å‡»æ•´ä¸ªç•™è¨€åŒºåŸŸå¯ä»¥å›å¤ -->\n          <view class=\"message-main-content\" @click=\"showReplyInput(index, comment)\">\n            <image :src=\"comment.avatarUrl\" class=\"message-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(comment.user_openid)\"></image>\n            <view class=\"message-content-wrapper\">\n              <view class=\"message-user-info\">\n                <text class=\"message-username\">{{ comment.nickname }}</text>\n                <text class=\"message-time\">{{ RelativeTime(comment.created_at) }}</text>\n              </view>\n              <!-- ğŸ”¥ æ”¹ä¸ºæ”¯æŒè¡¨æƒ… -->\r\n              <view class=\"message-text\">\r\n                <rich-text :nodes=\"parseEmoji(comment.content)\"></rich-text>\r\n              </view>\n            </view>\n            <!-- ç‚¹èµæŒ‰é’® -->\n            <!-- <view class=\"like-btn\" @click.stop=\"toggleCommentLike(comment, index)\">\n              <uni-icons \n                :type=\"comment.isLiked ? 'heart-filled' : 'heart'\" \n                size=\"18\" \n                :color=\"comment.isLiked ? '#ff6b6b' : '#999'\"\n              ></uni-icons>\n              <text class=\"like-count\" v-if=\"comment.likeCount > 0\">{{ comment.likeCount }}</text>\n            </view> -->\n          </view>\n          \n          <!-- å›å¤åˆ—è¡¨ -->\n          <view class=\"replies-section-in-panel\" v-if=\"comment.replies && comment.replies.length > 0\">\n            <view \n              class=\"reply-item\" \n              v-for=\"(reply, rIndex) in comment.displayReplies\" \n              :key=\"rIndex\"\n              @click=\"showReplyToReply(reply, comment)\"\n            >\n              <image :src=\"reply.avatarUrl\" class=\"reply-avatar\" mode=\"aspectFill\" @click.stop=\"gotoProfile(reply.user_openid)\"></image>\n              <view class=\"reply-content-wrapper\">\r\n                <text class=\"reply-username\">{{ reply.nickname }}ï¼š</text>\r\n                <rich-text :nodes=\"parseEmoji(reply.content)\"></rich-text>\r\n              </view>\n              <!-- å›å¤çš„ç‚¹èµæŒ‰é’® -->\n              <!-- <view class=\"reply-like-btn\" @click.stop=\"toggleReplyLike(reply, index, rIndex)\">\n                <uni-icons \n                  :type=\"reply.isLiked ? 'heart-filled' : 'heart'\" \n                  size=\"16\" \n                  :color=\"reply.isLiked ? '#ff6b6b' : '#999'\"\n                ></uni-icons>\n                <text class=\"like-count\" v-if=\"reply.likeCount > 0\">{{ reply.likeCount }}</text>\n              </view> -->\n            </view>\n            \n            <view class=\"show-more-replies\" v-if=\"comment.replies.length > 1 && !comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n              <text>æŸ¥çœ‹{{ comment.replies.length }}æ¡å›å¤</text>\n            </view>\n            \n            <view class=\"show-more-replies\" v-if=\"comment.showAllReplies\" @click.stop=\"toggleShowAllReplies(index)\">\n              <text>æ”¶èµ·å›å¤</text>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n\n      <!-- ç•™è¨€è¾“å…¥æ¡† -->\n      <view class=\"message-input-box\">\r\n        <input \r\n          class=\"message-input\"\r\n          v-model=\"newComment\"\r\n          placeholder=\"è¯´ç‚¹ä»€ä¹ˆ...\"\r\n          :adjust-position=\"true\"\r\n          @confirm=\"sendComment\"\r\n        />\r\n        <!-- ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…æŒ‰é’® -->\r\n        <view class=\"emoji-btn-inline\" @click=\"showEmojiSelector('message')\">\r\n          <text>{{ showEmojiSelector ? 'âŒ¨ï¸' : 'ğŸ˜Š' }}</text>\r\n        </view>\r\n        <view \r\n          class=\"send-btn\" \r\n          :class=\"{ 'active': newComment.trim() }\"\r\n          @click=\"sendComment\"\r\n        >\r\n          <text>å‘é€</text>\r\n        </view>\r\n      </view>\n    </view>\n\n    <!-- å›å¤è¾“å…¥æ¡†é®ç½©å±‚ -->\n    <view \n      class=\"reply-overlay\" \n      :class=\"{ 'show': showReplyPanel }\"\n      @click=\"closeReply\"\n    ></view>\n\n    <!-- å›å¤è¾“å…¥æ¡†å¼¹çª— -->\n    <view \n      class=\"reply-panel\" \n      :class=\"{ 'show': showReplyPanel }\"\n      @click.stop\n    >\n      <view class=\"reply-header\">\n        <text class=\"reply-title\">å›å¤ {{ replyToUser }}</text>\n        <view @click=\"closeReply\">\n          <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\n        </view>\n      </view>\n      \n      <view class=\"reply-input-box\">\r\n        <textarea \r\n          class=\"reply-textarea\"\r\n          v-model=\"newReply\"\r\n          :placeholder=\"'å›å¤ ' + replyToUser + '...'\"\r\n          :adjust-position=\"true\"\r\n          :focus=\"showReplyPanel\"\r\n          auto-height\r\n          maxlength=\"500\"\r\n          @confirm=\"sendReply\"\r\n        ></textarea>\r\n        <view class=\"reply-actions\">\r\n          <!-- ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…æŒ‰é’® -->\r\n          <view class=\"emoji-btn\" @click=\"showEmojiSelector('reply')\">\r\n\t\t\t  <text>{{ showEmojiSelector ? 'âŒ¨ï¸' : 'ğŸ˜Š' }}</text>\r\n            <!-- <uni-icons type=\"emotion\" size=\"24\" color=\"#666\"></uni-icons> -->\r\n          </view>\r\n          <view class=\"char-count\">{{ newReply.length }}/500</view>\r\n          <view \r\n            class=\"send-btn\" \r\n            :class=\"{ 'active': newReply.trim() }\"\r\n            @click=\"sendReply\"\r\n          >\r\n            <text>å‘é€</text>\r\n          </view>\r\n        </view>\r\n      </view>\n    </view>\r\n\t\r\n\t<!-- ğŸ”¥ æ–°å¢:å¿«é€Ÿç•™è¨€å¼¹çª— -->\r\n\t<view \r\n\t  class=\"quick-reply-overlay\" \r\n\t  :class=\"{ 'show': showQuickReplyPanel }\"\r\n\t  @click=\"closeQuickReply\"\r\n\t></view>\r\n\t\r\n\t<view \r\n\t  class=\"quick-reply-panel\" \r\n\t  :class=\"{ 'show': showQuickReplyPanel }\"\r\n\t  @click.stop\r\n\t>\r\n\t  <view class=\"quick-reply-header\">\r\n\t    <text class=\"quick-reply-title\">å‘è¡¨ç•™è¨€</text>\r\n\t    <view @click=\"closeQuickReply\">\r\n\t      <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\r\n\t    </view>\r\n\t  </view>\r\n\t  \r\n\t  <view class=\"quick-reply-input-box\">\r\n\t    <textarea \r\n\t      class=\"quick-reply-textarea\"\r\n\t      v-model=\"quickComment\"\r\n\t      placeholder=\"è¯´ç‚¹ä»€ä¹ˆ...\"\r\n\t      :adjust-position=\"true\"\r\n\t      :focus=\"showQuickReplyPanel\"\r\n\t      auto-height\r\n\t      maxlength=\"500\"\r\n\t      @confirm=\"sendQuickComment\"\r\n\t    ></textarea>\r\n\t    <view class=\"quick-reply-actions\">\r\n\t      <!-- ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…æŒ‰é’® -->\r\n\t      <view class=\"emoji-btn\" @click=\"showEmojiSelector('quick')\">\r\n\t\t\t  <text>{{ showEmojiSelector ? 'âŒ¨ï¸' : 'ğŸ˜Š' }}</text>\r\n\t        <!-- <uni-icons type=\"emotion\" size=\"24\" color=\"#666\"></uni-icons> -->\r\n\t      </view>\r\n\t      <view class=\"char-count\">{{ quickComment.length }}/500</view>\r\n\t      <view \r\n\t        class=\"send-btn\" \r\n\t        :class=\"{ 'active': quickComment.trim() }\"\r\n\t        @click=\"sendQuickComment\"\r\n\t      >\r\n\t        <text>å‘é€</text>\r\n\t      </view>\r\n\t    </view>\r\n\t  </view>\r\n\t</view>\r\n\t<!-- ğŸ”¥ è¡¨æƒ…é€‰æ‹©å™¨é®ç½©å±‚ -->\r\n\t<view \r\n\t  class=\"emoji-picker-overlay\" \r\n\t  :class=\"{ 'show': showEmojiPicker }\"\r\n\t  @click=\"closeEmojiPicker\"\r\n\t></view>\r\n\t\r\n\t<!-- ğŸ”¥ è¡¨æƒ…é€‰æ‹©å™¨å¼¹çª— -->\r\n\t<view \r\n\t  class=\"emoji-picker-panel\" \r\n\t  :class=\"{ 'show': showEmojiPicker }\"\r\n\t  @click.stop\r\n\t>\r\n\t  <view class=\"emoji-picker-header\">\r\n\t    <text class=\"emoji-picker-title\">é€‰æ‹©è¡¨æƒ…</text>\r\n\t    <view @click=\"closeEmojiPicker\">\r\n\t      <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\r\n\t    </view>\r\n\t  </view>\r\n\t  \r\n\t  <scroll-view scroll-y class=\"emoji-grid-container\">\r\n\t    <view class=\"emoji-grid\">\r\n\t      <view \r\n\t        class=\"emoji-item\" \r\n\t        v-for=\"emoji in emojiList\" \r\n\t        :key=\"emoji.id\"\r\n\t        @click=\"selectEmoji(emoji)\"\r\n\t      >\r\n\t        <image \r\n\t          :src=\"emoji.url\" \r\n\t          class=\"emoji-icon\" \r\n\t          mode=\"aspectFit\"\r\n\t        ></image>\r\n\t      </view>\r\n\t    </view>\r\n\t  </scroll-view>\r\n\t</view>\r\n\t\r\n\t<!-- ğŸ”¥ æ–°å¢ï¼šè´­ä¹°ç¡®è®¤å¼¹çª—é®ç½©å±‚ -->\r\n\t<view \r\n\t  class=\"buy-overlay\" \r\n\t  :class=\"{ 'show': showBuyPanel }\"\r\n\t  @click=\"closeBuyPanel\"\r\n\t></view>\r\n\t\r\n\t<!-- ğŸ”¥ æ–°å¢ï¼šè´­ä¹°ç¡®è®¤å¼¹çª— -->\r\n\t<view \r\n\t  class=\"buy-panel\" \r\n\t  :class=\"{ 'show': showBuyPanel }\"\r\n\t  @click.stop\r\n\t>\r\n\t  <!-- å¼¹çª—æ ‡é¢˜æ  -->\r\n\t  <view class=\"buy-header\">\r\n\t    <text class=\"buy-title\">ç¡®è®¤è´­ä¹°</text>\r\n\t    <view @click=\"closeBuyPanel\">\r\n\t      <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\"></uni-icons>\r\n\t    </view>\r\n\t  </view>\r\n\t\r\n\t  <!-- å•†å“ä¿¡æ¯ -->\r\n\t  <view class=\"buy-goods-info\">\r\n\t    <image \r\n\t      :src=\"goods_info.goods_big_logo\" \r\n\t      class=\"buy-goods-image\" \r\n\t      mode=\"aspectFill\"\r\n\t    ></image>\r\n\t    <view class=\"buy-goods-detail\">\r\n\t      <text class=\"buy-goods-name\">{{ goods_info.goods_name }}</text>\r\n\t      <view class=\"buy-goods-price-row\">\r\n\t        <text class=\"buy-price-symbol\">Â¥</text>\r\n\t        <text class=\"buy-price-value\">{{ goods_info.goods_price }}</text>\r\n\t      </view>\r\n\t    </view>\r\n\t  </view>\r\n\t\r\n\t  <!-- æ”¶è´§åœ°å€è¾“å…¥ -->\r\n\t  <view class=\"buy-address-section\">\r\n\t    <view class=\"buy-section-title\">\r\n\t      <text>æ”¶è´§åœ°å€</text>\r\n\t      <text class=\"required-mark\">*</text>\r\n\t    </view>\r\n\t    <textarea \r\n\t      class=\"buy-address-input\"\r\n\t      v-model=\"deliveryAddress\"\r\n\t      placeholder=\"è¯·è¾“å…¥è¯¦ç»†çš„æ”¶è´§åœ°å€ï¼ˆå¦‚ï¼šxxæ ¡åŒºxxå·æ¥¼xxå®¤ï¼‰\"\r\n\t      :adjust-position=\"true\"\r\n\t      auto-height\r\n\t      maxlength=\"200\"\r\n\t    ></textarea>\r\n\t    <view class=\"address-char-count\">{{ deliveryAddress.length }}/200</view>\r\n\t    \r\n\t    <!-- è®¾ä¸ºé»˜è®¤åœ°å€ -->\r\n\t    <view class=\"default-address-checkbox\" @click=\"setAsDefault = !setAsDefault\">\r\n\t      <view class=\"checkbox-wrapper\">\r\n\t        <view class=\"checkbox\" :class=\"{ 'checked': setAsDefault }\">\r\n\t          <text v-if=\"setAsDefault\" class=\"checkbox-icon\">âœ“</text>\r\n\t        </view>\r\n\t        <text class=\"checkbox-label\">è®¾ä¸ºé»˜è®¤åœ°å€</text>\r\n\t      </view>\r\n\t    </view>\r\n\t  </view>\r\n\t\r\n\t  <!-- è´­ä¹°æŒ‰é’® -->\r\n\t  <view class=\"buy-action-section\">\r\n\t    <view \r\n\t      class=\"confirm-buy-btn\" \r\n\t      :class=\"{ 'active': deliveryAddress.trim() }\"\r\n\t      @click=\"confirmPurchase\"\r\n\t    >\r\n\t      <text>ç«‹å³è´­ä¹°</text>\r\n\t    </view>\r\n\t  </view>\r\n\t</view>\n  </view>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\r\n// import uniIcon from '@dcloudio/uni-ui/lib/uni-icon/uni-icon.vue'\n\nexport default {\r\n\t// components: {\r\n\t//     uniIcon\r\n\t//   }\n  data() {\n    return {\n      goods_info: {},\r\n\t  addstr: '22å·å®¿èˆæ¥¼',\n      publisher_info: {},\n      isFollowing: false,\n      isCollected: false,\n      searchHeight: 44,\n      bottomBarHeight: 60,\n      reviews: [\n        {\n          userAvatar: '/images/1.jpg',\n          username: 'æ¥è‡ªä¸­å›½æ¹–åŒ—...',\n          time: '7å¤©å‰',\n          content: 'äº”æ˜Ÿå¥½è¯„ã€‚\\nç‰©ç¾ä»·å»‰'\n        },\n        {\n          userAvatar: '/images/2.jpg',\n          username: 'æ¥è‡ªä¸­å›½å®‰å¾½...',\n          time: '8å¤©å‰',\n          content: 'æ²¡é—®é¢˜ã€‚ğŸ˜ğŸ˜ğŸ˜ğŸ˜'\n        }\n      ],\n      comments: [],\n      queryObj: {\n        query: '',\n        cid: '',\n        pagenum: 1,\n        pagesize: 6\n      },\n      goodsList: [],\n      total: 0,\n      isloading: false,\n      goods_id: 0,\n      showMessagePanel: false,\n      newComment: '',\n      scrollIntoView: '',\n      viewCount: 0,\n      // æ–°å¢ï¼šå›å¤ç›¸å…³æ•°æ®\n      showReplyPanel: false,\n      newReply: '',\n      replyToUser: '',\n      replyToCommentIndex: null,\n      replyToComment: null,\r\n\t  quickComment: '',\r\n\t  goodsCategories: [],\r\n\t  showReplyPanel: false,\r\n\t  replyToUser: '',\r\n\t  newReply: '',\r\n\t  replyTarget: null, // å­˜å‚¨å›å¤ç›®æ ‡ä¿¡æ¯\r\n\t  replyType: '', // 'comment' æˆ– 'reply'\r\n\t  currentImageIndex: 0,\r\n\t  // ğŸ”¥ æ–°å¢:å¿«é€Ÿç•™è¨€ç›¸å…³\r\n\t  showQuickReplyPanel: false,  // æ§åˆ¶å¿«é€Ÿç•™è¨€å¼¹çª—æ˜¾ç¤º\r\n\t  quickComment: '',            // å¿«é€Ÿç•™è¨€å†…å®¹\r\n\t  hideSearchBar: false,      // æ§åˆ¶æœç´¢æ æ˜¾ç¤º/éšè—\r\n\t  lastScrollTop: 0,          // ä¸Šä¸€æ¬¡æ»šåŠ¨çš„ä½ç½®\r\n\t  scrollThreshold: 120,       // æ»šåŠ¨é˜ˆå€¼(åƒç´ )\r\n\t    // ğŸ”¥ æ–°å¢ï¼šè¡¨æƒ…åŒ…ç›¸å…³æ•°æ®\r\n\t      showEmojiPicker: false,  // æ§åˆ¶è¡¨æƒ…é€‰æ‹©å™¨æ˜¾ç¤º\r\n\t      currentInputType: '',    // 'quick' | 'message' | 'reply' - è®°å½•å½“å‰è¾“å…¥æ¡†ç±»å‹\r\n\t      emojiList: [\r\n\t        { id: 1, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-1.png', code: '[å¾®ç¬‘]' },\r\n\t        { id: 2, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-2.png', code: '[å¤§ç¬‘]' },\r\n\t        { id: 3, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-3.png', code: '[ç¬‘å“­]' },\r\n\t        { id: 4, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-4.png', code: '[éš¾è¿‡]' },\r\n\t        { id: 5, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-5.png', code: '[å¤§å“­]' },\r\n\t        { id: 6, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-6.png', code: '[ç–‘é—®]' },\r\n\t        { id: 7, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-7.png', code: '[çˆ±å¿ƒ]' },\r\n\t        { id: 8, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-8.png', code: '[å¾—æ„]' },\r\n\t        { id: 9, url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-9.png', code: '[æƒŠæ]' },\r\n\t      ],\r\n\t\t  // ğŸ”¥ æ–°å¢ï¼šè´­ä¹°ç¡®è®¤å¼¹çª—ç›¸å…³\r\n\t\t      showBuyPanel: false,           // æ§åˆ¶è´­ä¹°å¼¹çª—æ˜¾ç¤º\r\n\t\t      deliveryAddress: '',           // æ”¶è´§åœ°å€\r\n\t\t      setAsDefault: false,           // æ˜¯å¦è®¾ä¸ºé»˜è®¤åœ°å€\r\n\t\t      defaultAddress: '',            // é»˜è®¤åœ°å€\r\n\t  \n    };\n  },\n  async onLoad(options) {\n    this.goods_id = options.goods_id\n    await this.getIfCollected()\n    await this.getGoodsDetail(this.goods_id)\n    await this.getIfFollowed()\n    await this.getPublisher()\n    this.getGoodsList()\n    this.saveHistory()\n    \n    // åˆå§‹åŒ–ç•™è¨€æ•°æ®\n    this.comments = this.goods_info.comment\n    this.comments = this.comments.map(comment => ({\n      ...comment,\n      isLiked: false,\n      showAllReplies: false,\n      displayReplies: comment.replies ? comment.replies.slice(0, 1) : []\n    }));\n    \n    if (this.token) {\n      const code = this.openid\n      const queryObj = {code: code};\n      const { data: res } = await uni.$http.get('/users/userinfo', queryObj);\n      if (res.meta.status === 200) {\n        console.log(res.message)\n        this.updateUserBase(res.message)\n      }\n      this.getGoodsList();\n    }\n  },\n  methods: {\n    ...mapMutations('m_user', ['updateUserInfo', 'updateToken', 'updateUserBase']),\t\r\n\t\r\n\t// æ˜¾ç¤ºå¸–å­èœå•\r\n\tshowPostMenu() {\r\n\t\t\tuni.showActionSheet({\r\n\t\t\t\titemList: ['ä¸¾æŠ¥'],\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\tthis.reportUser()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t},\r\n\t\r\n\t// ä¸¾æŠ¥ç”¨æˆ·\r\n\t\t\treportUser() {\r\n\t\t\t\t// å®‰å…¨æ£€æŸ¥\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t  url: '/pages/my/my',\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// å¼¹å‡ºä¸€ä¸ªå¯ç¼–è¾‘çš„è¾“å…¥æ¡†\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: 'è¯·è¾“å…¥æ‚¨ä¸¾æŠ¥è¯¥ç”¨æˆ·çš„ç†ç”±:',\r\n\t\t\t\t\teditable: true, // æ˜¾ç¤ºè¾“å…¥æ¡†\r\n\t\t\t\t\tplaceholderText: 'ä¾‹å¦‚ï¼šæ¶‰åŠäººèº«æ”»å‡»ã€å¹¿å‘Šç­‰',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\t// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç‚¹å‡»äº†â€œç¡®å®šâ€\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconst reason = res.content.trim() // è·å–è¾“å…¥æ¡†å†…å®¹\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// éªŒè¯ç†ç”±æ˜¯å¦ä¸ºç©º\r\n\t\t\t\t\t\t\tif (!reason) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'ä¸¾æŠ¥ç†ç”±ä¸èƒ½ä¸ºç©º',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\t// å‡†å¤‡æäº¤åˆ°åç«¯çš„æ•°æ®\r\n\t\t\t\t\t\t\tconst reportData = {\r\n\t\t\t\t\t\t\t\treporter_openid: this.openid, // ä¸¾æŠ¥äºº (å½“å‰ç”¨æˆ·)\r\n\t\t\t\t\t\t\t\treported_openid: this.goods_info.publisher_id, // è¢«ä¸¾æŠ¥äºº (å¸–å­ä½œè€…)\r\n\t\t\t\t\t\t\t\tpost_id: 0, \r\n\t\t\t\t\t\t\t\tgoods_id: this.goods_id, // ç›¸å…³å¸–å­ID\r\n\t\t\t\t\t\t\t\treason: reason // ä¸¾æŠ¥ç†ç”±\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconsole.log('æäº¤ä¸¾æŠ¥:', reportData)\r\n\t\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// è°ƒç”¨åç«¯ /users/report æ¥å£\r\n\t\t\t\t\t\t\t\tconst { data: apiRes } = await uni.$http.post('/users/report', reportData)\r\n\t\r\n\t\t\t\t\t\t\t\t// æ ¹æ®åç«¯è¿”å›çš„çŠ¶æ€ç å¤„ç†\r\n\t\t\t\t\t\t\t\tif (apiRes.meta.status === 201) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: 'ä¸¾æŠ¥æˆåŠŸï¼Œæˆ‘ä»¬ä¼šå°½å¿«æ ¸å®',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// æ˜¾ç¤ºåç«¯è¿”å›çš„é”™è¯¯ä¿¡æ¯\r\n\t\t\t\t\t\t\t\t\tthrow new Error(apiRes.meta.msg || 'ä¸¾æŠ¥å¤±è´¥')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('ä¸¾æŠ¥å¤±è´¥:', error)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: error.message || 'ä¸¾æŠ¥æ—¶å‘ç”Ÿé”™è¯¯',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t// ğŸ”¥ æ–°å¢ï¼šåˆ†äº«ç»™å¥½å‹\r\n\t  onShareAppMessage(res) {\r\n\t  if (!this.openid) {\r\n\t    uni.switchTab({\r\n\t      url: '/pages/my/my'\r\n\t    })\r\n\t    return\r\n\t  }\r\n\t\r\n\t    return {\r\n\t      title: this.goods_info.goods_name || 'å‘ç°ä¸€ä¸ªå¥½ç‰©æ¨èç»™ä½ ',\r\n\t      path: `/subpkg/goods_detail/goods_detail?goods_id=${this.goods_id}`,\r\n\t      imageUrl: this.goods_info.goods_big_logo || ''\r\n\t    };\r\n\t  },\r\n\t  \r\n\t// ğŸ”¥ æ–°å¢ï¼šæ˜¾ç¤ºè¡¨æƒ…é€‰æ‹©å™¨\r\n\t  showEmojiSelector(type) {\r\n\t    this.currentInputType = type;\r\n\t    this.showEmojiPicker = true;\r\n\t  },\r\n\t  \r\n\t  // ğŸ”¥ æ–°å¢ï¼šå…³é—­è¡¨æƒ…é€‰æ‹©å™¨\r\n\t  closeEmojiPicker() {\r\n\t    this.showEmojiPicker = false;\r\n\t  },\r\n\t  \r\n\t  // ğŸ”¥ ä¿®æ”¹ï¼šé€‰æ‹©è¡¨æƒ…åè‡ªåŠ¨å…³é—­\r\n\t  selectEmoji(emoji) {\r\n\t    // æ ¹æ®å½“å‰è¾“å…¥æ¡†ç±»å‹æ’å…¥è¡¨æƒ…ä»£ç \r\n\t    switch(this.currentInputType) {\r\n\t      case 'quick':\r\n\t        this.quickComment += emoji.code;\r\n\t        break;\r\n\t      case 'message':\r\n\t        this.newComment += emoji.code;\r\n\t        break;\r\n\t      case 'reply':\r\n\t        this.newReply += emoji.code;\r\n\t        break;\r\n\t    }\r\n\t    \r\n\t    // âœ… é€‰æ‹©åè‡ªåŠ¨å…³é—­è¡¨æƒ…é€‰æ‹©å™¨\r\n\t    this.closeEmojiPicker();\r\n\t  },\r\n\r\n\t\t// ğŸ”¥ æ–°å¢ï¼šè§£æè¡¨æƒ…ä»£ç ä¸ºHTMLï¼ˆç”¨äºæ˜¾ç¤ºï¼‰\r\n\t\t  parseEmoji(content) {\r\n\t\t    if (!content) return '';\r\n\t\t    \r\n\t\t    let result = content;\r\n\t\t    \r\n\t\t    // éå†æ‰€æœ‰è¡¨æƒ…ï¼Œæ›¿æ¢è¡¨æƒ…ä»£ç ä¸ºå›¾ç‰‡æ ‡ç­¾\r\n\t\t    this.emojiList.forEach(emoji => {\r\n\t\t      const regex = new RegExp(emoji.code.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]'), 'g');\r\n\t\t      result = result.replace(regex, `<img src=\"${emoji.url}\" class=\"emoji-image\" />`);\r\n\t\t    });\r\n\t\t    \r\n\t\t    return result;\r\n\t\t  },\r\n\t\t  \r\n\t // ğŸ”¥ æ–°å¢ï¼šç›‘å¬æ»šåŠ¨äº‹ä»¶\r\n\t    onScroll(e) {\r\n\t      const scrollTop = e.detail.scrollTop;\r\n\t      \r\n\t      // åˆ¤æ–­æ˜¯ä¸Šæ»‘è¿˜æ˜¯ä¸‹æ»‘\r\n\t      if (scrollTop > this.lastScrollTop) {\r\n\t        // ä¸Šæ»‘ï¼šéšè—æœç´¢æ \r\n\t        if (scrollTop > this.scrollThreshold) {\r\n\t          this.hideSearchBar = true;\r\n\t        }\r\n\t      } else {\r\n\t        // ä¸‹æ»‘ï¼šæ˜¾ç¤ºæœç´¢æ \r\n\t        this.hideSearchBar = false;\r\n\t      }\r\n\t      \r\n\t      this.lastScrollTop = scrollTop;\r\n\t    },\t  \r\n\t\r\n\t// ğŸ”¥ æ–°å¢:æ˜¾ç¤ºå¿«é€Ÿç•™è¨€è¾“å…¥æ¡†\r\n\t  showQuickReply() {\r\n\t    if (!this.token) {\r\n\t      uni.switchTab({\r\n\t        url: '/pages/my/my',\r\n\t      });\r\n\t      return;\r\n\t    }\r\n\t    \r\n\t    this.showQuickReplyPanel = true;\r\n\t    this.quickComment = '';\r\n\t  },\r\n\t  \r\n\t  // ğŸ”¥ æ–°å¢:å…³é—­å¿«é€Ÿç•™è¨€è¾“å…¥æ¡†\r\n\t  closeQuickReply() {\r\n\t    this.showQuickReplyPanel = false;\r\n\t    this.quickComment = '';\r\n\t  },\r\n\t  \r\n\t// ğŸ”¥ æ–°å¢ï¼šç›‘å¬è½®æ’­å›¾åˆ‡æ¢\r\n\t  onSwiperChange(e) {\r\n\t    this.currentImageIndex = e.detail.current;\r\n\t  },\r\n\t\t\t\t\t  \r\n\t// ğŸ”¥ğŸ”¥ğŸ”¥ æ–°å¢:è·å–åˆ†ç±»å›¾æ ‡ ğŸ”¥ğŸ”¥ğŸ”¥\r\n\t  getCategoryIcon(category) {\r\n\t    const iconMap = {\r\n\t      'æ€æ”¿è¯¾èµ„æ–™': 'ğŸ“–',\r\n\t      'è‹±è¯­èµ„æ–™': 'ğŸ”¤',\r\n\t      'ä½“è‚²è¯¾å™¨æ': 'âš½',\r\n\t      'é€šè¯†è¯¾ç¨‹èµ„æ–™': 'ğŸ“',\r\n\t      'åŸºç¡€è¯¾ç¨‹èµ„æ–™': 'ğŸ“š',\r\n\t      'è€ƒç ”èµ„æ–™': 'ğŸ“',\r\n\t      'æœŸæœ«èµ„æ–™': 'ğŸ“„',\r\n\t\t  'å­¦ä¹ ç”¨ä¹¦': 'ğŸ“„',\r\n\t\t  'å­¦ä¹ å·¥å…·': 'ğŸ“„',\r\n\t\t  'æ—¥ç”¨å“': 'ğŸ“„',\r\n\t\t  'ç©¿æ­': 'ğŸ“„',\r\n\t\t  'å®¶æ•™': 'ğŸ“„',\r\n\t      'å…¶ä»–å¥½ç‰©': 'ğŸ“¦'\r\n\t    }\r\n\t\t return iconMap[category] || 'ğŸ·ï¸'\r\n\t\t},\r\n\t\t\r\n\t\t// ğŸ”¥ ä¿®æ”¹ï¼šæ˜¾ç¤ºè´­ä¹°ç¡®è®¤å¼¹çª—\r\n\t\tShowBuyPanel() {\r\n\t\t  if (!this.openid) {\r\n\t\t    uni.switchTab({\r\n\t\t      url: '/pages/my/my',\r\n\t\t      success: () => {\r\n\t\t        uni.showToast({\r\n\t\t          title: 'è¯·å…ˆç™»å½•',\r\n\t\t          icon: 'none',\r\n\t\t          duration: 2000\r\n\t\t        });\r\n\t\t      }\r\n\t\t    });\r\n\t\t    return;\r\n\t\t  }\r\n\t\t  \r\n\t\t  // åŠ è½½é»˜è®¤åœ°å€\r\n\t\t  this.loadDefaultAddress();\r\n\t\t  this.showBuyPanel = true;\r\n\t\t},\r\n\t\t\r\n\t\t// ğŸ”¥ æ–°å¢ï¼šå…³é—­è´­ä¹°å¼¹çª—\r\n\t\tcloseBuyPanel() {\r\n\t\t  this.showBuyPanel = false;\r\n\t\t},\r\n\t\t\r\n\t\t// ğŸ”¥ æ–°å¢ï¼šåŠ è½½é»˜è®¤åœ°å€\r\n\t\tasync loadDefaultAddress() {\r\n\t\t  try {\r\n\t\t    // ä»æœ¬åœ°å­˜å‚¨è·å–é»˜è®¤åœ°å€\r\n\t\t    const defaultAddr = uni.getStorageSync('default_delivery_address_' + this.openid);\r\n\t\t    if (defaultAddr) {\r\n\t\t      this.defaultAddress = defaultAddr;\r\n\t\t      this.deliveryAddress = defaultAddr;\r\n\t\t    }\r\n\t\t  } catch (error) {\r\n\t\t    console.error('åŠ è½½é»˜è®¤åœ°å€å¤±è´¥:', error);\r\n\t\t  }\r\n\t\t},\r\n\t\t\r\n\t\t// ğŸ”¥ æ–°å¢ï¼šä¿å­˜é»˜è®¤åœ°å€\r\n\t\tsaveDefaultAddress() {\r\n\t\t  if (this.setAsDefault && this.deliveryAddress.trim()) {\r\n\t\t    try {\r\n\t\t      uni.setStorageSync('default_delivery_address_' + this.openid, this.deliveryAddress.trim());\r\n\t\t      uni.showToast({\r\n\t\t        title: 'å·²è®¾ä¸ºé»˜è®¤åœ°å€',\r\n\t\t        icon: 'success',\r\n\t\t        duration: 1500\r\n\t\t      });\r\n\t\t    } catch (error) {\r\n\t\t      console.error('ä¿å­˜é»˜è®¤åœ°å€å¤±è´¥:', error);\r\n\t\t    }\r\n\t\t  }\r\n\t\t},\r\n\t\t\r\n\t\t// ğŸ”¥ ä¿®æ”¹ï¼šç¡®è®¤è´­ä¹°æ–¹æ³•\r\n\t\tasync confirmPurchase() {\r\n\t\t\tif (!this.openid) {\r\n\t\t\t  uni.switchTab({\r\n\t\t\t    url: '/pages/my/my'\r\n\t\t\t  })\r\n\t\t\t  return\r\n\t\t\t}\r\n\t\t  // éªŒè¯åœ°å€\r\n\t\t  const address = this.deliveryAddress.trim();\r\n\t\t  if (!address) {\r\n\t\t    uni.showToast({\r\n\t\t      title: 'è¯·è¾“å…¥æ”¶è´§åœ°å€',\r\n\t\t      icon: 'none'\r\n\t\t    });\r\n\t\t    return;\r\n\t\t  }\r\n\t\t  \r\n\t\t  // å¦‚æœå‹¾é€‰äº†è®¾ä¸ºé»˜è®¤ï¼Œä¿å­˜åœ°å€\r\n\t\t  if (this.setAsDefault) {\r\n\t\t    this.saveDefaultAddress();\r\n\t\t  }\r\n\t\t  \r\n\t\t  // å…³é—­å¼¹çª—\r\n\t\t  this.closeBuyPanel();\r\n\t\t  \r\n\t\t  // æ‰§è¡ŒåŸæœ‰çš„æ”¯ä»˜é€»è¾‘\r\n\t\t  try {\r\n\t\t    // 1. åˆ›å»ºè®¢å•\r\n\t\t    const orderInfo = {\r\n\t\t      order_price: 0.01,\r\n\t\t      consignee_addr: address,  // ä½¿ç”¨ç”¨æˆ·è¾“å…¥çš„åœ°å€\r\n\t\t      goods: this.goods_info,\r\n\t\t      openid: this.openid\r\n\t\t    };\r\n\t\t\r\n\t\t    const { data: res } = await uni.$http.post('/orders/create', orderInfo);\r\n\t\t    if (res.meta.status !== 200) return uni.$showMsg('åˆ›å»ºè®¢å•å¤±è´¥ï¼');\r\n\t\t\r\n\t\t    const orderNumber = res.message.order_number;\r\n\t\t\r\n\t\t    // 2. è®¢å•é¢„æ”¯ä»˜\r\n\t\t    const { data: res2 } = await uni.$http.post('/orders/req_unifiedorder', { order_number: orderNumber });\r\n\t\t    if (res2.meta.status !== 200) return uni.$showMsg('é¢„ä»˜è®¢å•ç”Ÿæˆå¤±è´¥ï¼');\r\n\t\t\r\n\t\t    const payInfo = res2.message.pay;\r\n\t\t\r\n\t\t    // 3. å‘èµ·å¾®ä¿¡æ”¯ä»˜\r\n\t\t    const [err, succ] = await uni.requestPayment(payInfo);\r\n\t\t    if (err) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼');\r\n\t\t\r\n\t\t    const { data: res3 } = await uni.$http.post('/orders/chkOrder', { order_number: orderNumber });\r\n\t\t    if (res3.meta.status !== 200) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼');\r\n\t\t\r\n\t\t    uni.showToast({\r\n\t\t      title: 'è®¢å•æ”¯ä»˜å®Œæˆï¼',\r\n\t\t      icon: 'success'\r\n\t\t    });\r\n\t\t  } catch (error) {\r\n\t\t    console.error('æ”¯ä»˜å¤±è´¥:', error);\r\n\t\t    uni.showToast({\r\n\t\t      title: 'æ”¯ä»˜å¤±è´¥ï¼Œè¯·é‡è¯•',\r\n\t\t      icon: 'none'\r\n\t\t    });\r\n\t\t  }\r\n\t\t},\r\n\t\t\r\n\tasync payOrder() {\r\n\t        // 1. åˆ›å»ºè®¢å•\r\n\t        // 1.1 ç»„ç»‡è®¢å•çš„ä¿¡æ¯å¯¹è±¡\r\n\t        const orderInfo = {\r\n\t          // order_price: this.checkedGoodsAmount,\r\n\t          order_price: 0.01,\r\n\t          consignee_addr: this.addstr,\r\n\t          goods: this.goods_info,\r\n\t\t\t  openid: this.openid\r\n\t        }\r\n\t\r\n\t        // 1.2 å‘èµ·è¯·æ±‚åˆ›å»ºè®¢å•\r\n\t        const { data: res } = await uni.$http.post('/orders/create', orderInfo)\r\n\t        if (res.meta.status !== 200) return uni.$showMsg('åˆ›å»ºè®¢å•å¤±è´¥ï¼')\r\n\t\r\n\t        // 1.3 å¾—åˆ°æœåŠ¡å™¨å“åº”çš„â€œè®¢å•ç¼–å·â€\r\n\t        const orderNumber = res.message.order_number\r\n\t\r\n\t        // 2. è®¢å•é¢„æ”¯ä»˜\r\n\t        // 2.1 å‘èµ·è¯·æ±‚è·å–è®¢å•çš„æ”¯ä»˜ä¿¡æ¯\r\n\t        const { data: res2 } = await uni.$http.post('/orders/req_unifiedorder', { order_number: orderNumber })\r\n\t        // 2.2 é¢„ä»˜è®¢å•ç”Ÿæˆå¤±è´¥\r\n\t        if (res2.meta.status !== 200) return uni.$showMsg('é¢„ä»˜è®¢å•ç”Ÿæˆå¤±è´¥ï¼')\r\n\t        // 2.3 å¾—åˆ°è®¢å•æ”¯ä»˜ç›¸å…³çš„å¿…è¦å‚æ•°\r\n\t        const payInfo = res2.message.pay\r\n\t\r\n\t        // 3. å‘èµ·å¾®ä¿¡æ”¯ä»˜\r\n\t        // 3.1 è°ƒç”¨ uni.requestPayment() å‘èµ·å¾®ä¿¡æ”¯ä»˜\r\n\t        const [err, succ] = await uni.requestPayment(payInfo)\r\n\t        // 3.2 æœªå®Œæˆæ”¯ä»˜\r\n\t        if (err) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼')\r\n\t        // 3.3 å®Œæˆäº†æ”¯ä»˜ï¼Œè¿›ä¸€æ­¥æŸ¥è¯¢æ”¯ä»˜çš„ç»“æœ\r\n\t        const { data: res3 } = await uni.$http.post('/orders/chkOrder', { order_number: orderNumber })\r\n\t        // 3.4 æ£€æµ‹åˆ°è®¢å•æœªæ”¯ä»˜\r\n\t        if (res3.meta.status !== 200) return uni.$showMsg('è®¢å•æœªæ”¯ä»˜ï¼')\r\n\t        // 3.5 æ£€æµ‹åˆ°è®¢å•æ”¯ä»˜å®Œæˆ\r\n\t        uni.showToast({\r\n\t          title: 'è®¢å•æ”¯ä»˜å®Œæˆï¼',\r\n\t          icon: 'success'\r\n\t        })\r\n\t      },\r\n\t\t  \n    // æ–°å¢ï¼šæ˜¾ç¤ºå›å¤è¾“å…¥æ¡†\n    showReplyInput(index, comment) {\r\n\t\tif (!this.openid) {\r\n\t\t  uni.switchTab({\r\n\t\t    url: '/pages/my/my'\r\n\t\t  })\r\n\t\t  return\r\n\t\t}\n      this.replyToCommentIndex = index;\n      this.replyToComment = comment;\n      this.replyToUser = comment.nickname;\n      this.showReplyPanel = true;\n      this.newReply = '';\n    },\n    \n    // æ–°å¢ï¼šå…³é—­å›å¤è¾“å…¥æ¡†\n    closeReply() {\n      this.showReplyPanel = false;\n      this.newReply = '';\n      this.replyToCommentIndex = null;\n      this.replyToComment = null;\n      this.replyToUser = '';\n    },\n    \n// æ–°å¢:å‘é€å›å¤\nasync sendReply() {\n  if (!this.token) {\n    uni.switchTab({\n      url: '/pages/my/my',\n      \n    });\n    return;\n  }\n\n  const content = this.newReply.trim();\n  if (!content) {\n    uni.showToast({\n      title: 'è¯·è¾“å…¥å›å¤å†…å®¹',\n      icon: 'none'\n    });\n    return;\n  }\n\n  const currentTimestamp = Math.floor(Date.now() / 1000);\n\n  // âœ… ä½¿ç”¨ comment_id ä½œä¸ºå”¯ä¸€æ ‡è¯†\n  const targetCommentId = this.replyToComment.comment_id;\n\n  // æ„é€ æ–°å›å¤å¯¹è±¡\n  const newReplyObj = {\n    reply_id: 'reply_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),\n    user_openid: this.userBase.openid,\n    nickname: this.userBase.nickname,\n    avatarUrl: this.userBase.avatarUrl || '/images/1.jpg',\n    content: content,\n    created_at: currentTimestamp\n  };\n\n  // âœ… ä½¿ç”¨ comment_id æŸ¥æ‰¾å¯¹åº”çš„ç•™è¨€(è€Œä¸æ˜¯ç´¢å¼•)\n  const targetComment = this.comments.find(c => c.comment_id === targetCommentId);\n  \n  if (!targetComment) {\n    uni.showToast({\n      title: 'ç•™è¨€ä¸å­˜åœ¨',\n      icon: 'none'\n    });\n    return;\n  }\n\n  // æ·»åŠ åˆ°å¯¹åº”ç•™è¨€çš„å›å¤åˆ—è¡¨\n  if (!targetComment.replies) {\n    targetComment.replies = [];\n  }\n  targetComment.replies.push(newReplyObj);\n\n  // æ›´æ–°æ˜¾ç¤ºçš„å›å¤åˆ—è¡¨\n  if (!targetComment.showAllReplies) {\n    targetComment.displayReplies = targetComment.replies.slice(0, 1);\n  } else {\n    targetComment.displayReplies = targetComment.replies;\n  }\n\n  // å…³é—­å›å¤è¾“å…¥æ¡†\n  this.closeReply();\n\n  // âœ… è°ƒç”¨åç«¯APIä¿å­˜å›å¤\n  try {\n    const { data: res } = await uni.$http.post('/goods/reply', {\n      comment_id: targetCommentId,  // ä¼ å…¥ç•™è¨€ID\n      user_openid: this.userBase.openid,\n      nickname: this.userBase.nickname,\n      avatarUrl: this.userBase.avatarUrl || '/images/1.jpg',\n      content: content,\n      created_at: currentTimestamp,\n      goods_id: this.goods_id\n    });\n\n    if (res.meta.status !== 200) {\n      console.error('å›å¤ä¿å­˜å¤±è´¥:', res.meta.msg);\n      uni.showToast({\n        title: 'å›å¤ä¿å­˜å¤±è´¥',\n        icon: 'none'\n      });\n    }\n  } catch (error) {\n    console.error('è°ƒç”¨å›å¤APIå¤±è´¥:', error);\n  }\n},\n    \n    // æ–°å¢ï¼šåˆ‡æ¢æ˜¾ç¤ºæ‰€æœ‰å›å¤\n    toggleShowAllReplies(index) {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.comments[index].showAllReplies = !this.comments[index].showAllReplies;\r\n\t\t\tif (this.comments[index].showAllReplies) {\r\n\t\t\t  this.comments[index].displayReplies = this.comments[index].replies;\r\n\t\t\t} else {\r\n\t\t\t  this.comments[index].displayReplies = this.comments[index].replies.slice(0, 1);\r\n\t\t\t}\r\n\t\t}\n      \n    },\n    \n    async gotoPublisherProfile() {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst payload = encodeURIComponent(JSON.stringify(this.publisher_info));\r\n\t\t\tuni.navigateTo({\r\n\t\t\t  url: `/subpkg/profile/profile?publisher=${payload}`\r\n\t\t\t});\r\n\t\t}\n    },\n    async gotoProfile(openid) {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t  else {\r\n\t\t  const queryObj = {code: openid};\r\n\t\t  const {data: res} = await uni.$http.get('/users/userinfo', queryObj);\r\n\t\t  if (res.meta.status === 200) {\r\n\t\t    const user_info = res.message\r\n\t\t    const payload = encodeURIComponent(JSON.stringify(user_info));\r\n\t\t    uni.navigateTo({\r\n\t\t      url: `/subpkg/profile/profile?publisher=${payload}`\r\n\t\t    });\r\n\t\t  }\r\n\t  }\n      \n    },\n    async getIfFollowed() {\r\n\t\tif (this.openid) {\r\n\t\t\tconst queryObj = {code: this.openid, publisher_id: this.goods_info.publisher_id};\r\n      const { data: res } = await uni.$http.get('/users/iffollow', queryObj) \r\n      if (res.meta.status === 200) {\r\n        this.isFollowing = res.data.isFollowing;\r\n      }\r\n\t\t}\n      \n    },\n    async getIfCollected() {\r\n\t\tif (this.openid) {\r\n\t\t\tconst queryObj = {code: this.openid, goods_id: this.goods_id};\r\n      const { data: res } = await uni.$http.get('/users/ifcollect', queryObj) \r\n      if (res.meta.status === 200) {\t\r\n        this.isCollected = res.data.isCollected;\r\n      }\r\n\t\t}\n      \n    },\n    async getGoodsDetail(goods_id) {\n      const { data: res } = await uni.$http.get('/goods/detail', { goods_id })\n      if (res.meta.status !== 200) return uni.$showMsg()\n      this.goods_info = res.message[0]\n      console.log(this.goods_info)\r\n\t  // ğŸ”¥ğŸ”¥ğŸ”¥ è§£æå•†å“åˆ†ç±»(ä»é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„) ğŸ”¥ğŸ”¥ğŸ”¥\r\n\t    if (this.goods_info.category) {\r\n\t      this.goodsCategories = this.goods_info.category\r\n\t        .split(',')\r\n\t        .filter(c => c.trim() !== '')\r\n\t    } else {\r\n\t      this.goodsCategories = []\r\n\t    }\r\n\t  \n    },\n    async getGoodsList(cb) {\n      this.isloading = true\n      const { data: res } = await uni.$http.get('/goods/search', this.queryObj)\n      this.isloading = false\n      cb && cb()\n      if (res.meta.status !== 200) return uni.$showMsg()\n      this.goodsList = [...this.goodsList, ...res.message.goods]\n      this.total = res.message.total\n    },\n    async saveHistory() {\r\n\t\tif (this.openid) {\r\n\t\t\tconst requestBody = {\r\n        code: this.openid,\r\n        goods_id: this.goods_id\r\n      };\r\n      const { data: res } = await uni.$http.post('/users/history', requestBody)\r\n\t\t}\n      \n    },\n    async getPublisher() {\n      console.log('hello')\n      const req = {openid: this.goods_info.publisher_id}\n      const { data: res } = await uni.$http.get('/users/publisher', req)\n      if (res.meta.status === 200) {\n        this.publisher_info = res.message\n      }\n    },\n    async gotoDetail(item) {\r\n\t\ttry {\r\n\t\t  // 1. å…ˆå¢åŠ æµè§ˆæ¬¡æ•°\r\n\t\t  console.log('ğŸ“Š å¢åŠ å•†å“æµè§ˆæ¬¡æ•°:', item.goods_id);\r\n\t\t  const { data: res } = await uni.$http.post('/goods/view', {\r\n\t\t    goods_id: item.goods_id,\r\n\t\t    // å¯é€‰ï¼šæ·»åŠ ç”¨æˆ·ä¿¡æ¯ç”¨äºç»Ÿè®¡åˆ†æ\r\n\t\t    user_openid: this.openid || null\r\n\t\t  });\r\n\t\t\r\n\t\t  if (res.meta.status === 200) {\r\n\t\t    console.log('âœ… æµè§ˆæ¬¡æ•°å¢åŠ æˆåŠŸ');\r\n\t\t  } else {\r\n\t\t    console.warn('âš ï¸ æµè§ˆæ¬¡æ•°å¢åŠ å¤±è´¥:', res.meta.msg);\r\n\t\t  }\r\n\t\t} catch (error) {\r\n\t\t  console.error('âŒ æµè§ˆæ¬¡æ•°å¢åŠ æ¥å£é”™è¯¯:', error);\r\n\t\t  // å³ä½¿æ¥å£å¤±è´¥ä¹Ÿç»§ç»­è·³è½¬ï¼Œä¸å½±å“ç”¨æˆ·ä½“éªŒ\r\n\t\t}\n      uni.navigateTo({\n        url: '/subpkg/goods_detail/goods_detail?goods_id=' + item.goods_id\n      })\n    },\n    // ä¿®æ”¹é¢„è§ˆå›¾ç‰‡æ–¹æ³•ï¼ŒåŒæ­¥æ›´æ–°ç´¢å¼•\r\n      preview(i) {\r\n        this.currentImageIndex = i; // æ›´æ–°å½“å‰ç´¢å¼•\r\n        uni.previewImage({\r\n          current: i,\r\n          urls: this.goods_info.pics.map(x => x.pics_big + '?x-oss-process=image/quality,q_80'),\r\n        });\r\n      },\n    gotoSearch() {\r\n\t\tif (!this.openid) {\r\n\t\t  uni.switchTab({\r\n\t\t    url: '/pages/my/my'\r\n\t\t  })\r\n\t\t  return\r\n\t\t}\n      uni.navigateTo({\n        url: '/subpkg/search/search'\n      })\n    },\n    async toggleFollow() {\r\n\t\tif (!this.token) {\r\n\t\t\tawait uni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t  else {\r\n\t\t  this.isFollowing = !this.isFollowing;\r\n\t\t  const url1 = this.isFollowing ? '/users/follow' : '/users/unfollow';\r\n\t\t  const query = {code: this.openid, publisher_id: this.goods_info.publisher_id};\r\n\t\t  const {data: res} = await uni.$http.post(url1, query);\r\n\t\t  uni.showToast({\r\n\t\t    title: this.isFollowing ? 'å…³æ³¨æˆåŠŸ' : 'å–æ¶ˆå…³æ³¨',\r\n\t\t    icon: 'none'\r\n\t\t  });\r\n\t  }\n     \n    },\n    toggleLike(index) {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.comments[index].isLiked = !this.comments[index].isLiked;\r\n\t\t}\n    },\t\n    openMessage() {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\t this.showMessagePanel = true;\r\n\t\t}\n     \n    },\n    closeMessage() {\n      this.showMessagePanel = false;\n    },\n    async toggleCollect() {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.isCollected = !this.isCollected;\r\n      const url = this.isCollected ? '/users/collect' : '/users/uncollect';\r\n      const queryObj = {code: this.openid, goods_id: this.goods_id};\r\n      const {data: res} = await uni.$http.post(url, queryObj);\r\n      uni.showToast({\r\n        title: this.isCollected ? 'æ”¶è—æˆåŠŸ' : 'å–æ¶ˆæ”¶è—',\r\n        icon: 'none'\r\n      });\r\n\t}  \n},\n    buyNow() {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tuni.showToast({\r\n\t\t\ttitle: 'ç«‹å³è´­ä¹°',\r\n\t\t\ticon: 'none'\r\n\t\t  });\r\n\t\t}\n    },\n    startChat() {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst payload = encodeURIComponent(JSON.stringify(this.goods_info));\r\n\t\t  uni.navigateTo({\r\n\t\t\turl: `/subpkg/chat/chat?goods_info=${payload}`\r\n\t\t  })\r\n\t\t}\n    },\n    async sendComment() {\r\n\t\tif (!this.token) {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '/pages/my/my',\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst content = this.newComment.trim();\r\n\t\t\tif (!content) {\r\n\t\t\t  uni.showToast({\r\n\t\t\t    title: 'è¯·è¾“å…¥ç•™è¨€å†…å®¹',\r\n\t\t\t    icon: 'none'\r\n\t\t\t  });\r\n\t\t\t  return;\r\n\t\t\t}\r\n\t\t\tconst currentTimestamp = Math.floor(Date.now() / 1000);\r\n\t\t\tconst newCommentObj = {\r\n\t\t\t  comment_id: 'cmt_1700000000000',\r\n\t\t\t  user_openid: this.userBase.openid,\r\n\t\t\t  nickname: this.userBase.nickname,\r\n\t\t\t  avatarUrl: this.userBase.avatarUrl,\r\n\t\t\t  content: content,\r\n\t\t\t  created_at: currentTimestamp,\r\n\t\t\t  like_count: 0,\r\n\t\t\t  replies: [],\r\n\t\t\t  showAllReplies: false,\r\n\t\t\t  displayReplies: []\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tthis.comments.unshift(newCommentObj);\r\n\t\t\tthis.newComment = '';\r\n\t\t\tthis.scrollIntoView = 'msg-0';\r\n\t\t\t\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: 'ç•™è¨€æˆåŠŸ',\r\n\t\t\t  icon: 'success'\r\n\t\t\t});\r\n\t\t\tconst queryObj = {goods_id: this.goods_id, comment: newCommentObj};\r\n\t\t\tconst { data: res } = await uni.$http.post('/goods/comment', queryObj);\r\n\t\t\t\r\n\t\t\tconst queryObj1 = {code: this.openid, goods_id: this.goods_id, content: newCommentObj};\r\n\t\t\tconst { data: res1 } = await uni.$http.post('/users/comment', queryObj1);\r\n\t\t}\n    },\n    showViewCount() {\n      uni.showToast({\n        title: `å…± ${this.viewCount || 0} äººæµè§ˆ`,\n        icon: 'none',\n        duration: 2000\n      });\n    },\n    manageGoods() {\r\n\tif (this.goods_info.goods_status === 1) {\r\n\t\tuni.showActionSheet({\r\n\t\t  itemList: ['ä¸‹æ¶å•†å“', 'æŸ¥çœ‹æ•°æ®'],\r\n\t\t  success: (res) => {\r\n\t\t    switch(res.tapIndex) {\r\n\t\t      case 0:\r\n\t\t        this.offlineGoods();\r\n\t\t        break;\r\n\t\t      case 1:\r\n\t\t        this.viewGoodsData();\r\n\t\t        break;\r\n\t\t    }\r\n\t\t  }\r\n\t\t});\r\n\t};\n    if (this.goods_info.goods_status === 2) {\r\n\t\tuni.showActionSheet({\r\n\t\t  itemList: ['é‡æ–°ä¸Šæ¶','æŸ¥çœ‹æ•°æ®'],\r\n\t\t  success: (res) => {\r\n\t\t    switch(res.tapIndex) {\r\n\t\t      case 0:\r\n\t\t        this.reofflineGoods();\r\n\t\t        break;\r\n\t\t      case 1:\r\n\t\t        this.viewGoodsData();\r\n\t\t        break;\r\n\t\t    }\r\n\t\t  }\r\n\t\t});\r\n\t}\n    },\n    editGoods() {\r\n\t\tconst goodsData = {\r\n\t\t  goods_id: this.goods_info.goods_id,\r\n\t\t  description: this.goods_info.goods_name,\r\n\t\t  price: this.goods_info.goods_price,\r\n\t\t  images: this.goods_info.pics.map(item => item.pics_big),\r\n\t\t};\r\n\t\tuni.setStorageSync('edit_goods_data', goodsData);\r\n\t\tuni.switchTab({\r\n\t\t    url: '/pages/sold/sold'\r\n\t\t  });\n    },\n    async offlineGoods() {\r\n      uni.showModal({\r\n        title: 'æç¤º',\r\n        content: 'ç¡®å®šè¦ä¸‹æ¶è¯¥å•†å“å—ï¼Ÿ',\r\n        success: async (res) => {\r\n          if (res.confirm) {\r\n            try {\r\n              const queryObj = {goods_id: this.goods_id};\r\n              const { data: res } = await uni.$http.post('/goods/unpublish', queryObj);\r\n              \r\n              uni.showToast({\r\n                title: 'ä¸‹æ¶æˆåŠŸ',\r\n                icon: 'success',\r\n                duration: 1000\r\n              });\r\n              \r\n              // âœ… ç­‰å¾… Toast æ˜¾ç¤ºå®Œæˆåè¿”å›ä¸Šä¸€é¡µ\r\n              setTimeout(() => {\r\n                uni.navigateBack({\r\n                  delta: 1\r\n                });\r\n              }, 1000);\r\n              \r\n            } catch (error) {\r\n              console.error('ä¸‹æ¶å¤±è´¥:', error);\r\n              uni.showToast({\r\n                title: 'ä¸‹æ¶å¤±è´¥',\r\n                icon: 'none',\r\n                duration: 1000\r\n              });\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n\t\r\n\t\r\n\tasync reofflineGoods() {\r\n\t  uni.showModal({\r\n\t    title: 'æç¤º',\r\n\t    content: 'ç¡®å®šè¦é‡æ–°ä¸Šæ¶è¯¥å•†å“å—ï¼Ÿ',\r\n\t    success: async (res) => {\r\n\t      if (res.confirm) {\r\n\t        try {\r\n\t          const picsBigList = this.goods_info.pics.map(item => item.pics_big);\r\n\t          const queryObj = {\r\n\t            code: this.openid,\r\n\t            publisherNickname: this.userBase.nickname,\r\n\t            description: this.goods_info.goods_name,\r\n\t            price: this.goods_info.goods_price,\r\n\t            coverImage: this.goods_info.goods_big_logo, // ç¬¬ä¸€å¼ ä½œä¸ºå°é¢\r\n\t            images: picsBigList, // æ‰€æœ‰å›¾ç‰‡\r\n\t            goods_id: this.goods_info.goods_id\r\n\t          };\r\n\t          \r\n\t          const { data: res } = await uni.$http.post('/goods/republish', queryObj);\r\n\t          \r\n\t          uni.showToast({\r\n\t            title: 'é‡æ–°ä¸Šæ¶æˆåŠŸ',\r\n\t            icon: 'success',\r\n\t            duration: 1000\r\n\t          });\r\n\t          \r\n\t          // âœ… ç­‰å¾… Toast æ˜¾ç¤ºå®Œæˆåè¿”å›ä¸Šä¸€é¡µ\r\n\t          setTimeout(() => {\r\n\t            uni.navigateBack({\r\n\t              delta: 1\r\n\t            });\r\n\t          }, 1000);\r\n\t          \r\n\t        } catch (error) {\r\n\t          console.error('é‡æ–°ä¸Šæ¶å¤±è´¥:', error);\r\n\t          uni.showToast({\r\n\t            title: 'é‡æ–°ä¸Šæ¶å¤±è´¥',\r\n\t            icon: 'none',\r\n\t            duration: 1000\r\n\t          });\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t  });\r\n\t},\n    deleteGoods() {\n      uni.showModal({\n        title: 'è­¦å‘Š',\n        content: 'åˆ é™¤åæ— æ³•æ¢å¤ï¼Œç¡®å®šè¦åˆ é™¤è¯¥å•†å“å—ï¼Ÿ',\n        success: (res) => {\n          if (res.confirm) {\n            console.log('åˆ é™¤å•†å“');\n          }\n        }\n      });\n    },\n    viewGoodsData() {\n      uni.showModal({\n        title: 'å•†å“æ•°æ®',\n        content: `æµè§ˆï¼š${this.viewCount}\\næ”¶è—ï¼š${this.collectCount}\\nç•™è¨€ï¼š${this.comments.length}`,\n        showCancel: false\n      });\n    },\n    RelativeTime(createdAt) {\n      const currentTimestamp = Math.floor(Date.now() / 1000);\n      const diffInSeconds = currentTimestamp - createdAt;\n      \n      if (diffInSeconds <= 0) {\n        return \"åˆšåˆš\";\n      }\n      \n      const MINUTE = 60;\n      const HOUR = 60 * MINUTE;\n      const DAY = 24 * HOUR;\n      const MONTH = 30 * DAY;\n      const YEAR = 365 * DAY;\n      \n      if (diffInSeconds < HOUR) {\n        const minutes = Math.floor(diffInSeconds / MINUTE);\n        return minutes <= 0 ? \"åˆšåˆš\" : `${minutes}åˆ†é’Ÿä¹‹å‰`;\n      }\n      \n      if (diffInSeconds < DAY) {\n        const hours = Math.floor(diffInSeconds / HOUR);\n        return `${hours}å°æ—¶ä¹‹å‰`;\n      }\n      \n      if (diffInSeconds < MONTH) {\n        const days = Math.floor(diffInSeconds / DAY);\n        return `${days}å¤©ä¹‹å‰`;\n      }\n      \n      if (diffInSeconds < YEAR) {\n        const months = Math.floor(diffInSeconds / MONTH);\n        return `${months}ä¸ªæœˆä¹‹å‰`;\n      }\n      \n      const years = Math.floor(diffInSeconds / YEAR);\n      return `${years}å¹´ä¹‹å‰`;\n    },\r\n\t// ğŸ”¥ ä¿®æ”¹:å‘é€å¿«é€Ÿç•™è¨€æ–¹æ³•\r\n\t  async sendQuickComment() {\r\n\t    if (!this.openid) {\r\n\t      uni.switchTab({\r\n\t        url: '/pages/my/my',\r\n\t      });\r\n\t      return;\r\n\t    }\r\n\t    \r\n\t    const content = this.quickComment.trim();\r\n\t    if (!content) {\r\n\t      uni.showToast({\r\n\t        title: 'è¯·è¾“å…¥ç•™è¨€å†…å®¹',\r\n\t        icon: 'none'\r\n\t      });\r\n\t      return;\r\n\t    }\r\n\t    \r\n\t    const currentTimestamp = Math.floor(Date.now() / 1000);\r\n\t    \r\n\t    // æ„é€ æ–°ç•™è¨€å¯¹è±¡\r\n\t    const newCommentObj = {\r\n\t      comment_id: 'cmt_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),\r\n\t      user_openid: this.userBase.openid,\r\n\t      nickname: this.userBase.nickname,\r\n\t      avatarUrl: this.userBase.avatarUrl || '/images/1.jpg',\r\n\t      content: content,\r\n\t      created_at: currentTimestamp,\r\n\t      like_count: 0,\r\n\t      replies: [],\r\n\t      showAllReplies: false,\r\n\t      displayReplies: [],\r\n\t      isLiked: false\r\n\t    };\r\n\t    \r\n\t    // æ·»åŠ åˆ°ç•™è¨€åˆ—è¡¨å¼€å¤´\r\n\t    this.comments.unshift(newCommentObj);\r\n\t    \r\n\t    // å…³é—­å¼¹çª—\r\n\t    this.closeQuickReply();\r\n\t    \r\n\t    // æ˜¾ç¤ºæˆåŠŸæç¤º\r\n\t    uni.showToast({\r\n\t      title: 'ç•™è¨€æˆåŠŸ',\r\n\t      icon: 'success'\r\n\t    });\r\n\t    \r\n\t    // ğŸ”¥ è°ƒç”¨åç«¯APIä¿å­˜ç•™è¨€\r\n\t    try {\r\n\t      const queryObj = {\r\n\t        goods_id: this.goods_id,\r\n\t        comment: newCommentObj\r\n\t      };\r\n\t      const { data: res } = await uni.$http.post('/goods/comment', queryObj);\r\n\t      \r\n\t      if (res.meta.status !== 200) {\r\n\t        console.error('ç•™è¨€ä¿å­˜å¤±è´¥:', res.meta.msg);\r\n\t      }\r\n\t      \r\n\t      // åŒæ­¥åˆ°ç”¨æˆ·ç•™è¨€è®°å½•\r\n\t      const queryObj1 = {\r\n\t        code: this.openid,\r\n\t        goods_id: this.goods_id,\r\n\t        content: newCommentObj\r\n\t      };\r\n\t      await uni.$http.post('/users/comment', queryObj1);\r\n\t      \r\n\t    } catch (error) {\r\n\t      console.error('è°ƒç”¨ç•™è¨€APIå¤±è´¥:', error);\r\n\t    }\r\n\t  },\n  },\n  computed: {\n    ...mapState('m_user', ['token', 'code', 'userBase', 'openid']),\n    leftColumn()  { return this.goodsList.filter((_, idx) => idx % 2 === 0) },\n    rightColumn() { return this.goodsList.filter((_, idx) => idx % 2 === 1) },\r\n\tdisplayedComments() {\r\n\t    return this.comments.slice(0, 3);\r\n\t  }\n  },\n  onReachBottom() {\n    if (this.queryObj.pagenum * this.queryObj.pagesize >= this.total)\n    return uni.$showMsg('æ•°æ®åŠ è½½å®Œæ¯•ï¼')\n    if (this.isloading) return\n    this.queryObj.pagenum += 1\n    this.getGoodsList()\n  },\n  onPullDownRefresh() {\n    this.queryObj.pagenum = 1\n    this.total = 0\n    this.isloading = false\n    this.goodsList = []\n    this.getGoodsList(() => uni.stopPullDownRefresh())\n  },\r\n  \n}\n</script>\n\n\n<style lang=\"scss\">\n.goods-detail-page {\n  min-height: 100vh;\n  background: #f8f9fa;\n  padding-bottom: 120rpx;\n}\n\n// ğŸ”¥ ä¿®æ”¹æœç´¢æ¡†æ ·å¼ - ä¼˜åŒ–éšè—åŠ¨ç”»\n.search-box {\n  background: #fff;\n  position: sticky;\n  top: 0;\n  z-index: 999;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  \n  /* ğŸ”¥ å…³é”®ï¼šæ·»åŠ å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), \n              opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),\n              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* é»˜è®¤çŠ¶æ€ */\n  transform: translateY(0);\n  opacity: 1;\n  \n  &.hide {\n    /* å‘ä¸Šæ»‘å‡ºå±å¹• */\n    transform: translateY(-100%);\n    opacity: 0;\n    box-shadow: none;\n    /* éšè—åä¸å ç”¨ç©ºé—´ */\n    pointer-events: none;\n  }\n  \n  .search-wrapper {\n    display: flex;\n    align-items: center;\n    padding: 0 16rpx;\n    height: 88rpx; /* ğŸ”¥ å›ºå®šé«˜åº¦ï¼Œé˜²æ­¢åŠ¨ç”»æ—¶æŠ–åŠ¨ */\n    \n    .search-content {\n      flex: 1;\n    }\n    \r\n\t/* ğŸ”¥ æ–°å¢ï¼šæŒ‰é’®å®¹å™¨ - ç¡®ä¿å³ä¾§æŒ‰é’®å¯¹é½ */\r\n\t  .action-buttons {\r\n\t    display: flex;\r\n\t    align-items: center;\r\n\t    gap: 20rpx;  /* âœ… æ§åˆ¶ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´çš„é—´è· */\r\n\t  }\r\n\t  \n    .share-btn {\n     width: 64rpx;\r\n     height: 64rpx;\r\n     background: #ffffff; \r\n     // background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);\r\n     border-radius: 50%;\r\n     display: flex;\r\n     align-items: center;\r\n     justify-content: center;\r\n     border: none;\r\n     padding: 0;\r\n     margin: 0;\r\n     transition: all 0.3s;\r\n\t flex-shrink: 0;  /* âœ… é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */\r\n\t \n      &::after {\r\n        border: none;\r\n      }\r\n\t  \n      &:active {\n        transform: scale(0.95);\n      }\r\n\t  .share-icon {\r\n\t    width: 40rpx;      /* å›¾ç‰‡å®½åº¦ */\r\n\t    height: 40rpx;     /* å›¾ç‰‡é«˜åº¦ */\r\n\t    display: block;\r\n\r\n\t  }\r\n\t  \n    }\n  }\n}\r\n.more-btn {\n    width: 64rpx;           /* âœ… è®¾ç½®å›ºå®šå®½åº¦ */\n    height: 64rpx;          /* âœ… è®¾ç½®å›ºå®šé«˜åº¦ */\n    font-size: 48rpx;\n    color: #999;\n    display: flex;          /* âœ… ä½¿ç”¨flexå±…ä¸­ */\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;         /* âœ… é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */\n  }\n.scroll-content {\n  width: 100%;\n  transition: height 0.3s ease;\n}\n\n.content-wrapper {\n  padding: 0 16rpx;\n}\n\n// ğŸ¨ å‘å¸ƒè€…ä¿¡æ¯åŒºåŸŸ\n.publisher-section {\n  display: flex;\n  align-items: center;\n  padding: 20rpx 24rpx;\n  margin: 16rpx 0;\n  background: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .publisher-avatar {\n    width: 80rpx;\n    height: 80rpx;\n    border-radius: 50%;\n    margin-right: 16rpx;\n    background: #f5f5f5;\n  }\n\n  .publisher-info {\n    flex: 1;\n\n    .publisher-name-row {\n      display: flex;\n      align-items: center;\n      margin-bottom: 4rpx;\n      \r\n\t  .user-info {\r\n\t    flex: 1; \r\n\t\t\n      .publisher-name {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n        margin-right: 12rpx;\r\n\t\tmargin_bottom: 3rpx;\n      }\r\n\t  \r\n\t  .post-meta {\r\n\t    display: flex;\r\n\t    gap: 16rpx;\r\n\t    font-size: 24rpx;\r\n\t    color: #999;\r\n\t  \r\n\t    .post-views::before {\r\n\t      margin-right: 8rpx;\r\n\t    }\r\n\t  }\n}\n      .verification-badge {\n        display: flex;\n        align-items: center;\n        padding: 2rpx 8rpx;\n        background: #C00000;\n        border-radius: 12rpx;\n\n        .badge-icon {\n          font-size: 16rpx;\n          color: #fff;\n          margin-right: 2rpx;\n        }\n\n        .badge-text {\n          font-size: 16rpx;\n          color: #fff;\n        }\n      }\n    }\n\n    .publisher-meta {\n      display: flex;\n      align-items: center;\n      gap: 16rpx;\n\n      .publish-time {\n        font-size: 22rpx;\n        color: #999;\n      }\n\n      .view-count-item {\n        display: flex;\n        align-items: center;\n        gap: 4rpx;\n\n        .view-icon {\n          font-size: 20rpx;\n        }\n\n        .view-count {\n          font-size: 22rpx;\n          color: #666;\n        }\n      }\n    }\n  }\n\n  .follow-btn {\n    padding: 12rpx 24rpx;\n    background: #C00000;\n    color: #fff;\n    border-radius: 20rpx;\n    font-size: 24rpx;\n    \n    &.following {\n      background: #f0f0f0;\n      color: #666;\n    }\n  }\n}\n\n// ğŸ¨ å•†å“åŸºç¡€ä¿¡æ¯å¡ç‰‡\n.goods-basic-info {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 24rpx;\n  margin: 16rpx 0;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n}\n\n.goods-name-section {\n  margin-bottom: 16rpx;\n\n  .goods-name {\n    font-size: 28rpx;\n    line-height: 40rpx;\n    color: #333;\n    font-weight: 500;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n  }\n}\n\n.price-location-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16rpx;\n\n  .price-container {\n    display: flex;\n    align-items: baseline;\n\n    .price-symbol {\n      font-size: 24rpx;\n      color: #C00000;\n      font-weight: 600;\n    }\n\n    .price-value {\n      font-size: 48rpx;\n      color: #C00000;\n      font-weight: 700;\n      margin-left: 4rpx;\n    }\n  }\r\n  \r\n\r\n\t\n\n  .location-container {\n    display: flex;\n    align-items: center;\n    padding: 8rpx 16rpx;\n    background: #f0f9ff;\n    border-radius: 20rpx;\n    border: 1rpx solid #e6f7ff;\n\n    .location-icon {\n      font-size: 20rpx;\n      margin-right: 6rpx;\n    }\n\n    .location-text {\n      font-size: 22rpx;\n      color: #C00000;\n      margin-right: 8rpx;\n    }\n\n    .status-dot {\n      width: 8rpx;\n      height: 8rpx;\n      background: #C00000;\n      border-radius: 50%;\n    }\n  }\n}\n\r\n// ğŸ”¥ æ–°å¢ï¼šæµè§ˆæ•°å•ç‹¬ä¸€è¡Œçš„æ ·å¼\n.view-count-row {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16rpx;\n  \n  .view-count-badge {\n    display: flex;\n    align-items: center;\n    padding: 6rpx 12rpx;\n    background: #f5f5f5;\n    border-radius: 16rpx;\n    \n    .view-icon {\n      font-size: 20rpx;\n      margin-right: 6rpx;\n    }\n    \n    .view-text {\n      font-size: 22rpx;\n      color: #666;\n    }\n  }\n}\r\n\n.category-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12rpx;\n\n  .category-tag {\n    display: flex;\n    align-items: center;\n    padding: 6rpx 12rpx;\n    background: #f8f9fa;\n    border: 1rpx solid #e9ecef;\n    border-radius: 16rpx;\n\n    .tag-icon {\n      font-size: 20rpx;\n      margin-right: 4rpx;\n    }\n\n    .tag-text {\n      font-size: 20rpx;\n      color: #666;\n    }\n  }\n}\n\n// ğŸ¨ å•†å“å›¾ç‰‡åŒºåŸŸ\n.goods-images-section {\n  position: relative;\n  margin: 16rpx 0;\n  background: #fff;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .goods-swiper {\n    width: 100%;\n    height: 500rpx;\n\n    .swiper-image {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .image-counter {\n    position: absolute;\n    top: 16rpx;\n    right: 16rpx;\n    padding: 4rpx 12rpx;\n    background: rgba(0, 0, 0, 0.6);\n    border-radius: 16rpx;\n    backdrop-filter: blur(10rpx);\n\n    text {\n      color: #fff;\n      font-size: 20rpx;\n    }\n  }\n}\n\n// ğŸ¨ ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ\n.stats-section {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20rpx;\n  margin: 16rpx 0;\n  background: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .stats-item {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .stats-number {\n      font-size: 32rpx;\n      font-weight: 700;\n      color: #333;\n      margin-bottom: 4rpx;\n    }\n\n    .stats-label {\n      font-size: 22rpx;\n      color: #999;\n    }\n  }\n\n  .stats-divider {\n    width: 1rpx;\n    height: 40rpx;\n    background: #f0f0f0;\n    margin: 0 20rpx;\n  }\n}\n\n.comments-section {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 15rpx;\n  margin: 16rpx 0;\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16rpx;\n    padding-bottom: 12rpx;\n    border-bottom: 1rpx solid #f5f5f5;\n\n    .section-title-wrapper {\n      .section-title {\n        font-size: 28rpx;\n        font-weight: 600;\n        color: #333;\n      }\n    }\n\n    .more-btn {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      gap: 4rpx;\n      white-space: nowrap;\n      flex-shrink: 0;\n      padding: 16rpx 20rpx;\n\n      .more-text {\n        font-size: 24rpx;\n        color: #999;\n        display: inline-block;\n        line-height: 1;\n        padding-top: 15rpx;\n      }\n    }\n  }\n\n  .quick-comment-box {\n    display: flex;\n    align-items: center;\n    padding: 16rpx 0;\n    border-bottom: 1rpx solid #f5f5f5;\n    cursor: pointer;\n\n    .quick-comment-avatar {\n      width: 56rpx;\n      height: 56rpx;\n      border-radius: 50%;\n      margin-right: 16rpx;\n      margin-bottom: 12rpx;\n      flex-shrink: 0;\n    }\n\n    .quick-comment-input-placeholder {\n      flex: 1;\n      height: 56rpx;\n      background: #f8f9fa;\n      border-radius: 28rpx;\n      padding: 0 30rpx;\n      display: flex;\n      align-items: center;\n      margin-bottom: 12rpx;\n      \n      text {\n        font-size: 24rpx;\n        color: #999;\n      }\n    }\n  }\n\n  .comment-item {\n    padding: 16rpx 0;\n    border-bottom: 1rpx solid #f0f0f0;  // ğŸ”¥ ä¿®æ”¹ï¼šä½¿ç”¨æ›´æ˜æ˜¾çš„åˆ†ç•Œçº¿é¢œè‰²\n\n    &:last-child {\n      border-bottom: none;  // æœ€åä¸€æ¡ç•™è¨€ä¸æ˜¾ç¤ºåˆ†ç•Œçº¿\n    }\n\n    .comment-main-content {\n      cursor: pointer;\n      \n      .comment-header {\n        display: flex;\n        align-items: center;\n        margin-bottom: 12rpx;\n\n        .comment-avatar {\n          width: 56rpx;\n          height: 56rpx;\n          border-radius: 50%;\n          margin-right: 12rpx;\n          flex-shrink: 0;\n        }\n\n        .comment-user-info {\n          flex: 1;\n\n          .comment-username {\n            font-size: 26rpx;\n            color: #333;\n            font-weight: 600;\n            margin-bottom: 4rpx;  // ğŸ”¥ å‡å°é—´è·ï¼ˆåŸæ¥æ²¡æœ‰è®¾ç½® â†’ 4rpxï¼‰\n            display: block;\n          }\n\n          .comment-time {\n            font-size: 22rpx;\n            color: #999;\r\n\t\t\tline-height: 1;  // ğŸ”¥ æ–°å¢ï¼šè®¾ç½®è¡Œé«˜ä¸º1ï¼Œè¿›ä¸€æ­¥å‡å°é—´è·\n          }\n        }\n      }\n\n      .comment-content {\n        padding-left: 68rpx;\n        font-size: 26rpx;\n        line-height: 36rpx;\n        color: #333;\n        word-break: break-word;\n      }\n    }\n\n    .replies-section {\n      margin-top: 16rpx;\n      padding: 16rpx;\n      margin-left: 68rpx;\n      background: #f8f9fa;\n      border-radius: 12rpx;\n\n      .reply-item {\n        display: flex;\n        align-items: flex-start;\n        margin-bottom: 24rpx;\n        cursor: pointer;\r\n\t\t  padding-bottom: 16rpx;  // ğŸ”¥ å¢åŠ åº•éƒ¨å†…è¾¹è·ï¼ˆåŸæ¥æ²¡æœ‰ï¼‰\n\n        &:last-child {\n          margin-bottom: 0;\r\n          padding-bottom: 0;\n        }\n\n        .reply-avatar {\n          width: 40rpx;\n          height: 40rpx;\n          border-radius: 50%;\n          margin-right: 8rpx;\n          flex-shrink: 0;\n        }\n\n        .reply-content-wrapper {\n          flex: 1;\n          font-size: 24rpx;\n           line-height: 36rpx;  // ğŸ”¥ å¢åŠ è¡Œé«˜ï¼ˆåŸ32rpx â†’ 36rpxï¼‰\n          word-break: break-word;\n\n          .reply-username {\n            color: #666;\n            font-weight: 600;\n          }\n\n          .reply-text {\n            color: #333;\n          }\n        }\n      }\n\n      .show-more-replies {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 12rpx 0;\n        font-size: 24rpx;\n        color: #C00000;\n        cursor: pointer;\n      }\n    }\n  }\n}\n\n\n// ğŸ¨ åˆ†éš”çº¿åŒºåŸŸ\n.section-divider {\n  display: flex;\n  align-items: center;\n  margin: 32rpx 0;\n  padding: 0 24rpx;\n\n  .divider-line {\n    flex: 1;\n    height: 1rpx;\n    background: #e9ecef;\n  }\n\n    .divider-text {\r\n      padding: 0 20rpx;\r\n      font-size: 24rpx;\r\n      color: #999;\r\n      background: #f8f9fa;\r\n    }\r\n  }\r\n  \r\n  // å•†å“ç€‘å¸ƒæµ\r\n  .waterfall {\r\n    display: flex;\r\n    padding: 16rpx;\r\n    justify-content: space-between;\r\n  \r\n    .col {\r\n      width: 48%;\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n  }\r\n  \r\n  // ğŸ¨ åº•éƒ¨æ“ä½œæ \r\n  .bottom-bar {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 100rpx;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 20rpx;\r\n    box-shadow: 0 -2rpx 16rpx rgba(0, 0, 0, 0.08);\r\n    z-index: 999;\r\n  \r\n    .bar-item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      margin-right: 0rpx;\r\n      padding: 8rpx;\r\n    }\r\n  \r\n  .bar-text {\r\n   font-size: 23rpx;\r\n       color: #666;\r\n       margin-top: 4rpx;\r\n       /* ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šè®¾ç½®å›ºå®šå®½åº¦ï¼Œé˜²æ­¢æ–‡å­—é•¿åº¦å˜åŒ–å½±å“å¸ƒå±€ */\r\n       width: 60rpx;\r\n       text-align: center;\r\n       white-space: nowrap;  /* é˜²æ­¢æ¢è¡Œ */\r\n  }\r\n    .bar-btn {\r\n      // flex: 1;\r\n      height: 70rpx;\r\n\t  width: 400rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 35rpx;\r\n      font-size: 28rpx;\r\n      font-weight: 600;\r\n      margin-left: 30rpx;\r\n\t  \r\n\t  flex-shrink: 0;  /* é˜²æ­¢è¢«å‹ç¼© */\r\n    }\r\n  \r\n    .buy-btn {\r\n      background: linear-gradient(135deg, #C00000, #C00000);\r\n      color: #fff;\r\n    }\r\n  \r\n    .chat-btn {\r\n      background: linear-gradient(135deg, #C00000, #C00000);\r\n      color: #fff;\r\n    }\r\n  \r\n    .manage-btn {\r\n      background: linear-gradient(135deg, #C00000, #C00000);\r\n      color: #fff;\r\n    }\r\n  }\r\n  \r\n  // ç•™è¨€å¼¹çª—ç›¸å…³æ ·å¼\r\n  .message-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 1000;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    transition: all 0.3s;\r\n  \r\n    &.show {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n  \r\n  .message-panel {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 80vh;\r\n    background: #fff;\r\n    border-radius: 20rpx 20rpx 0 0;\r\n    z-index: 1001;\r\n    display: flex;\r\n    flex-direction: column;\r\n    transform: translateY(100%);\r\n    transition: transform 0.3s;\r\n  \r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n  \r\n    .message-header {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 24rpx;\r\n      border-bottom: 1rpx solid #f5f5f5;\r\n  \r\n      .message-title-wrapper {\r\n        flex: 1;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: baseline;\r\n  \r\n        .message-title {\r\n          font-size: 28rpx;\r\n          font-weight: 600;\r\n          color: #333;\r\n        }\r\n  \r\n        .message-count {\r\n          font-size: 22rpx;\r\n          color: #999;\r\n          margin-left: 8rpx;\r\n        }\r\n      }\r\n    }\r\n.message-list {\n  flex: 1;\n  padding: 0 24rpx;\n\n  .message-item {\n    margin-top: 0;  // ğŸ”¥ ä¿®æ”¹ï¼šç§»é™¤é¡¶éƒ¨é—´è·\n    margin-bottom: 0;  // ğŸ”¥ ä¿®æ”¹ï¼šç§»é™¤åº•éƒ¨é—´è·\n    padding: 20rpx 0;  // ğŸ”¥ æ–°å¢ï¼šä½¿ç”¨å†…è¾¹è·ä»£æ›¿å¤–è¾¹è·\n    position: relative;\n    border-bottom: 1rpx solid #f0f0f0;  // ğŸ”¥ æ–°å¢ï¼šæ·»åŠ åˆ†ç•Œçº¿\n\n    &:last-child {\n      border-bottom: none;  // ğŸ”¥ æœ€åä¸€æ¡ä¸æ˜¾ç¤ºåˆ†ç•Œçº¿\n    }\n\n    // ä¸»ç•™è¨€åŒºåŸŸ\n    .message-main-content {\n      display: flex;\n      cursor: pointer;\n      position: relative;\n      padding-right: 80rpx;\n      padding-bottom: 0;  // ğŸ”¥ ä¿®æ”¹ï¼šç§»é™¤åº•éƒ¨å†…è¾¹è·\n      \n      .message-avatar {\n        width: 64rpx;\n        height: 64rpx;\n        border-radius: 50%;\n        margin-right: 20rpx;\n        flex-shrink: 0;\n      }\n\n      .message-content-wrapper {\n        flex: 1;\n        min-width: 0;\n\n        .message-user-info {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          margin-bottom: 12rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é—´è·ï¼ˆåŸ16rpxï¼‰\n\n          .message-username {\n            font-size: 26rpx;\n            color: #333;\n            font-weight: 600;\n            margin-bottom: 6rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é—´è·ï¼ˆåŸ8rpxï¼‰\n          }\n\n          .message-time {\n            font-size: 22rpx;\n            color: #999;\n          }\n        }\n\n        .message-text {\n          font-size: 26rpx;\n          line-height: 40rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°è¡Œé«˜ï¼ˆåŸ44rpxï¼‰\n          color: #333;\n          word-break: break-word;\n          overflow-wrap: break-word;\n        }\n      }\n\n      .like-btn {\n        position: absolute;\n        right: 47rpx;\n        top: 0;\n        padding: 8rpx;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        min-width: 40rpx;\n\n        .like-count {\n          font-size: 20rpx;\n          color: #666;\n          margin-top: 2rpx;\n        }\n      }\n    }\n\n    // å›å¤åŒºåŸŸæ ·å¼\n    .replies-section-in-panel {\n      margin-top: 16rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é¡¶éƒ¨é—´è·ï¼ˆåŸ24rpxï¼‰\n      margin-left: 80rpx;\n      margin-right: 40rpx;\n      padding: 16rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°å†…è¾¹è·ï¼ˆåŸ20rpxï¼‰\n      background: #f8f9fa;\n      border-radius: 12rpx;\n\n      .reply-item {\n        display: flex;\n        align-items: flex-start;\n        margin-bottom: 16rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é—´è·ï¼ˆåŸ20rpxï¼‰\n        cursor: pointer;\n        position: relative;\n        padding-right: 60rpx;\n        padding-bottom: 8rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°åº•éƒ¨å†…è¾¹è·ï¼ˆåŸ12rpxï¼‰\n\n        &:last-child {\n          margin-bottom: 0;\n          padding-bottom: 0;\n        }\n\n        .reply-avatar {\n          width: 40rpx;\n          height: 40rpx;\n          border-radius: 50%;\n          margin-right: 16rpx;\n          flex-shrink: 0;\n        }\n\n        .reply-content-wrapper {\n          flex: 1;\n          font-size: 24rpx;\n          line-height: 36rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°è¡Œé«˜ï¼ˆåŸ40rpxï¼‰\n          min-width: 0;\n          word-break: break-word;\n          overflow-wrap: break-word;\n\n          .reply-username {\n            color: #666;\n            font-weight: 600;\n          }\n\n          .reply-text {\n            color: #333;\n          }\n        }\n\n        .reply-like-btn {\n          position: absolute;\n          right: 0;\n          top: 0;\n          padding: 4rpx;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          min-width: 32rpx;\n          flex-shrink: 0;\n\n          .like-count {\n            font-size: 18rpx;\n            color: #666;\n            margin-top: 2rpx;\n          }\n        }\n      }\n\n      .show-more-replies {\n        text-align: center;\n        padding: 12rpx 0;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°å†…è¾¹è·ï¼ˆåŸ16rpxï¼‰\n        margin-top: 8rpx;  // ğŸ”¥ ä¿®æ”¹ï¼šå‡å°é¡¶éƒ¨é—´è·ï¼ˆåŸ12rpxï¼‰\n        font-size: 22rpx;\n        color: #C00000;\n        cursor: pointer;\n      }\n    }\n  }\n}\n\n\n\r\n    .message-input-box {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 16rpx 24rpx;\r\n      border-top: 1rpx solid #f5f5f5;\r\n      background: #fff;\r\n  \r\n      .message-input {\r\n        flex: 1;\r\n        height: 56rpx;\r\n        background: #f8f9fa;\r\n        border-radius: 28rpx;\r\n        padding: 0 20rpx;\r\n        font-size: 26rpx;\r\n        margin-right: 12rpx;\r\n        border: 1rpx solid #e9ecef;\r\n      }\r\n  \r\n      .send-btn {\r\n        padding: 12rpx 20rpx;\r\n        background: #e9ecef;\r\n        color: #999;\r\n        border-radius: 20rpx;\r\n        font-size: 26rpx;\r\n        transition: all 0.3s;\r\n        flex-shrink: 0;\r\n  \r\n        &.active {\r\n          background: #C00000;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // å›å¤å¼¹çª—æ ·å¼\r\n  .reply-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 1002;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    transition: all 0.3s;\r\n  \r\n    &.show {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n  \r\n  .reply-panel {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: #fff;\r\n    border-radius: 20rpx 20rpx 0 0;\r\n    z-index: 1003;\r\n    display: flex;\r\n    flex-direction: column;\r\n    transform: translateY(100%);\r\n    transition: transform 0.3s;\r\n    max-height: 60vh;\r\n  \r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n  \r\n    .reply-header {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 24rpx;\r\n      border-bottom: 1rpx solid #f5f5f5;\r\n  \r\n      .reply-title {\r\n        font-size: 28rpx;\r\n        font-weight: 600;\r\n        color: #333;\r\n      }\r\n    }\r\n  \r\n    .reply-input-box {\r\n      padding: 24rpx;\r\n  \r\n      .reply-textarea {\r\n        width: 100%;\r\n        min-height: 120rpx;\r\n        max-height: 200rpx;\r\n        background: #f8f9fa;\r\n        border-radius: 12rpx;\r\n        padding: 16rpx;\r\n        font-size: 26rpx;\r\n        line-height: 1.5;\r\n        border: 1rpx solid #e9ecef;\r\n        margin-bottom: 16rpx;\r\n        resize: none;\r\n        box-sizing: border-box;\r\n      }\r\n  \r\n      .reply-actions {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n  \r\n        .char-count {\r\n          font-size: 22rpx;\r\n          color: #999;\r\n        }\r\n  \r\n        .send-btn {\r\n          padding: 12rpx 24rpx;\r\n          background: #e9ecef;\r\n          color: #999;\r\n          border-radius: 20rpx;\r\n          font-size: 26rpx;\r\n          transition: all 0.3s;\r\n          flex-shrink: 0;\r\n  \r\n          &.active {\r\n            background: #C00000;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // ğŸ”¥ å¿«é€Ÿç•™è¨€å¼¹çª—æ ·å¼\r\n  .quick-reply-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 1004;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    transition: all 0.3s;\r\n  \r\n    &.show {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n  \r\n  .quick-reply-panel {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: #fff;\r\n    border-radius: 20rpx 20rpx 0 0;\r\n    z-index: 1005;\r\n    display: flex;\r\n    flex-direction: column;\r\n    transform: translateY(100%);\r\n    transition: transform 0.3s;\r\n    max-height: 60vh;\r\n    box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n  \r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n  \r\n    .quick-reply-header {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 24rpx;\r\n      border-bottom: 1rpx solid #f5f5f5;\r\n  \r\n      .quick-reply-title {\r\n        font-size: 28rpx;\r\n        font-weight: 600;\r\n        color: #333;\r\n      }\r\n    }\r\n  \r\n    .quick-reply-input-box {\r\n      padding: 24rpx;\r\n  \r\n      .quick-reply-textarea {\r\n        width: 100%;\r\n        min-height: 120rpx;\r\n        max-height: 300rpx;\r\n        background: #f8f9fa;\r\n        border-radius: 12rpx;\r\n        padding: 16rpx;\r\n        font-size: 26rpx;\r\n        line-height: 1.5;\r\n        border: 1rpx solid #e9ecef;\r\n        margin-bottom: 16rpx;\r\n        resize: none;\r\n        box-sizing: border-box;\r\n      }\r\n  \r\n      .quick-reply-actions {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n  \r\n        .char-count {\r\n          font-size: 22rpx;\r\n          color: #999;\r\n        }\r\n  \r\n        .send-btn {\r\n          padding: 12rpx 24rpx;\r\n          background: #e9ecef;\r\n          color: #999;\r\n          border-radius: 20rpx;\r\n          font-size: 26rpx;\r\n          transition: all 0.3s;\r\n          flex-shrink: 0;\r\n  \r\n          &.active {\r\n            background: #C00000;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // ğŸ”¥ è¡¨æƒ…é€‰æ‹©å™¨æ ·å¼\r\n  .emoji-picker-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 2000;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    transition: all 0.3s;\r\n  \r\n    &.show {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n  \r\n  .emoji-picker-panel {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 480rpx;\r\n    background: #fff;\r\n    border-radius: 20rpx 20rpx 0 0;\r\n    z-index: 2001;\r\n    display: flex;\r\n    flex-direction: column;\r\n    transform: translateY(100%);\r\n    transition: transform 0.3s;\r\n    box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n  \r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n  \r\n    .emoji-picker-header {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 20rpx 24rpx;\r\n      border-bottom: 1rpx solid #f5f5f5;\r\n      flex-shrink: 0;\r\n  \r\n      .emoji-picker-title {\r\n        font-size: 28rpx;\r\n        font-weight: 600;\r\n        color: #333;\r\n      }\r\n    }\r\n  \r\n    .emoji-grid-container {\r\n      flex: 1;\r\n      overflow-y: auto;\r\n    }\r\n  \r\n    .emoji-grid {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      padding: 16rpx;\r\n  \r\n      .emoji-item {\r\n        width: 20%;\r\n        padding: 16rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        box-sizing: border-box;\r\n  \r\n        &:active {\r\n          background: #f5f5f5;\r\n          border-radius: 8rpx;\r\n        }\r\n  \r\n        .emoji-icon {\r\n          width: 60rpx;\r\n          height: 60rpx;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // ğŸ”¥ è¡¨æƒ…æŒ‰é’®æ ·å¼\r\n  .emoji-btn {\r\n    padding: 8rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-shrink: 0;\r\n    \r\n    &:active {\r\n      opacity: 0.6;\r\n    }\r\n  }\r\n  \r\n  .emoji-btn-inline {\r\n    padding: 8rpx 12rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-shrink: 0;\r\n    \r\n    &:active {\r\n      opacity: 0.6;\r\n    }\r\n  }\r\n  \r\n  // ğŸ”¥ ç•™è¨€ä¸­çš„è¡¨æƒ…å›¾ç‰‡æ ·å¼\r\n  // âœ… æ­£ç¡®çš„å†™æ³•\r\n  .comment-content,\r\n  .message-text,\r\n  .reply-content-wrapper {\r\n    ::v-deep .emoji-image {\r\n      width: 40rpx !important;\r\n      height: 40rpx !important;\r\n      vertical-align: middle;\r\n      display: inline-block;\r\n      margin: 0 4rpx;\r\n    }\r\n  }\r\n  \r\n  // ä¿®æ”¹è¾“å…¥æ¡†åº•éƒ¨æŒ‰é’®å¸ƒå±€\r\n  .quick-reply-actions,\r\n  .reply-actions {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    gap: 8rpx;\r\n  }\r\n  \r\n  .message-input-box {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 16rpx 24rpx;\r\n    border-top: 1rpx solid #f5f5f5;\r\n    background: #fff;\r\n    gap: 8rpx;\r\n  \r\n    .message-input {\r\n      flex: 1;\r\n      height: 56rpx;\r\n      background: #f8f9fa;\r\n      border-radius: 28rpx;\r\n      padding: 0 20rpx;\r\n      font-size: 26rpx;\r\n      border: 1rpx solid #e9ecef;\r\n    }\r\n  \r\n    .emoji-btn-inline {\r\n      flex-shrink: 0;\r\n    }\r\n  \r\n    .send-btn {\r\n      padding: 12rpx 20rpx;\r\n      background: #e9ecef;\r\n      color: #999;\r\n      border-radius: 20rpx;\r\n      font-size: 26rpx;\r\n      transition: all 0.3s;\r\n      flex-shrink: 0;\r\n  \r\n      &.active {\r\n        background: #C00000;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  /* é®ç½©å±‚ */\r\n  .buy-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    z-index: 998;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    transition: all 0.3s ease;\r\n    \r\n    &.show {\r\n      opacity: 1;\r\n      visibility: visible;\r\n    }\r\n  }\r\n  \r\n  /* å¼¹çª—ä¸»ä½“ */\r\n  .buy-panel {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 80vh;\r\n    background-color: #fff;\r\n    border-radius: 24rpx 24rpx 0 0;\r\n    z-index: 999;\r\n    transform: translateY(100%);\r\n    transition: transform 0.3s ease;\r\n    display: flex;\r\n    flex-direction: column;\r\n    \r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  /* å¼¹çª—æ ‡é¢˜æ  */\r\n  .buy-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 32rpx;\r\n    border-bottom: 1rpx solid #f0f0f0;\r\n    flex-shrink: 0;\r\n    \r\n    .buy-title {\r\n      font-size: 36rpx;\r\n      font-weight: 600;\r\n      color: #333;\r\n    }\r\n  }\r\n  \r\n  /* å•†å“ä¿¡æ¯åŒºåŸŸ */\r\n  .buy-goods-info {\r\n    display: flex;\r\n    padding: 32rpx;\r\n    border-bottom: 1rpx solid #f0f0f0;\r\n    flex-shrink: 0;\r\n    \r\n    .buy-goods-image {\r\n      width: 160rpx;\r\n      height: 160rpx;\r\n      border-radius: 12rpx;\r\n      margin-right: 24rpx;\r\n      flex-shrink: 0;\r\n    }\r\n    \r\n    .buy-goods-detail {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      \r\n      .buy-goods-name {\r\n        font-size: 28rpx;\r\n        color: #333;\r\n        line-height: 1.5;\r\n        display: -webkit-box;\r\n        -webkit-box-orient: vertical;\r\n        -webkit-line-clamp: 2;\r\n        overflow: hidden;\r\n      }\r\n      \r\n      .buy-goods-price-row {\r\n        display: flex;\r\n        align-items: baseline;\r\n        \r\n        .buy-price-symbol {\r\n          font-size: 28rpx;\r\n          color: #ff6b6b;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .buy-price-value {\r\n          font-size: 40rpx;\r\n          color: #ff6b6b;\r\n          font-weight: 700;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* æ”¶è´§åœ°å€åŒºåŸŸ */\r\n  .buy-address-section {\r\n    flex: 1;\r\n    padding: 32rpx;\r\n    overflow-y: auto;\r\n    \r\n    .buy-section-title {\r\n      font-size: 28rpx;\r\n      color: #333;\r\n      font-weight: 600;\r\n      margin-bottom: 20rpx;\r\n      \r\n      .required-mark {\r\n        color: #ff6b6b;\r\n        margin-left: 8rpx;\r\n      }\r\n    }\r\n    \r\n    .buy-address-input {\r\n      width: 100%;\r\n      min-height: 160rpx;\r\n      padding: 20rpx;\r\n      background-color: #f8f8f8;\r\n      border-radius: 12rpx;\r\n      font-size: 28rpx;\r\n      color: #333;\r\n      line-height: 1.6;\r\n      box-sizing: border-box;\r\n    }\r\n    \r\n    .address-char-count {\r\n      text-align: right;\r\n      font-size: 24rpx;\r\n      color: #999;\r\n      margin-top: 12rpx;\r\n    }\r\n    \r\n    /* é»˜è®¤åœ°å€å¤é€‰æ¡† */\r\n    .default-address-checkbox {\r\n      margin-top: 32rpx;\r\n      \r\n      .checkbox-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        \r\n        .checkbox {\r\n          width: 40rpx;\r\n          height: 40rpx;\r\n          border: 2rpx solid #ddd;\r\n          border-radius: 8rpx;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          margin-right: 16rpx;\r\n          transition: all 0.2s;\r\n          \r\n          &.checked {\r\n            background-color: #07c160;\r\n            border-color: #07c160;\r\n            \r\n            .checkbox-icon {\r\n              color: #fff;\r\n              font-size: 28rpx;\r\n              font-weight: bold;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .checkbox-label {\r\n          font-size: 28rpx;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* è´­ä¹°æŒ‰é’®åŒºåŸŸ */\r\n  .buy-action-section {\r\n    padding: 24rpx 32rpx;\r\n    padding-bottom: calc(24rpx + env(safe-area-inset-bottom));\r\n    border-top: 1rpx solid #f0f0f0;\r\n    flex-shrink: 0;\r\n    \r\n    .confirm-buy-btn {\r\n      width: 100%;\r\n      height: 88rpx;\r\n      background: linear-gradient(135deg, #ffb3b3 0%, #ff6b6b 100%);\r\n      border-radius: 44rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      opacity: 0.5;\r\n      transition: all 0.3s;\r\n      \r\n      &.active {\r\n        opacity: 1;\r\n        box-shadow: 0 8rpx 24rpx rgba(255, 107, 107, 0.3);\r\n      }\r\n      \r\n      text {\r\n        font-size: 32rpx;\r\n        color: #fff;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n  \r\n  </style>","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1762677684091\n      var cssReload = require(\"D:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}