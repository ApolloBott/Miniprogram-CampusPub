{"version":3,"sources":["uni-app:///main.js","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/subpkg/post-detail/post-detail.vue?8d5c","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/subpkg/post-detail/post-detail.vue?38ba","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/subpkg/post-detail/post-detail.vue?bbdb","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/subpkg/post-detail/post-detail.vue?3ab9","uni-app:///subpkg/post-detail/post-detail.vue","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/subpkg/post-detail/post-detail.vue?33b4","webpack:///E:/ECNU/front-end/Miniprogram-CampusPub/subpkg/post-detail/post-detail.vue?eb38"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","postId","post","commentList","commentPage","commentPageSize","commentHasMore","isLoadingComments","commentContent","isSubmittingComment","replyTarget","showReplyModal","loadingMoreReplies","showEmojiPicker","currentEmojiSet","emojiList","id","name","url","code","miniEmojiList","iconLikeUrl","iconLikedUrl","iconCommentUrl","onLoad","onUnload","console","prevPageVm","isLiked","likeCount","methods","togglePostLike","uni","post_id","openid","is_like","res","parsePostTags","handleReplyClick","nickname","user_openid","parent_id","parseEmojiContent","size","allEmojis","html","regex","emoji","escapeRegExp","toggleEmojiPicker","insertEmoji","onInputChange","switchEmojiSet","loadPostDetail","created_at","title","icon","loadComments","page","pageSize","current_user_openid","loadMoreReplies","comment_id","commentIndex","toggleCommentLike","comment","showQuickReply","hideReplyInput","submitComment","content","params","avatar","deleteComment","success","result","formatPostTime","formatCommentTime","timestamp","previewImage","urls","current","reportUser","editable","placeholderText","reason","reportData","reporter_openid","reported_openid","apiRes","showPostMenu","itemList","deletePost","setTimeout","computed","displayEmojiList"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AACyM;AACzM,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAyxB,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACsP7yB;AAAA;AAAA;AAEA;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACAC;MAEA;MACAC,YACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EACA;MAEA;MACAC,gBACA;QAAAJ;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EACA;MAEA;MACAE;MACAC;MACAC;IACA;EACA;EAEAC;IACA;IACA;MACA;MACA;MACA;IACA;EACA;EAEAC;IACA;IACAC;IAEA;MACA;;MAEA;MACA;;MAEA;MACA;QAAA;QACAC;UACA1B;UACA2B;UACAC;QACA;QAEAH;UACAzB;UACA2B;UACAC;QACA;MACA;QACAH;MACA;IACA;EACA;EAEAI;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBACAC;kBACAd;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAGAc;kBACAC;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAJAC;gBAKA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAV;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAW;MACA;QACA;MACA;MACA;QACA;UAAA;QAAA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAN;UACAd;QACA;QACA;MACA;MACA;QACA;UACAF;UACAuB;UACAC;UACAC;QACA;MACA;QACA;UACAzB;UACAuB;UACAC;UACAC;QACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MAEA;MAEA,2DAEA;QAAA;UAAAC;QAAA;MAAA,sCAEA;QAAA;UAAAA;QAAA;MAAA,IACA;MAEAC;QACA;QACAC,oBACAC,4BACAC,mKACA;MACA;MAEA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEArB;kBACAhB;kBACAkB;gBACA;c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","file":"subpkg/post-detail/post-detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/post-detail/post-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./post-detail.vue?vue&type=template&id=0a416b90&\"\nvar renderjs\nimport script from \"./post-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./post-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post-detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/post-detail/post-detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post-detail.vue?vue&type=template&id=0a416b90&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.post ? _vm.parsePostTags(_vm.post.properties) : null\n  var g0 = _vm.post ? _vm.post.images && _vm.post.images.length > 0 : null\n  var l2 = _vm.__map(_vm.commentList, function (comment, __i0__) {\n    var $orig = _vm.__get_orig(comment)\n    var m0 = _vm.formatCommentTime(comment.created_at)\n    var m1 = _vm.parseEmojiContent(comment.content)\n    var g1 = comment.replies && comment.replies.length > 0\n    var l1 = g1\n      ? _vm.__map(comment.replies, function (reply, __i1__) {\n          var $orig = _vm.__get_orig(reply)\n          var m2 = _vm.formatCommentTime(reply.created_at)\n          var m3 = _vm.parseEmojiContent(reply.content)\n          return {\n            $orig: $orig,\n            m2: m2,\n            m3: m3,\n          }\n        })\n      : null\n    var g2 = g1 && comment.has_more_replies ? comment.replies.length : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      g1: g1,\n      l1: l1,\n      g2: g2,\n    }\n  })\n  var g3 = _vm.commentList.length === 0 && !_vm.isLoadingComments\n  var g4 = _vm.showReplyModal ? _vm.commentContent.length : null\n  var g5 = _vm.showReplyModal ? _vm.commentContent.trim() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g0: g0,\n        l2: l2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post-detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"post-detail-page\">\r\n\t\t<scroll-view class=\"post-content-area\" scroll-y>\r\n\t\t\t<view class=\"post-detail\" v-if=\"post\">\r\n\t\t\t\t<view class=\"post-header\">\r\n\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"post.avatar || '/static/default-avatar.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"user-detail\">\r\n\t\t\t\t\t\t\t<text class=\"nickname\">{{ post.nickname }}</text>\r\n\t\t\t\t\t\t\t<view class=\"post-meta\">\r\n\t\t\t\t\t\t\t\t<text class=\"post-time\">{{ post.created_at }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"post-views\">{{ post.viewCount }}äººæµè§ˆ</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"iconfont more-btn\" @click=\"showPostMenu\">â‹®</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"text-content\">\r\n\t\t\t\t\t  <text class=\"content-text\">\r\n\t\t\t\t\t    {{ post.content }}\r\n\t\t\t\t\t    <text \r\n\t\t\t\t\t      class=\"tag-item\"\r\n\t\t\t\t\t      v-for=\"(tag, index) in parsePostTags(post.properties)\"\r\n\t\t\t\t\t      :key=\"index\"\r\n\t\t\t\t\t    >\r\n\t\t\t\t\t      #{{ tag }}\r\n\t\t\t\t\t    </text>\r\n\t\t\t\t\t  </text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t<view class=\"post-images\" v-if=\"post.images && post.images.length > 0\">\r\n\t\t\t\t\t<image \r\n\t\t\t\t\t\tv-for=\"(img, index) in post.images\" \r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\tclass=\"post-image\"\r\n\t\t\t\t\t\t:src=\"img\" \r\n\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t@click=\"previewImage(post.images, index)\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"divider\"></view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"comments-title\">\r\n\t\t\t\t\t<text>è¯„è®º ({{ post.commentCount }})</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"comments-list\">\r\n\t\t\t\t<view class=\"comment-item\" v-for=\"comment in commentList\" :key=\"comment.id\">\r\n\t\t\t\t\t<view class=\"comment-main\" @click=\"handleReplyClick(comment)\">\r\n\t\t\t\t\t\t<view class=\"comment-header\" @click.stop>\r\n\t\t\t\t\t\t\t<image class=\"comment-avatar\" :src=\"comment.avatar || '/static/default-avatar.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view class=\"comment-info\" @click=\"handleReplyClick(comment)\">\r\n\t\t\t\t\t\t\t\t<view class=\"nickname-row\" @click=\"handleReplyClick(comment)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"comment-nickname\" @click=\"handleReplyClick(comment)\">{{ comment.nickname }}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"author-badge\" v-if=\"comment.is_author\">ä½œè€…</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"comment-time\">{{ formatCommentTime(comment.created_at) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"comment-actions\">\r\n\t\t\t\t\t\t\t\t<view class=\"like-btn\" @click.stop=\"toggleCommentLike(comment)\">\r\n\t\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\t\tclass=\"like-icon-img\"\r\n\t\t\t\t\t\t\t\t\t\t:src=\"comment.is_liked ? 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/liked.png' : 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/like.png'\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"{ 'liked-animation': comment.is_liked }\"\r\n\t\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"like-count\" v-if=\"comment.like_count > 0\">{{ comment.like_count }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\tclass=\"delete-btn-img\"\r\n\t\t\t\t\t\t\t\t\tsrc=\"https://wait00.oss-cn-shanghai.aliyuncs.com/label/shanchu.png\"\r\n\t\t\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t\t\t\t@click.stop=\"deleteComment(comment.id)\"\r\n\t\t\t\t\t\t\t\t\tv-if=\"comment.user_openid === openid\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"comment-content\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"parseEmojiContent(comment.content)\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"replies-section\" v-if=\"comment.replies && comment.replies.length > 0\">\r\n\t\t\t\t\t\t<view class=\"reply-item\" v-for=\"reply in comment.replies\" :key=\"reply.id\" @click=\"handleReplyClick(reply, comment)\">\r\n\t\t\t\t\t\t\t<view class=\"reply-header\" @click.stop>\r\n\t\t\t\t\t\t\t\t<image class=\"reply-avatar\" :src=\"reply.avatar || '/static/default-avatar.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"reply-info\" @click=\"handleReplyClick(reply, comment)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"reply-nickname-row\" @click=\"handleReplyClick(reply, comment)\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"reply-nickname\" @click=\"handleReplyClick(reply, comment)\">{{ reply.nickname }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"author-badge\" v-if=\"reply.is_author\">ä½œè€…</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"reply-arrow\" v-if=\"reply.reply_to_nickname\"> â†’ </text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"reply-target\" v-if=\"reply.reply_to_nickname\">{{ reply.reply_to_nickname }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<text class=\"reply-time\">{{ formatCommentTime(reply.created_at) }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"reply-actions\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"like-btn\" @click.stop=\"toggleCommentLike(reply)\">\r\n\t\t\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"like-icon-img\"\r\n\t\t\t\t\t\t\t\t\t\t\t:src=\"reply.is_liked ? 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/liked.png' : 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/like.png'\"\r\n\t\t\t\t\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'liked-animation': reply.is_liked }\"\r\n\t\t\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"like-count\" v-if=\"reply.like_count > 0\">{{ reply.like_count }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\t\tclass=\"delete-btn-img\"\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://wait00.oss-cn-shanghai.aliyuncs.com/label/shanchu.png\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"deleteComment(reply.id)\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"reply.user_openid === openid\"\r\n\t\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"reply-content\">\r\n\t\t\t\t\t\t\t\t<rich-text :nodes=\"parseEmojiContent(reply.content)\"></rich-text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tclass=\"more-replies-btn\" \r\n\t\t\t\t\t\t\tv-if=\"comment.has_more_replies\" \r\n\t\t\t\t\t\t\t@click.stop=\"loadMoreReplies(comment)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<text>æŸ¥çœ‹æ›´å¤šå›å¤ ({{ comment.reply_count - comment.replies.length }})</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"comment-load-more\" v-if=\"commentHasMore\">\r\n\t\t\t\t<text class=\"load-text\">åŠ è½½æ›´å¤šè¯„è®º</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"no-comments\" v-if=\"commentList.length === 0 && !isLoadingComments\">\r\n\t\t\t\t<text>è¿˜æ²¡æœ‰è¯„è®ºï¼Œå¿«æ¥æŠ¢æ²™å‘å§ï¼</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t<view class=\"bottom-action-bar\">\r\n\t\t\t<view class=\"input-trigger\" @click=\"showQuickReply\">\r\n\t\t\t\t<text class=\"input-placeholder\">è¯´è¯´ä½ çš„æƒ³æ³•...</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-group\">\r\n\t\t\t    <view class=\"action-item\" @click=\"togglePostLike\">\r\n\t\t\t      <image \r\n\t\t\t        class=\"action-icon-img\" \r\n\t\t\t        :src=\"post && post.isLiked ? iconLikedUrl : iconLikeUrl\" \r\n\t\t\t        mode=\"aspectFit\"\r\n\t\t\t      ></image>\r\n\t\t\t      <text class=\"action-text\">{{ post ? post.likeCount : 0 }}</text>\r\n\t\t\t    </view>\r\n\t\t\t    <view class=\"action-item\" @click=\"showQuickReply\">\r\n\t\t\t      <image \r\n\t\t\t        class=\"action-icon-img\" \r\n\t\t\t        :src=\"iconCommentUrl\" \r\n\t\t\t        mode=\"aspectFit\"\r\n\t\t\t      ></image>\r\n\t\t\t      <text class=\"action-text\">{{ post ? post.commentCount : 0 }}</text>\r\n\t\t\t    </view>\r\n\t\t\t  </view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"reply-modal\" v-if=\"showReplyModal\" @click=\"hideReplyInput\">\r\n\t\t\t<view class=\"reply-modal-content\" @click.stop>\r\n\t\t\t\t<view class=\"reply-header\">\r\n\t\t\t\t\t<text class=\"reply-title\">\r\n\t\t\t\t\t\t{{ replyTarget ? 'å›å¤ @' + replyTarget.nickname : 'å†™è¯„è®º' }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text class=\"close-btn\" @click=\"hideReplyInput\">Ã—</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"input-wrapper\">\r\n\t\t\t\t\t<textarea \r\n\t\t\t\t\t\tclass=\"reply-textarea\" \r\n\t\t\t\t\t\tv-model=\"commentContent\"\r\n\t\t\t\t\t\t:placeholder=\"replyTarget ? 'å›å¤ @' + replyTarget.nickname : 'å†™ä¸ªè¯„è®º...'\"\r\n\t\t\t\t\t\t:focus=\"showReplyModal && !showEmojiPicker\"\r\n\t\t\t\t\t\tauto-height\r\n\t\t\t\t\t\tmaxlength=\"500\"\r\n\t\t\t\t\t\t@input=\"onInputChange\"\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"emoji-btn\" @click.stop=\"toggleEmojiPicker\">\r\n\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\tv-if=\"!showEmojiPicker\"\r\n\t\t\t\t\t\t\tclass=\"emoji-icon-img\"\r\n\t\t\t\t\t\t\tsrc=\"https://wait00.oss-cn-shanghai.aliyuncs.com/label/biaoqing.png\"\r\n\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\tv-if=\"showEmojiPicker\"\r\n\t\t\t\t\t\t\tclass=\"emoji-icon-img\"\r\n\t\t\t\t\t\t\tsrc=\"https://wait00.oss-cn-shanghai.aliyuncs.com/label/jianpan.png\"\r\n\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"emoji-picker\" v-if=\"showEmojiPicker\" @click.stop>\r\n\t\t\t\t\t<view class=\"emoji-tabs\">\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tclass=\"tab-item\" \r\n\t\t\t\t\t\t\t:class=\"{ 'active': currentEmojiSet === 'mini' }\" \r\n\t\t\t\t\t\t\t@click=\"switchEmojiSet('mini')\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tå°è¡¨æƒ…\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tclass=\"tab-item\" \r\n\t\t\t\t\t\t\t:class=\"{ 'active': currentEmojiSet === 'large' }\" \r\n\t\t\t\t\t\t\t@click=\"switchEmojiSet('large')\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tå¤§è¡¨æƒ…\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"emoji-list\">\r\n\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\tclass=\"emoji-item\"\r\n\t\t\t\t\t\t\tv-for=\"(emoji, index) in displayEmojiList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"insertEmoji(emoji)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\tclass=\"emoji-image\" \r\n\t\t\t\t\t\t\t\t:src=\"emoji.url\" \r\n\t\t\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"reply-actions\">\r\n\t\t\t\t\t<view class=\"char-count\">{{ commentContent.length }}/500</view>\r\n\t\t\t\t\t<view class=\"submit-btn\" @click=\"submitComment\" :class=\"{ 'disabled': !commentContent.trim() }\">\r\n\t\t\t\t\t\t<text>å‘é€</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\n// âœ… æ–°å¢ï¼šå°è¡¨æƒ…åŸºç¡€è·¯å¾„\r\nconst BASE_URL_SMALL = 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-small/';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpostId: null,\r\n\t\t\tpost: null,\r\n\t\t\tcommentList: [],\r\n\t\t\tcommentPage: 1,\r\n\t\t\tcommentPageSize: 20,\r\n\t\t\tcommentHasMore: true,\r\n\t\t\tisLoadingComments: false,\r\n\t\t\tcommentContent: '',\r\n\t\t\tisSubmittingComment: false,\r\n\t\t\treplyTarget: null,\r\n\t\t\tshowReplyModal: false,\r\n\t\t\tloadingMoreReplies: new Set(),\r\n\t\t\tshowEmojiPicker: false,\r\n\t\t\t\r\n\t\t\t// âœ… æ–°å¢ï¼šé»˜è®¤é€‰ä¸­ 'mini'\r\n\t\t\tcurrentEmojiSet: 'mini',\r\n\t\t\t\r\n\t\t\t// âœ… ä¿®æ”¹ï¼šç¬¬ä¸€å¥—å¤§è¡¨æƒ…\r\n\t\t\temojiList: [\r\n\t\t\t\t{ id: 1, name: 'happy', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-1.png', code: '[å¾®ç¬‘]' },\r\n\t\t\t\t{ id: 2, name: 'laugh', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-2.png', code: '[å¤§ç¬‘]' },\r\n\t\t\t\t{ id: 3, name: 'love', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-3.png', code: '[ç¬‘å“­]' },\r\n\t\t\t\t{ id: 4, name: 'cool', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-4.png', code: '[éš¾è¿‡]' },\r\n\t\t\t\t{ id: 5, name: 'sad', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-5.png', code: '[å¤§å“­]' },\r\n\t\t\t\t{ id: 6, name: 'cry', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-6.png', code: '[ç–‘é—®]' },\r\n\t\t\t\t{ id: 7, name: 'angry', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-7.png', code: '[çˆ±å¿ƒ]' },\r\n\t\t\t\t{ id: 8, name: 'surprise', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-8.png', code: '[å¾—æ„]' },\r\n\t\t\t\t{ id: 9, name: 'thinking', url: 'https://wait00.oss-cn-shanghai.aliyuncs.com/emoji/emoji-9.png', code: '[æƒŠæ]' },\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\t// âœ… æ–°å¢ï¼šç¬¬äºŒå¥—å°è¡¨æƒ…\r\n\t\t\tminiEmojiList: [\r\n\t\t\t\t{ id: 10, name: 'mini-1', url: `${BASE_URL_SMALL}1weixiao.png`, code: '(å¾®ç¬‘)' },\r\n\t\t\t\t{ id: 11, name: 'mini-2', url: `${BASE_URL_SMALL}2piezui.png`, code: '(æ’‡å˜´)' },\r\n\t\t\t\t{ id: 12, name: 'mini-3', url: `${BASE_URL_SMALL}3yanchan.png`, code: '(é¦‹)' },\r\n\t\t\t\t{ id: 13, name: 'mini-4', url: `${BASE_URL_SMALL}4jingya.png`, code: '(æƒŠè®¶)' },\r\n\t\t\t\t{ id: 14, name: 'mini-5', url: `${BASE_URL_SMALL}5mojing.png`, code: '(ç§€)' },\r\n\t\t\t\t{ id: 15, name: 'mini-6', url: `${BASE_URL_SMALL}6daku.png`, code: '(å“­)' },\r\n\t\t\t\t{ id: 16, name: 'mini-7', url: `${BASE_URL_SMALL}7wuzui.png`, code: '(é—­éº¦)' },\r\n\t\t\t\t{ id: 17, name: 'mini-8', url: `${BASE_URL_SMALL}8ganga.png`, code: '(å°´å°¬)' },\r\n\t\t\t\t{ id: 18, name: 'mini-9', url: `${BASE_URL_SMALL}9shengqi.png`, code: '(å‘æ€’)' },\r\n\t\t\t\t{ id: 19, name: 'mini-10', url: `${BASE_URL_SMALL}10daxiao.png`, code: '(å¤§ç¬‘)' },\r\n\t\t\t\t{ id: 20, name: 'mini-11', url: `${BASE_URL_SMALL}10yumen.png`, code: '(éƒé—·)' },\r\n\t\t\t\t{ id: 21, name: 'mini-12', url: `${BASE_URL_SMALL}11nanguo.png`, code: '(éš¾è¿‡)' },\r\n\t\t\t\t{ id: 22, name: 'mini-13', url: `${BASE_URL_SMALL}11tushe.png`, code: '(è°ƒçš®)' },\r\n\t\t\t\t{ id: 23, name: 'mini-14', url: `${BASE_URL_SMALL}12exin.png`, code: '(å)' },\r\n\t\t\t\t{ id: 24, name: 'mini-15', url: `${BASE_URL_SMALL}13touxiao.png`, code: '(å·ç¬‘)' },\r\n\t\t\t\t{ id: 25, name: 'mini-16', url: `${BASE_URL_SMALL}14yukuai.png`, code: '(æ„‰å¿«)' },\r\n\t\t\t\t{ id: 26, name: 'mini-17', url: `${BASE_URL_SMALL}16heng.png`, code: '(å“¼)' },\r\n\t\t\t\t{ id: 27, name: 'mini-18', url: `${BASE_URL_SMALL}17kouzhao.png`, code: '(ç”Ÿç—…)' },\r\n\t\t\t\t{ id: 28, name: 'mini-19', url: `${BASE_URL_SMALL}18haqian.png`, code: '(å›°)' },\r\n\t\t\t\t{ id: 29, name: 'mini-20', url: `${BASE_URL_SMALL}19yihuo.png`, code: '(ç–‘æƒ‘)' },\r\n\t\t\t\t{ id: 30, name: 'mini-21', url: `${BASE_URL_SMALL}20shiwang.png`, code: '(å¤±æœ›)' },\r\n\t\t\t\t{ id: 31, name: 'mini-22', url: `${BASE_URL_SMALL}21zhuakuang.png`, code: '(æŠ“ç‹‚)' },\r\n\t\t\t\t{ id: 32, name: 'mini-23', url: `${BASE_URL_SMALL}22yun.png`, code: '(æ™•)' },\r\n\t\t\t\t{ id: 33, name: 'mini-24', url: `${BASE_URL_SMALL}23duzui.png`, code: '(å˜Ÿå˜´)' },\r\n\t\t\t\t{ id: 34, name: 'mini-25', url: `${BASE_URL_SMALL}24deyi.png`, code: '(å¾—æ„)' },\r\n\t\t\t\t{ id: 35, name: 'mini-26', url: `${BASE_URL_SMALL}25wasai.png`, code: '(å“‡å¡)' },\r\n\t\t\t\t{ id: 36, name: 'mini-27', url: `${BASE_URL_SMALL}26hanxiao.png`, code: '(æ†¨ç¬‘)' },\r\n\t\t\t\t{ id: 37, name: 'mini-28', url: `${BASE_URL_SMALL}27jinghuang.png`, code: '(æƒŠæ…Œ)' },\r\n\t\t\t\t{ id: 38, name: 'mini-29', url: `${BASE_URL_SMALL}28yinxian.png`, code: '(é˜´é™©)' },\r\n\t\t\t\t{ id: 39, name: 'mini-30', url: `${BASE_URL_SMALL}29meigui.png`, code: '(ç«ç‘°)' },\r\n\t\t\t\t{ id: 40, name: 'mini-31', url: `${BASE_URL_SMALL}30chigua.png`, code: '(åƒç“œ)' },\r\n\t\t\t\t{ id: 41, name: 'mini-32', url: `${BASE_URL_SMALL}31xiaoku.png`, code: '(ç¬‘å“­)' },\r\n\t\t\t\t{ id: 42, name: 'mini-33', url: `${BASE_URL_SMALL}32feiwen.png`, code: '(é£å»)' },\r\n\t\t\t\t{ id: 43, name: 'mini-34', url: `${BASE_URL_SMALL}33haode.png`, code: '(å¥½çš„)' },\r\n\t\t\t\t{ id: 44, name: 'mini-35', url: `${BASE_URL_SMALL}34liekai.png`, code: '(è£‚å¼€)' },\r\n\t\t\t\t{ id: 45, name: 'mini-36', url: `${BASE_URL_SMALL}35wuyu.png`, code: '(æ— è¯­)' },\r\n\t\t\t\t{ id: 46, name: 'mini-37', url: `${BASE_URL_SMALL}36huanhu.png`, code: '(æ¬¢å‘¼)' },\r\n\t\t\t\t{ id: 47, name: 'mini-38', url: `${BASE_URL_SMALL}37emo.png`, code: '(emo)' },\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\t// âœ… ä¿®æ”¹ï¼šæ›¿æ¢ä¸ºé˜¿é‡Œäº‘å›¾æ ‡è·¯å¾„\r\n\t\t\ticonLikeUrl: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/like.png',\r\n\t\t\ticonLikedUrl: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/liked.png',\r\n\t\t\ticonCommentUrl: 'https://wait00.oss-cn-shanghai.aliyuncs.com/label/chat.png',\r\n\t\t}\r\n\t},\r\n\t\r\n\tonLoad(options) {\r\n\t\t// ... (ä¸å˜)\r\n\t\tif (options.id) {\r\n\t\t\tthis.postId = options.id;\r\n\t\t\tthis.loadPostDetail();\r\n\t\t\tthis.loadComments();\r\n\t\t}\r\n\t},\r\n\t\r\n\tonUnload() {\r\n\t  const pages = getCurrentPages()\r\n\t  console.log('imhere')\r\n\t  \r\n\t  if (pages.length > 1) {\r\n\t    const prevPage = pages[pages.length - 2]\r\n\t    \r\n\t    // ğŸ”¥ å…³é”®ï¼šé€šè¿‡ $vm è®¿é—® Vue ç»„ä»¶å®ä¾‹\r\n\t    const prevPageVm = prevPage.$vm || prevPage\r\n\t    \r\n\t    // æ£€æŸ¥æ–¹æ³•æ˜¯å¦å­˜åœ¨\r\n\t    if (prevPageVm && typeof prevPageVm.updatePostLikeStatus === 'function') {\r\n\t      prevPageVm.updatePostLikeStatus({\r\n\t        postId: parseInt(this.postId),\r\n\t        isLiked: this.post ? this.post.isLiked : false,\r\n\t        likeCount: this.post ? this.post.likeCount : 0\r\n\t      })\r\n\t      \r\n\t      console.log('âœ… å·²ä¼ é€’ç‚¹èµçŠ¶æ€:', {\r\n\t        postId: this.postId,\r\n\t        isLiked: this.post?.isLiked,\r\n\t        likeCount: this.post?.likeCount\r\n\t      })\r\n\t    } else {\r\n\t      console.warn('âš ï¸ ä¸Šä¸€ä¸ªé¡µé¢æ²¡æœ‰ updatePostLikeStatus æ–¹æ³•')\r\n\t    }\r\n\t  }\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\t// ... (togglePostLike, parsePostTags, handleReplyClick ä¸å˜) ...\r\n\t\tasync togglePostLike() {\r\n\t\t\ttry {\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t  uni.switchTab({\r\n\t\t\t\t    url: '/pages/my/my'\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\r\n\t\t\t\tconst { data: res } = await uni.$http.post('/posts/like', {\r\n\t\t\t\t\tpost_id: this.postId,\r\n\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\tis_like: !this.post.isLiked\r\n\t\t\t\t})\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tthis.post.isLiked = !this.post.isLiked\r\n\t\t\t\t\tthis.post.likeCount = res.message.like_count || 0\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('ç‚¹èµå¤±è´¥:', error)\r\n\t\t\t}\r\n\t\t},\r\n\t\tparsePostTags(properties) {\r\n\t\t  if (!properties || properties === 'null') {\r\n\t\t    return []\r\n\t\t  }\r\n\t\t  if (typeof properties === 'string') {\r\n\t\t    return properties.split(',').filter(tag => tag.trim())\r\n\t\t  }\r\n\t\t  if (Array.isArray(properties)) {\r\n\t\t    return properties\r\n\t\t  }\r\n\t\t  return []\r\n\t\t},\r\n\t\thandleReplyClick(comment, mainComment = null) {\r\n\t\t\tif (!this.openid) {\r\n\t\t\t  uni.switchTab({\r\n\t\t\t    url: '/pages/my/my'\r\n\t\t\t  })\r\n\t\t\t  return\r\n\t\t\t}\r\n\t\t\tif (mainComment) {\r\n\t\t\t\tthis.replyTarget = {\r\n\t\t\t\t\tid: comment.id,\r\n\t\t\t\t\tnickname: comment.nickname,\r\n\t\t\t\t\tuser_openid: comment.user_openid,\r\n\t\t\t\t\tparent_id: mainComment.id\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tthis.replyTarget = {\r\n\t\t\t\t\tid: comment.id,\r\n\t\t\t\t\tnickname: comment.nickname,\r\n\t\t\t\t\tuser_openid: comment.user_openid,\r\n\t\t\t\t\tparent_id: comment.id\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tthis.commentContent = '';\r\n\t\t\tthis.showReplyModal = true;\r\n\t\t\tthis.showEmojiPicker = false;\r\n\t\t},\r\n\t\t\r\n\t\t// âœ… ä¿®æ”¹ï¼šè§£æè¡¨æƒ…å†…å®¹ (ä½¿ç”¨æ–°å°ºå¯¸ 1.8em å’Œ 2.8em)\r\n\t\tparseEmojiContent(content) {\r\n\t\t\tif (!content) return '';\r\n\t\t\t\r\n\t\t\tlet html = content;\r\n\t\t\t\r\n\t\t\tconst allEmojis = [\r\n\t\t\t\t// å¤§è¡¨æƒ…å°ºå¯¸ 2.8em\r\n\t\t\t\t...this.emojiList.map(e => ({ ...e, size: '2.8em' })), \r\n\t\t\t\t// å°è¡¨æƒ…å°ºå¯¸ 1.8em\r\n\t\t\t\t...this.miniEmojiList.map(e => ({ ...e, size: '1.8em' })) \r\n\t\t\t];\r\n\t\t\t\r\n\t\t\tallEmojis.forEach(emoji => {\r\n\t\t\t\tconst regex = new RegExp(this.escapeRegExp(emoji.code), 'g');\r\n\t\t\t\thtml = html.replace(\r\n\t\t\t\t\tregex, \r\n\t\t\t\t\t`<img src=\"${emoji.url}\" style=\"width: ${emoji.size}; height: ${emoji.size}; vertical-align: text-bottom; margin: 0 2rpx; display: inline-block;\" />`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\t\r\n\t\tescapeRegExp(string) {\r\n\t\t\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n\t\t},\r\n\t\t\r\n\t\ttoggleEmojiPicker() {\r\n\t\t\tthis.showEmojiPicker = !this.showEmojiPicker;\r\n\t\t},\r\n\t\t\r\n\t\tinsertEmoji(emoji) {\r\n\t\t\tthis.commentContent += emoji.code;\r\n\t\t},\r\n\t\t\r\n\t\tonInputChange(e) {\r\n\t\t\tthis.commentContent = e.detail.value;\r\n\t\t},\r\n\t\t\r\n\t\t// âœ… æ–°å¢ï¼šåˆ‡æ¢è¡¨æƒ…é›†\r\n\t\tswitchEmojiSet(set) {\r\n\t\t  this.currentEmojiSet = set;\r\n\t\t},\r\n\t\t\r\n\t\t// ... (loadPostDetail, loadComments, loadMoreReplies, toggleCommentLike, showQuickReply, hideReplyInput, submitComment, deleteComment, formatPostTime, formatCommentTime, previewImage, reportUser, showPostMenu, deletePost ä¸å˜) ...\r\n\t\tasync loadPostDetail() {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/posts/detail', {\r\n\t\t\t\t\tid: this.postId,\r\n\t\t\t\t\topenid: this.openid\r\n\t\t\t\t});\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tthis.post = {\r\n\t\t\t\t\t\t...res.message,\r\n\t\t\t\t\t\tcreated_at: this.formatPostTime(res.message.created_at)\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.meta.msg || 'åŠ è½½å¤±è´¥',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('åŠ è½½å¸–å­è¯¦æƒ…å¤±è´¥:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync loadComments() {\r\n\t\t\ttry {\r\n\t\t\t\tif (this.isLoadingComments) return;\r\n\t\t\t\tthis.isLoadingComments = true;\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/posts/comments', {\r\n\t\t\t\t\tpost_id: this.postId,\r\n\t\t\t\t\tpage: this.commentPage,\r\n\t\t\t\t\tpageSize: this.commentPageSize,\r\n\t\t\t\t\tcurrent_user_openid: this.openid\r\n\t\t\t\t});\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tthis.commentList = this.commentList.concat(res.message.list);\r\n\t\t\t\t\tthis.commentHasMore = res.message.hasMore;\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('åŠ è½½è¯„è®ºå¤±è´¥:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åŠ è½½è¯„è®ºå¤±è´¥',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tthis.isLoadingComments = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync loadMoreReplies(comment) {\r\n\t\t\ttry {\r\n\t\t\t\tif (this.loadingMoreReplies.has(comment.id)) return;\r\n\t\t\t\tthis.loadingMoreReplies.add(comment.id);\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/posts/replies', {\r\n\t\t\t\t\tcomment_id: comment.id,\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpageSize: 50,\r\n\t\t\t\t\tcurrent_user_openid: this.openid\r\n\t\t\t\t});\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tconst commentIndex = this.commentList.findIndex(c => c.id === comment.id);\r\n\t\t\t\t\tif (commentIndex !== -1) {\r\n\t\t\t\t\t\tthis.commentList[commentIndex].replies = res.message.list;\r\n\t\t\t\t\t\tthis.commentList[commentIndex].has_more_replies = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('åŠ è½½æ›´å¤šå›å¤å¤±è´¥:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åŠ è½½å¤±è´¥',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingMoreReplies.delete(comment.id);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync toggleCommentLike(comment) {\r\n\t\t\ttry {\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t  uni.switchTab({\r\n\t\t\t\t    url: '/pages/my/my'\r\n\t\t\t\t  })\r\n\t\t\t\t  return\r\n\t\t\t\t}\r\n\t\t\t\tconst { data: res } = await uni.$http.post('/posts/comment/like', {\r\n\t\t\t\t\tcomment_id: comment.id,\r\n\t\t\t\t\tuser_openid: this.openid\r\n\t\t\t\t});\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tcomment.is_liked = res.message.is_liked;\r\n\t\t\t\t\tif (res.message.is_liked) {\r\n\t\t\t\t\t\tcomment.like_count = (comment.like_count || 0) + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcomment.like_count = Math.max((comment.like_count || 0) - 1, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('ç‚¹èµæ“ä½œå¤±è´¥:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'æ“ä½œå¤±è´¥',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowQuickReply() {\r\n\t\t\tif (!this.openid) {\r\n\t\t\t  uni.switchTab({\r\n\t\t\t    url: '/pages/my/my'\r\n\t\t\t  })\r\n\t\t\t  return\r\n\t\t\t}\r\n\t\t\tthis.replyTarget = null;\r\n\t\t\tthis.commentContent = '';\r\n\t\t\tthis.showReplyModal = true;\r\n\t\t\tthis.showEmojiPicker = false;\r\n\t\t},\r\n\t\thideReplyInput() {\r\n\t\t\tthis.showReplyModal = false;\r\n\t\t\tthis.showEmojiPicker = false;\r\n\t\t\tthis.replyTarget = null;\r\n\t\t\tthis.commentContent = '';\r\n\t\t},\r\n\t\tasync submitComment() {\r\n\t\t    try {\r\n\t\t       if (!this.openid) {\r\n\t\t         uni.switchTab({\r\n\t\t           url: '/pages/my/my'\r\n\t\t         })\r\n\t\t         return\r\n\t\t       }\r\n\t\t        const content = this.commentContent.trim();\r\n\t\t        if (!content) {\r\n\t\t            uni.showToast({\r\n\t\t                title: this.replyTarget ? 'è¯·è¾“å…¥å›å¤å†…å®¹' : 'è¯·è¾“å…¥è¯„è®ºå†…å®¹',\r\n\t\t                icon: 'none'\r\n\t\t            });\r\n\t\t            return;\r\n\t\t        }\r\n\t\t        if (this.isSubmittingComment) return;\r\n\t\t        this.isSubmittingComment = true;\r\n\t\t        const params = {\r\n\t\t            post_id: this.postId,\r\n\t\t            openid: this.userBase.openid,\r\n\t\t            nickname: this.userBase.nickname || 'ç”¨æˆ·',\r\n\t\t            avatar: this.userBase.avatarUrl || '',\r\n\t\t            content: content\r\n\t\t        };\r\n\t\t        if (this.replyTarget) {\r\n\t\t            params.parent_id = this.replyTarget.parent_id;\r\n\t\t            params.reply_to_openid = this.replyTarget.user_openid;\r\n\t\t            params.reply_to_nickname = this.replyTarget.nickname;\r\n\t\t        }\r\n\t\t        console.log('æäº¤å‚æ•°:', params);\r\n\t\t        const { data: res } = await uni.$http.post('/posts/comment', params);\r\n\t\t        if (res.meta.status === 201) {\r\n\t\t            this.commentContent = '';\r\n\t\t            this.hideReplyInput();\r\n\t\t            this.commentList = [];\r\n\t\t            this.commentPage = 1;\r\n\t\t            this.commentHasMore = true;\r\n\t\t            await this.loadComments();\r\n\t\t            if (!this.replyTarget && this.post) {\r\n\t\t                this.post.commentCount += 1;\r\n\t\t            }\r\n\t\t            uni.showToast({\r\n\t\t                title: this.replyTarget ? 'å›å¤æˆåŠŸ' : 'è¯„è®ºæˆåŠŸ',\r\n\t\t                icon: 'success'\r\n\t\t            });\r\n\t\t        } else {\r\n\t\t            uni.showToast({\r\n\t\t                title: res.meta.msg || 'æäº¤å¤±è´¥',\r\n\t\t                icon: 'none'\r\n\t\t            });\r\n\t\t        }\r\n\t\t    } catch (error) {\r\n\t\t        console.error('æäº¤å¤±è´¥:', error);\r\n\t\t        console.error('é”™è¯¯è¯¦æƒ…:', error.response || error);\r\n\t\t        uni.showToast({\r\n\t\t            title: error.response?.data?.meta?.msg || 'æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•',\r\n\t\t            icon: 'none'\r\n\t\t        });\r\n\t\t    } finally {\r\n\t\t        this.isSubmittingComment = false;\r\n\t\t    }\r\n\t\t},\r\n\t\tasync deleteComment(commentId) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: 'åˆ é™¤è¯„è®º',\r\n\t\t\t\tcontent: 'ç¡®å®šè¦åˆ é™¤è¿™æ¡è¯„è®ºå—ï¼Ÿ',\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst { data: result } = await uni.$http.delete('/posts/comment', {\r\n\t\t\t\t\t\t\t\tcomment_id: commentId,\r\n\t\t\t\t\t\t\t\topenid: this.openid\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (result.meta.status === 200) {\r\n\t\t\t\t\t\t\t\tthis.commentList = [];\r\n\t\t\t\t\t\t\t\tthis.commentPage = 1;\r\n\t\t\t\t\t\t\t\tthis.commentHasMore = true;\r\n\t\t\t\t\t\t\t\tthis.loadComments();\r\n\t\t\t\t\t\t\t\tif (this.post) {\r\n\t\t\t\t\t\t\t\t\tthis.loadPostDetail();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'åˆ é™¤æˆåŠŸ',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: result.meta.msg || 'åˆ é™¤å¤±è´¥',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error('åˆ é™¤è¯„è®ºå¤±è´¥:', error);\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: 'åˆ é™¤å¤±è´¥',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tformatPostTime(timestamp) {\r\n\t\t\tif (!timestamp) return '';\r\n\t\t\tif (typeof timestamp === 'string') {\r\n\t\t\t\tconst date = new Date(timestamp);\r\n\t\t\t\treturn `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥ ${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n\t\t\t}\r\n\t\t\tconst date = new Date(timestamp);\r\n\t\t\treturn `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥ ${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n\t\t},\r\n\t\tformatCommentTime(timestamp) {\r\n\t\t\tif (!timestamp) return '';\r\n\t\t\tif (typeof timestamp === 'string') {\r\n\t\t\t\ttimestamp = new Date(timestamp).getTime();\r\n\t\t\t}\r\n\t\t\tconst now = Date.now();\r\n\t\t\tconst diff = now - timestamp;\r\n\t\t\tconst minute = 60 * 1000;\r\n\t\t\tconst hour = 60 * minute;\r\n\t\t\tconst day = 24 * hour;\r\n\t\t\tif (diff < minute) {\r\n\t\t\t\treturn 'åˆšåˆš';\r\n\t\t\t} else if (diff < hour) {\r\n\t\t\t\treturn Math.floor(diff / minute) + 'åˆ†é’Ÿå‰';\r\n\t\t\t} else if (diff < day) {\r\n\t\t\t\treturn Math.floor(diff / hour) + 'å°æ—¶å‰';\r\n\t\t\t} else {\r\n\t\t\t\treturn Math.floor(diff / day) + 'å¤©å‰';\r\n\t\t\t}\r\n\t\t},\r\n\t\tpreviewImage(images, current) {\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: images,\r\n\t\t\t\tcurrent: current\r\n\t\t\t});\r\n\t\t},\r\n\t\treportUser() {\r\n\t\t\tif (!this.post || !this.openid) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: 'è¯·è¾“å…¥æ‚¨ä¸¾æŠ¥è¯¥ç”¨æˆ·çš„ç†ç”±:',\r\n\t\t\t\teditable: true,\r\n\t\t\t\tplaceholderText: 'ä¾‹å¦‚ï¼šæ¶‰åŠäººèº«æ”»å‡»ã€å¹¿å‘Šç­‰',\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tconst reason = res.content.trim()\r\n\t\t\t\t\t\tif (!reason) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: 'ä¸¾æŠ¥ç†ç”±ä¸èƒ½ä¸ºç©º',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst reportData = {\r\n\t\t\t\t\t\t\treporter_openid: this.openid,\r\n\t\t\t\t\t\t\treported_openid: this.post.user_openid,\r\n\t\t\t\t\t\t\tpost_id: this.postId,\r\n\t\t\t\t\t\t\treason: reason\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('æäº¤ä¸¾æŠ¥:', reportData)\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst { data: apiRes } = await uni.$http.post('/users/report', reportData)\r\n\t\t\t\t\t\t\tif (apiRes.meta.status === 201) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'ä¸¾æŠ¥æˆåŠŸï¼Œæˆ‘ä»¬ä¼šå°½å¿«æ ¸å®',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthrow new Error(apiRes.meta.msg || 'ä¸¾æŠ¥å¤±è´¥')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error('ä¸¾æŠ¥å¤±è´¥:', error)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: error.message || 'ä¸¾æŠ¥æ—¶å‘ç”Ÿé”™è¯¯',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tshowPostMenu() {\r\n\t\t\tif (this.post && this.post.user_openid === this.openid) {\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['åˆ é™¤'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t\tthis.deletePost();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.post && this.post.user_openid !== this.openid) {\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['ä¸¾æŠ¥'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t\tthis.reportUser();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} \r\n\t\t},\r\n\t\tasync deletePost() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: 'åˆ é™¤å¸–å­',\r\n\t\t\t\tcontent: 'ç¡®å®šè¦åˆ é™¤è¿™æ¡å¸–å­å—ï¼Ÿåˆ é™¤åæ— æ³•æ¢å¤',\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst { data: result } = await uni.$http.delete('/posts/delete', {\r\n\t\t\t\t\t\t\t\tpost_id: this.postId,\r\n\t\t\t\t\t\t\t\topenid: this.openid\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (result.meta.status === 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: 'åˆ é™¤æˆåŠŸ',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: result.meta.msg || 'åˆ é™¤å¤±è´¥',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error('åˆ é™¤å¸–å­å¤±è´¥:', error);\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: 'åˆ é™¤å¤±è´¥',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tcomputed: {\r\n\t\t...mapState('m_user', ['openid', 'userBase', 'token']),\r\n\t\t\r\n\t\t// âœ… æ–°å¢ï¼šè®¡ç®—å±æ€§ï¼Œç”¨äºæ˜¾ç¤ºå½“å‰è¡¨æƒ…é›†\r\n\t\tdisplayEmojiList() {\r\n\t\t\treturn this.currentEmojiSet === 'large' ? this.emojiList : this.miniEmojiList;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// ... ( .comment-main, .reply-item, .post-detail-page, .post-content-area, .post-detail, .post-header, .text-content, .post-images, .divider, .comments-title ä¸å˜) ...\r\n.comment-main,\r\n.reply-item {\r\n\tcursor: pointer;\r\n\ttransition: background-color 0.2s;\r\n\t&:active {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.02);\r\n\t}\r\n}\r\n.post-detail-page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding-bottom: 120rpx;\r\n}\r\n.post-content-area {\r\n\theight: calc(100vh - 120rpx);\r\n}\r\n.post-detail {\r\n\tbackground-color: #ffffff;\r\n\tpadding: 32rpx;\r\n\tmargin-bottom: 20rpx;\r\n\t.post-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\t.user-info {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tflex: 1;\r\n\t\t\t.avatar {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\tbackground-color: #f0f0f0;\r\n\t\t\t}\r\n\t\t\t.user-detail {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\t.nickname {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.post-meta {\r\n\t\t\t\t  display: flex;\r\n\t\t\t\t  gap: 16rpx;\r\n\t\t\t\t  font-size: 24rpx;\r\n\t\t\t\t  color: #999;\r\n\t\t\t\t.post-time {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t\t.post-views::before {\r\n\t\t\t\t  content: 'Â·';\r\n\t\t\t\t  margin-right: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.more-btn {\r\n\t\t\tfont-size: 48rpx;\r\n\t\t\tcolor: #999999;\r\n\t\t\tpadding: 0 16rpx;\r\n\t\t}\r\n\t}\r\n\t.post-content {\r\n\t\tmargin-bottom: 24rpx;\r\n\t\t.content-text {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\tline-height: 1.8;\r\n\t\t\tword-wrap: break-word;\r\n\t\t}\r\n\t}\r\n\t.text-content {\r\n\t\tpadding: 32rpx;\r\n\t\t.content-text {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tline-height: 1.8;\r\n\t\t\tcolor: #333;\r\n\t\t\tword-wrap: break-word;\r\n\t\t\t    .tag-item {\r\n\t\t\t      display: inline;\r\n\t\t\t      font-size: 28rpx;\r\n\t\t\t      color: #fbbf24;\r\n\t\t\t      background-color: transparent;\r\n\t\t\t      padding: 0 8rpx;\r\n\t\t\t      font-weight: 500;\r\n\t\t\t      margin-left: 8rpx;\r\n\t\t\t    }\r\n\t\t}\r\n\t}\r\n\t.post-images {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\tgap: 16rpx;\r\n\t\tmargin-bottom: 32rpx;\r\n\t\t.post-image {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 200rpx;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tbackground-color: #f0f0f0;\r\n\t\t}\r\n\t}\r\n\t.divider {\r\n\t\theight: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tmargin: 0 -32rpx;\r\n\t}\r\n\t.comments-title {\r\n\t\tpadding: 24rpx 0;\r\n\t\ttext {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.comments-list {\r\n\tbackground-color: #ffffff;\r\n\t\r\n\t.comment-item {\r\n\t\tpadding: 24rpx 32rpx;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\r\n\t\t&:last-child {\r\n\t\t\tborder-bottom: none;\r\n\t\t}\r\n\t\t\r\n\t\t.comment-main {\r\n\t\t\t.comment-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\r\n\t\t\t\t.comment-avatar {\r\n\t\t\t\t\twidth: 64rpx;\r\n\t\t\t\t\theight: 64rpx;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\tbackground-color: #f0f0f0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.comment-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.nickname-row {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tmargin-bottom: 6rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.comment-nickname {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.author-badge {\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\tcolor: #ff6b6b;\r\n\t\t\t\t\t\t\tbackground-color: #ffe8e8;\r\n\t\t\t\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.comment-time {\r\n\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// âœ… ä¿®æ”¹ï¼šè¯„è®ºåŒºæ“ä½œæŒ‰é’®\r\n\t\t\t\t.comment-actions {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: 24rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.like-btn {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tgap: 8rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// âœ… ä¿®æ”¹ï¼šç‚¹èµå›¾æ ‡\r\n\t\t\t\t\t\t.like-icon-img {\r\n\t\t\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\t\ttransition: transform 0.3s;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&.liked-animation {\r\n\t\t\t\t\t\t\t\ttransform: scale(1.1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.like-count {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// âœ… ä¿®æ”¹ï¼šåˆ é™¤å›¾æ ‡\r\n\t\t\t\t\t.delete-btn-img {\r\n\t\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.comment-content {\r\n\t\t\t\tmargin-left: 80rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\tline-height: 1.6;\r\n\t\t\t\tword-wrap: break-word;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t\t\t\r\n\t\t.replies-section {\r\n\t\t\tmargin-top: 16rpx;\r\n\t\t\tmargin-left: 80rpx;\r\n\t\t\tpadding-left: 24rpx;\r\n\t\t\tborder-left: 2rpx solid #f0f0f0;\r\n\t\t\t\r\n\t\t\t.reply-item {\r\n\t\t\t\tpadding: 16rpx 0;\r\n\t\t\t\t\r\n\t\t\t\t.reply-header {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: flex-start;\r\n\t\t\t\t\tmargin-bottom: 12rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.reply-avatar {\r\n\t\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t\t\t\tbackground-color: #f0f0f0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.reply-info {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.reply-nickname-row {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\t\tmargin-bottom: 6rpx;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.reply-nickname {\r\n\t\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.author-badge {\r\n\t\t\t\t\t\t\t\tfont-size: 18rpx;\r\n\t\t\t\t\t\t\t\tcolor: #ff6b6b;\r\n\t\t\t\t\t\t\t\tbackground-color: #ffe8e8;\r\n\t\t\t\t\t\t\t\tpadding: 2rpx 8rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t\t\t\tmargin-left: 8rpx;\r\n\t\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.reply-arrow {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\t\tmargin: 0 6rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.reply-target {\r\n\t\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.reply-time {\r\n\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// âœ… ä¿®æ”¹ï¼šå›å¤åŒºæ“ä½œæŒ‰é’®\r\n\t\t\t\t\t.reply-actions {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tgap: 20rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.like-btn {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tgap: 6rpx;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// âœ… ä¿®æ”¹ï¼šç‚¹èµå›¾æ ‡\r\n\t\t\t\t\t\t\t.like-icon-img {\r\n\t\t\t\t\t\t\t\twidth: 36rpx;\r\n\t\t\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\t\t\ttransition: transform 0.3s;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&.liked-animation {\r\n\t\t\t\t\t\t\t\t\ttransform: scale(1.1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t.like-count {\r\n\t\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// âœ… ä¿®æ”¹ï¼šåˆ é™¤å›¾æ ‡\r\n\t\t\t\t\t\t.delete-btn-img {\r\n\t\t\t\t\t\t\twidth: 28rpx;\r\n\t\t\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.reply-content {\r\n\t\t\t\t\tmargin-left: 60rpx;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tline-height: 1.6;\r\n\t\t\t\t\tword-wrap: break-word;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.more-replies-btn {\r\n\t\t\t\tpadding: 16rpx 0;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\t\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #1890ff;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\t\t\t\r\n.comment-load-more {\r\n\tpadding: 32rpx;\r\n\ttext-align: center;\r\n\t\r\n\t.load-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n}\r\n\r\n.no-comments {\r\n\tpadding: 80rpx 32rpx;\r\n\ttext-align: center;\r\n\t\r\n\ttext {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n}\r\n\t\t\t\t\r\n.bottom-action-bar {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n  background: #fff;\r\n  padding: 16rpx 24rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n  box-shadow: 0 -2rpx 8rpx rgba(0, 0, 0, 0.04);\r\n  padding-bottom: calc(16rpx + env(safe-area-inset-bottom));\r\n  \r\n  .input-trigger {\r\n    flex: 1;\r\n    height: 72rpx;\r\n    background: #f5f5f5;\r\n    border-radius: 36rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 24rpx;\r\n    \r\n    .input-placeholder {\r\n      font-size: 28rpx;\r\n      color: #999;\r\n    }\r\n  }\r\n  \r\n  .action-group {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 24rpx;\r\n    \r\n    .action-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8rpx;\r\n      transition: all 0.3s;\r\n      \r\n      &:active {\r\n        transform: scale(0.95);\r\n      }\r\n      \r\n      .action-icon-img {\r\n        width: 44rpx;\r\n        height: 44rpx;\r\n        transition: transform 0.3s ease;\r\n      }\r\n      \r\n      .action-text {\r\n        font-size: 26rpx;\r\n        color: #666;\r\n        min-width: 32rpx;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes likeScale {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.2);\r\n  }\r\n}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n// âœ… ä¿®æ”¹ï¼šå›å¤å¼¹çª— (å®Œå…¨é‡æ„)\r\n.reply-modal {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tz-index: 1000;\r\n\tdisplay: flex;\r\n\talign-items: flex-end;\r\n\tanimation: fadeIn 0.3s ease;\r\n\t\r\n\t.reply-modal-content {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 80vh;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 32rpx 32rpx 0 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tanimation: slideUp 0.3s ease;\r\n\t\t\r\n\t\t.reply-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 32rpx 32rpx 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\t\r\n\t\t\t.reply-title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.close-btn {\r\n\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t\tline-height: 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.input-wrapper {\r\n\t\t\tpadding: 24rpx 32rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: flex-start;\r\n\t\t\tgap: 16rpx;\r\n\t\t\t\r\n\t\t\t.reply-textarea {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmin-height: 120rpx;\r\n\t\t\t\tmax-height: 400rpx;\r\n\t\t\t\tpadding: 16rpx;\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tline-height: 1.6;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// âœ… ä¿®æ”¹ï¼šè¡¨æƒ…/é”®ç›˜æŒ‰é’®\r\n\t\t\t.emoji-btn {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tbackground-color: #ffffff; // ç§»é™¤èƒŒæ™¯\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\r\n\t\t\t\t// âœ… ä¿®æ”¹ï¼šå›¾æ ‡å°ºå¯¸\r\n\t\t\t\t.emoji-icon-img {\r\n\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// âœ… ä¿®æ”¹ï¼šè¡¨æƒ…é€‰æ‹©å™¨ (å…¨æ–°æ ·å¼)\r\n\t\t.emoji-picker {\r\n\t\t\tmax-height: 400rpx;\r\n\t\t\toverflow-y: auto;\r\n\t\t\tpadding: 0 32rpx 24rpx;\r\n\t\t\t\r\n\t\t\t// Tab åˆ‡æ¢\r\n\t\t\t.emoji-tabs {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\t\tmargin-bottom: 24rpx;\r\n\t\t\t\tpadding: 0 0 8rpx 0;\r\n\t\t\t\t\r\n\t\t\t\t.tab-item {\r\n\t\t\t\t\tpadding: 16rpx 0;\r\n\t\t\t\t\tmargin-right: 40rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.active {\r\n\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\theight: 4rpx;\r\n\t\t\t\t\t\t\tbackground-color: #1890ff;\r\n\t\t\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// è¡¨æƒ…åˆ—è¡¨\r\n\t\t\t.emoji-list {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: repeat(7, 1fr); // 7 åˆ—\r\n\t\t\t\tgap: 16rpx;\r\n\t\t\t\t\r\n\t\t\t\t.emoji-item {\r\n\t\t\t\t\taspect-ratio: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tbackground-color: #ffffff; // ç§»é™¤èƒŒæ™¯\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&:active {\r\n\t\t\t\t\t\tbackground-color: #ffffff; \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.emoji-image {\r\n\t\t\t\t\t\twidth: 80%; // å¢å¤§æ˜¾ç¤º\r\n\t\t\t\t\t\theight: 80%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.reply-actions {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 24rpx 32rpx;\r\n\t\t\tpadding-bottom: calc(24rpx + env(safe-area-inset-bottom));\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\t\t\r\n\t\t\t.char-count {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.submit-btn {\r\n\t\t\t\tpadding: 16rpx 48rpx;\r\n\t\t\t\tbackground-color: #1890ff;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t&.disabled {\r\n\t\t\t\t\tbackground-color: #cccccc;\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\t\t\t\r\n@keyframes fadeIn {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n@keyframes slideUp {\r\n\tfrom {\r\n\t\ttransform: translateY(100%);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n</style>","import mod from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post-detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program\\\\HBuilderX.4.76.2025082103\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post-detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1763135844381\n      var cssReload = require(\"D:/Program/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}