{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/profile/profile.vue?ab85","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/profile/profile.vue?386e","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/profile/profile.vue?45f1","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/profile/profile.vue?8ded","uni-app:///subpkg/profile/profile.vue","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/profile/profile.vue?6620","webpack:///D:/HBuilderX.4.76.2025082103/HBuilderX/project/shopping/subpkg/profile/profile.vue?50eb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isFollowing","userIntro","contentType","goodsList","postList","postPage","postPageSize","hasMorePosts","loadingPosts","user","ismyself","uploading","loading","count","postcount","goodscount","iconLikeUrl","iconLikedUrl","iconCommentUrl","onLoad","console","fromRoute","queryObj","code","uni","res","Promise","computed","leftColumn","rightColumn","totalCount","methods","toggleLike","url","post_id","openid","is_like","index","loadCount","goods_id","res3","toggleContentType","loadUserPosts","user_openid","viewer_openid","type","page","pageSize","newPosts","post","images","timeText","title","icon","loadMorePosts","loadPublisherGoods","ids","processPostImages","imageArray","formatTime","gotoPostDetail","getIfFollowed","publisher_id","handleAvatarClick","toggleFollow","res1","gotoDetail","gotoFollow","gotoFollower"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACyJ;AACzJ,gBAAgB,mKAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAAkjB,CAAgB,+jBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;AC0KtkB;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MAEA;MACAC;MAEA;MACAC;MAEA;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IAAA;IAAA;M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","file":"subpkg/profile/profile.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/profile/profile.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./profile.vue?vue&type=template&id=02138464&\"\nvar renderjs\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./profile.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/profile/profile.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=template&id=02138464&\"","var components\ntry {\n  components = {\n    myGoods: function () {\n      return import(\n        /* webpackChunkName: \"components/my-goods/my-goods\" */ \"@/components/my-goods/my-goods.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. æ’æŸ¥ç»„ä»¶åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®\")\n    console.error(\n      \"2. æ’æŸ¥ç»„ä»¶æ˜¯å¦ç¬¦åˆ easycom è§„èŒƒï¼Œæ–‡æ¡£ï¼šhttps://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. è‹¥ç»„ä»¶ä¸ç¬¦åˆ easycom è§„èŒƒï¼Œéœ€æ‰‹åŠ¨å¼•å…¥ï¼Œå¹¶åœ¨ components ä¸­æ³¨å†Œè¯¥ç»„ä»¶\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = (_vm.user.followers_ids || []).length\n  var g1 = (_vm.user.following_ids || []).length\n  var l1 =\n    _vm.contentType === \"post\"\n      ? _vm.__map(_vm.postList, function (post, index) {\n          var $orig = _vm.__get_orig(post)\n          var g2 = post.images && post.images.length > 0\n          var l0 = g2 ? post.images.slice(0, 3) : null\n          var g3 = g2 ? post.images.length : null\n          var g4 = g2 && g3 > 3 ? post.images.length : null\n          return {\n            $orig: $orig,\n            g2: g2,\n            l0: l0,\n            g3: g3,\n            g4: g4,\n          }\n        })\n      : null\n  var g5 =\n    _vm.contentType === \"post\"\n      ? _vm.loadingPosts && _vm.postList.length > 0\n      : null\n  var g6 =\n    _vm.contentType === \"post\" && !g5\n      ? !_vm.hasMorePosts && _vm.postList.length > 0\n      : null\n  var g7 =\n    _vm.contentType === \"post\"\n      ? _vm.postList.length === 0 && !_vm.loadingPosts\n      : null\n  var g8 =\n    _vm.contentType === \"goods\"\n      ? _vm.goodsList && _vm.goodsList.length > 0\n      : null\n  var g9 =\n    _vm.contentType === \"goods\"\n      ? _vm.goodsList.length === 0 && !_vm.loading\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l1: l1,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n        g8: g8,\n        g9: g9,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"publisher-container\">\r\n\t\t<!-- 1. é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->\r\n\t\t<view class=\"user-header\">\r\n\t\t\t<!-- å¤´åƒ -->\r\n\t\t\t<image \r\n\t\t\t\t:src=\"user.avatarUrl || '/static/default-avatar.png'\" \r\n\t\t\t\tclass=\"avatar\" \r\n\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t@click=\"handleAvatarClick\"\r\n\t\t\t></image>\r\n\t\t\t\r\n\t\t\t<!-- å³ä¾§ä¿¡æ¯ -->\r\n\t\t\t<view class=\"user-right\">\r\n\t\t\t\t<!-- æ˜µç§°å’Œæ€§åˆ« -->\r\n\t\t\t\t<view class=\"user-basic\">\r\n\t\t\t\t\t<text class=\"nickname\">{{user.nickname}}</text>\r\n\t\t\t\t\t<text class=\"gender\" v-if=\"user.user_sex\">{{ user.user_sex }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- ä¸ªäººç®€ä»‹ -->\r\n\t\t\t\t<view class=\"intro-text\">{{userIntro}}</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- å…³æ³¨/ç²‰ä¸æ•°å’Œå…³æ³¨æŒ‰é’® -->\r\n\t\t\t\t<view class=\"stats-follow-row\">\r\n\t\t\t\t\t<view class=\"stats\">\r\n\t\t\t\t\t\t<text class=\"stat-item\" @click=\"gotoFollower()\">{{ (user.followers_ids || []).length }} ç²‰ä¸</text>\r\n\t\t\t\t\t\t<text class=\"stat-divider\">|</text>\r\n\t\t\t\t\t\t<text class=\"stat-item\" @click=\"gotoFollow()\">{{ (user.following_ids || []).length }} å…³æ³¨</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- å…³æ³¨æŒ‰é’®ï¼ˆéæœ¬äººæ˜¾ç¤ºï¼‰ -->\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tv-if=\"!ismyself\"\r\n\t\t\t\t\t\tclass=\"follow-btn\" \r\n\t\t\t\t\t\t:class=\"{ following: isFollowing }\"\r\n\t\t\t\t\t\t@click=\"toggleFollow\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ isFollowing ? 'å·²å…³æ³¨' : '+ å…³æ³¨' }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 2. åŠ¨æ€é€‰é¡¹å¡ï¼ˆå¸¦åˆ‡æ¢å›¾æ ‡ï¼‰ -->\r\n\t\t<view class=\"dynamic-tab\">\r\n\t\t\t<view class=\"tab-title\">\r\n\t\t\t\t<text class=\"tab-text\">åŠ¨æ€</text>\r\n\t\t\t\t<text class=\"tab-badge\">{{ count }}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- åˆ‡æ¢å›¾æ ‡ -->\r\n\t\t\t<view class=\"toggle-icon\" @click=\"toggleContentType\">\r\n\t\t\t\t<text class=\"toggle-text\">{{ contentType === 'post' ? 'æ ‘æ´' : 'äºŒæ‰‹' }}</text>\r\n\t\t\t\t<text class=\"toggle-arrow\">â‡„</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 3. å†…å®¹åŒºåŸŸ -->\r\n\t\t<!-- æ ‘æ´å†…å®¹ -->\r\n\t\t<view v-if=\"contentType === 'post'\">\r\n\t\t\t<!-- å¸–å­åˆ—è¡¨ -->\r\n\t\t\t<scroll-view class=\"post-list\" scroll-y @scrolltolower=\"loadMorePosts\">\r\n\t\t\t\t<view class=\"post-item\" v-for=\"(post, index) in postList\" :key=\"post.id\">\r\n\r\n\t\t\t\t\t<view class=\"post-content-row\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t  <view class=\"post-content\">\r\n\t\t\t\t\t    <text class=\"content-text\">{{ post.content }}</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view class=\"post-time-wrapper\">\r\n\t\t\t\t\t    <text class=\"post-time\">{{ post.timeText }}</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- å¸–å­å›¾ç‰‡ -->\r\n\t\t\t\t\t<view class=\"post-images\" v-if=\"post.images && post.images.length > 0\" @click=\"gotoPostDetail(post)\">\r\n\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\tv-for=\"(img, imgIndex) in post.images.slice(0, 3)\" \r\n\t\t\t\t\t\t\t:key=\"imgIndex\"\r\n\t\t\t\t\t\t\tclass=\"post-image\"\r\n\t\t\t\t\t\t\t:src=\"img\" \r\n\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t<view class=\"more-images\" v-if=\"post.images.length > 3\">\r\n\t\t\t\t\t\t\t<text>+{{ post.images.length - 3 }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- å¸–å­åº•éƒ¨ -->\r\n\t\t\t\t\t<view class=\"post-footer\">\r\n\t\t\t\t\t\t<view class=\"footer-left\">\r\n\t\t\t\t\t\t\t<text class=\"view-count\">{{ post.view_count }}æµè§ˆ</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"footer-right\">\r\n\t\t\t\t\t\t\t<view class=\"action-item\" @click.stop=\"toggleLike(post)\">\r\n\t\t\t\t\t\t\t  <image \r\n\t\t\t\t\t\t\t    class=\"action-icon-img\" \r\n\t\t\t\t\t\t\t    :src=\"post.isLiked ? iconLikedUrl : iconLikeUrl\" \r\n\t\t\t\t\t\t\t    mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t  ></image>\r\n\t\t\t\t\t\t\t  <text class=\"action-count\">{{ post.like_count }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"action-item\">\r\n\t\t\t\t\t\t\t  <image \r\n\t\t\t\t\t\t\t    class=\"action-icon-img\" \r\n\t\t\t\t\t\t\t    :src=\"iconCommentUrl\" \r\n\t\t\t\t\t\t\t    mode=\"aspectFit\"\r\n\t\t\t\t\t\t\t  ></image>\r\n\t\t\t\t\t\t\t  <text class=\"action-count\">{{ post.comment_count }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- åŠ è½½æ›´å¤š -->\r\n\t\t\t\t<view class=\"load-more\" v-if=\"loadingPosts && postList.length > 0\">\r\n\t\t\t\t\t<text class=\"load-text\">åŠ è½½ä¸­...</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"no-more-posts\" v-else-if=\"!hasMorePosts && postList.length > 0\">\r\n\t\t\t\t\t<text class=\"no-more-text\">æ²¡æœ‰æ›´å¤šäº†</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- å¸–å­ç©ºçŠ¶æ€ -->\r\n\t\t\t\t<view v-if=\"postList.length === 0 && !loadingPosts\" class=\"empty-state\">\r\n\t\t\t\t\t<text class=\"empty-icon\">ğŸ“</text>\r\n\t\t\t\t\t<text class=\"empty-text\">{{ ismyself ? 'ä½ è¿˜æ²¡æœ‰å‘å¸ƒè¿‡å¸–å­' : 'TAè¿˜æ²¡æœ‰å‘å¸ƒè¿‡å¸–å­' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- äºŒæ‰‹å•†å“å†…å®¹ -->\r\n\t\t<view v-if=\"contentType === 'goods'\">\r\n\t\t\t<!-- å•†å“åˆ—è¡¨ - åŒåˆ—ç€‘å¸ƒæµ -->\r\n\t\t\t<view class=\"waterfall\" v-if=\"goodsList && goodsList.length > 0\">\r\n\t\t\t\t<view class=\"col\">\r\n\t\t\t\t\t<view v-for=\"(item, i) in leftColumn\" :key=\"i\" @click=\"gotoDetail(item)\">\r\n\t\t\t\t\t\t<my-goods v-if=\"item\" :goods=\"item\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"col\">\r\n\t\t\t\t\t<view v-for=\"(item, i) in rightColumn\" :key=\"i\" @click=\"gotoDetail(item)\">\r\n\t\t\t\t\t\t<my-goods v-if=\"item\" :goods=\"item\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- å•†å“ç©ºçŠ¶æ€ -->\r\n\t\t\t<view v-if=\"goodsList.length === 0 && !loading\" class=\"empty-state\">\r\n\t\t\t\t<text class=\"empty-icon\">ğŸ“¦</text>\r\n\t\t\t\t<text class=\"empty-text\">{{ ismyself ? 'ä½ è¿˜æ²¡æœ‰å‘å¸ƒè¿‡å•†å“' : 'TAè¿˜æ²¡æœ‰å‘å¸ƒè¿‡å•†å“' }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- å¤´åƒæŸ¥çœ‹å¼¹å‡ºå±‚ï¼ˆä»…éæœ¬äººæ—¶ä½¿ç”¨ï¼‰ -->\r\n\t\t<uni-popup ref=\"avatarPopup\" type=\"center\">\r\n\t\t\t<view class=\"avatar-preview\">\r\n\t\t\t\t<image \r\n\t\t\t\t\t:src=\"user.avatarUrl || '/static/default-avatar.png'\" \r\n\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\tclass=\"preview-image\"\r\n\t\t\t\t></image>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisFollowing: false,\r\n\t\t\tuserIntro: '',\r\n\t\t\t\r\n\t\t\t// å†…å®¹ç±»å‹ï¼špost-æ ‘æ´ï¼Œgoods-äºŒæ‰‹\r\n\t\t\tcontentType: 'post',\r\n\t\t\t\r\n\t\t\t// å•†å“ç›¸å…³\r\n\t\t\tgoodsList: [],\r\n\t\t\t\r\n\t\t\t// å¸–å­ç›¸å…³\r\n\t\t\tpostList: [],\r\n\t\t\tpostPage: 1,\r\n\t\t\tpostPageSize: 10,\r\n\t\t\thasMorePosts: true,\r\n\t\t\tloadingPosts: true,\r\n\t\t\t\r\n\t\t\tuser: {},        \r\n\t\t\tismyself: false,\r\n\t\t\tuploading: false,\r\n\t\t\tloading: false,\r\n\t\t\tcount: 0,\r\n\t\t\tpostcount: 0,\r\n\t\t\tgoodscount: 0,\r\n\t\t\ticonLikeUrl: 'https://img.xinshi00.com/label/like.png',\r\n\t\t\ticonLikedUrl: 'https://img.xinshi00.com/label/liked.png',\r\n\t\t\ticonCommentUrl: 'https://img.xinshi00.com/label/chat.png',\r\n\t\t}\r\n\t},\r\n\r\n\tasync onLoad(options) {\r\n\t\tif (!options || Object.keys(options).length === 0) {\r\n\t\t\tthis.ismyself = true\r\n\t\t}\r\n\t\tif (!this.userBase || Object.keys(this.userBase).length === 0) {\r\n\t\t\ttry { \r\n\t\t\t\tawait this.$store.dispatch('m_user/getUserInfo') \r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:', e)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet fromRoute = null\r\n\t\ttry {\r\n\t\t\tif (options && options.publisher) {\r\n\t\t\t\tfromRoute = JSON.parse(decodeURIComponent(options.publisher))\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn('publisher è§£æå¤±è´¥ï¼š', e)\r\n\t\t}\r\n\t\t\r\n\t\tthis.user = (fromRoute && typeof fromRoute === 'object') ? fromRoute : (this.userBase || {})\r\n\t\tconst queryObj = {code: this.user.openid};\r\n\t\tconst { data: res } = await uni.$http.get('/users/userinfo', queryObj);\r\n\t\tif (res.meta.status === 200) {\r\n\t\t\tthis.user = res.message\r\n\t\t}\r\n\t\tthis.ismyself = (this.user.openid === this.userBase.openid) ? true : false\r\n\t\tthis.userIntro = this.user?.user_introduce ?? 'è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡ç•™ä¸‹'\r\n\t\t\r\n\t\t// ğŸ”¥ ä¿®å¤:åˆå§‹åŒ–åˆ†é¡µçŠ¶æ€\r\n\t\t    this.postPage = 1\r\n\t\t    this.hasMorePosts = true\r\n\t\t    this.postList = []\r\n\t\t\t\r\n\t\t// åŠ è½½æ•°æ®ï¼ˆé»˜è®¤æ˜¾ç¤ºæ ‘æ´ï¼‰\r\n\t\tawait Promise.all([\r\n\t\t\tthis.loadUserPosts(),\r\n\t\t\tthis.loadPublisherGoods()\r\n\t\t])\r\n\t\t\r\n\t\tif (!this.ismyself) {\r\n\t\t\tawait this.getIfFollowed()\r\n\t\t}\r\n\t\tawait this.loadCount()\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t...mapState('m_user', ['token', 'code', 'userBase', 'openid']),\r\n\t\tleftColumn() { \r\n\t\t\treturn (this.goodsList || []).filter((_, i) => i % 2 === 0) \r\n\t\t},\r\n\t\trightColumn() { \r\n\t\t\treturn (this.goodsList || []).filter((_, i) => i % 2 === 1) \r\n\t\t},\r\n\t\t// æ€»åŠ¨æ€æ•°\r\n\t\ttotalCount() {\r\n\t\t\treturn this.postList.length + this.goodsList.length\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t...mapMutations('m_user', ['updateUserInfo', 'updateToken', 'updateUserBase', 'updateCode', 'updateOpenid']),\r\n\t\t// âœ… ç‚¹èµ/å–æ¶ˆç‚¹èµ\r\n\t\tasync toggleLike(post) {\r\n\t\t\ttry {\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\tuni.switchTab({ url: '/pages/my/my' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst { data: res } = await uni.$http.post('/posts/like', {\r\n\t\t\t\t\tpost_id: post.id,\r\n\t\t\t\t\topenid: this.openid,\r\n\t\t\t\t\tis_like: !post.isLiked\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\r\n\t\t\t\t\tconst index = this.postList.findIndex(p => p.id === post.id)\r\n\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\tthis.postList[index].isLiked = !this.postList[index].isLiked\r\n\t\t\t\t\t\tthis.postList[index].like_count = res.message.like_count || 0\r\n\t\t\t\t\t\tthis.$set(this.postList, index, {...this.postList[index]})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('ç‚¹èµå¤±è´¥:', error)\r\n\t\t\t\tthis.showMessageToast('æ“ä½œå¤±è´¥')\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync loadCount() {\r\n\t\t\tconst { data: res } = await uni.$http.get('/posts/my-count', {\r\n\t\t\t\topenid: this.user.openid,\r\n\t\t\t})\r\n\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\tthis.postcount = res.message.total\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tconst { data: res3 } = await uni.$http.get('/goods/count', {\r\n\t\t\t\tgoods_id: this.user.goods_id,\r\n\t\t\t})\r\n\t\t\tif (res3.meta.status === 200) {\r\n\t\t\t\tthis.goodscount = res3.message.count\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// this.goodscount = this.user.goods_id.length;\r\n\t\t\t\r\n\t\t\tthis.count = this.contentType === 'post' ? this.postcount : this.goodscount;\r\n\t\t},\r\n\t\t// åˆ‡æ¢å†…å®¹ç±»å‹\r\n\t\ttoggleContentType() {\r\n\t\t\tthis.contentType = this.contentType === 'post' ? 'goods' : 'post'\r\n\t\t\tthis.count = this.contentType === 'post' ? this.postcount : this.goodscount;\r\n\t\t},\r\n\r\n\t\t// åŠ è½½ç”¨æˆ·å¸–å­ï¼ˆæ‰€æœ‰å‘å¸ƒçš„å¸–å­ï¼‰\r\n\t\tasync loadUserPosts() {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loadingPosts = true\r\n\t\t\t\t\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/users/posts', {\r\n\t\t\t\t\tuser_openid: this.user.openid,\r\n\t\t\t\t\tviewer_openid: this.userBase.openid || '',\r\n\t\t\t\t\ttype: 0, // 0-å‘å¸ƒçš„å¸–å­\r\n\t\t\t\t\tpage: this.postPage,\r\n\t\t\t\t\tpageSize: this.postPageSize\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tconst newPosts = res.message.list.map(post => ({\r\n\t\t\t\t\t\t...post,\r\n\t\t\t\t\t\timages: this.processPostImages(post.images),\r\n\t\t\t\t\t\ttimeText: this.formatTime(post.created_at),\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(`åŠ è½½äº† ${newPosts.length} æ¡å¸–å­`)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ğŸ”¥ ä¿®å¤:ç¬¬ä¸€é¡µç›´æ¥èµ‹å€¼,åç»­é¡µè¿½åŠ \r\n\t\t\t\t\tif (this.postPage === 1) {\r\n\t\t\t\t\t\tthis.postList = newPosts\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.postList = [...this.postList, ...newPosts]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// æ›´æ–°åˆ†é¡µçŠ¶æ€\r\n\t\t\t\t\tthis.hasMorePosts = res.message.hasMore\r\n\t\t\t\t\t// if (this.hasMorePosts) {\r\n\t\t\t\t\t// \tthis.postPage++\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('æ˜¯å¦è¿˜æœ‰æ›´å¤š:', this.hasMorePosts, 'ä¸‹ä¸€é¡µ:', this.postPage)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// if (this.postPage === 1) {\r\n\t\t\t\t\t// \tthis.postList = newPosts\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tthis.postList = this.postList.concat(newPosts)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t\r\n\t\t\t\t\t// this.hasMorePosts = res.message.hasMore\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('åŠ è½½å¸–å­å¤±è´¥:', error)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åŠ è½½å¤±è´¥',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingPosts = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// åŠ è½½æ›´å¤šå¸–å­\r\n\t\tasync loadMorePosts() {\r\n\t\t\tconsole.log('ğŸ”„ è§¦å‘åŠ è½½æ›´å¤š - å½“å‰é¡µ:', this.postPage, 'æ˜¯å¦è¿˜æœ‰æ›´å¤š:', this.hasMorePosts, 'æ˜¯å¦æ­£åœ¨åŠ è½½:', this.loadingPosts)\r\n\t\t\t    \r\n\t\t\t    // ğŸ”¥ ä¿®å¤:æ£€æŸ¥æ¡ä»¶\r\n\t\t\t    if (!this.hasMorePosts) {\r\n\t\t\t        console.log('âš ï¸ æ²¡æœ‰æ›´å¤šæ•°æ®äº†')\r\n\t\t\t        return\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    if (this.loadingPosts) {\r\n\t\t\t        console.log('âš ï¸ æ­£åœ¨åŠ è½½ä¸­,è·³è¿‡')\r\n\t\t\t        return\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    // ğŸ”¥ å…³é”®ä¿®å¤:å…ˆå¢åŠ é¡µç ,å†åŠ è½½\r\n\t\t\t    this.postPage++\r\n\t\t\t    await this.loadUserPosts()\r\n\t\t},\r\n\r\n\t\t// åŠ è½½ç”¨æˆ·å•†å“\r\n\t\tasync loadPublisherGoods() {\r\n\t\t\ttry {\r\n\t\t\t\tuni.showLoading({ title: 'åŠ è½½ä¸­...' })\r\n\t\t\t\tconst ids = Array.isArray(this.user?.goods_id) ? this.user.goods_id : []\r\n\t\t\t\tif (ids.length === 0) {\r\n\t\t\t\t\tthis.goodsList = []\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/goods/historysearch', { goods_id: ids })\r\n\t\t\t\tthis.goodsList = (res?.meta?.status === 200 && Array.isArray(res?.message)) ? res.message : []\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('åŠ è½½å•†å“å¤±è´¥:', err)\r\n\t\t\t\tthis.goodsList = []\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// å¤„ç†å¸–å­å›¾ç‰‡\r\n\t\tprocessPostImages(images) {\r\n\t\t\tif (!images) return []\r\n\t\t\t\r\n\t\t\tlet imageArray = []\r\n\t\t\tif (typeof images === 'string') {\r\n\t\t\t\ttry {\r\n\t\t\t\t\timageArray = JSON.parse(images)\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t} else if (Array.isArray(images)) {\r\n\t\t\t\timageArray = images\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn imageArray\r\n\t\t},\r\n\r\n\t\tformatTime(timestamp) {\r\n\t\t  if (!timestamp) return 'åˆšåˆš'\r\n\t\t  \r\n\t\t  const time = typeof timestamp === 'string' ? new Date(timestamp).getTime() : timestamp\r\n\t\t  const now = Date.now()\r\n\t\t  const diff = now - time\r\n\t\t  \r\n\t\t  const minute = 60 * 1000\r\n\t\t  const hour = 60 * minute\r\n\t\t  const day = 24 * hour\r\n\t\t  \r\n\t\t  if (diff < minute) return 'åˆšåˆš'\r\n\t\t  if (diff < hour) return Math.floor(diff / minute) + 'åˆ†é’Ÿå‰'\r\n\t\t  if (diff < day) return Math.floor(diff / hour) + 'å°æ—¶å‰'\r\n\t\t  if (diff < 7 * day) return Math.floor(diff / day) + 'å¤©å‰'\r\n\t\t  \r\n\t\t  const date = new Date(time)\r\n\t\t  return `${date.getMonth() + 1}-${date.getDate()}`\r\n\t\t},\r\n\r\n\t\tgotoPostDetail(post) {\r\n\t\t\tif (post.images.length > 0) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpkg/topic-detail/topic-detail?id=' + post.id\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/subpkg/post-detail/post-detail?id=' + post.id\r\n\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\t// è·å–å…³æ³¨çŠ¶æ€\r\n\t\tasync getIfFollowed() {\r\n\t\t\ttry {\r\n\t\t\t\tconst queryObj = {\r\n\t\t\t\t\tcode: this.userBase.openid, \r\n\t\t\t\t\tpublisher_id: this.user.openid\r\n\t\t\t\t}\r\n\t\t\t\tconst { data: res } = await uni.$http.get('/users/iffollow', queryObj) \r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tthis.isFollowing = res.data.isFollowing\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('è·å–å…³æ³¨çŠ¶æ€å¤±è´¥:', error)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// ç‚¹å‡»å¤´åƒï¼ˆéæœ¬äººæ—¶æŸ¥çœ‹å¤§å›¾ï¼‰\r\n\t\thandleAvatarClick() {\r\n\t\t\tif (!this.ismyself) {\r\n\t\t\t\tthis.$refs.avatarPopup.open()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// åˆ‡æ¢å…³æ³¨\r\n\t\tasync toggleFollow() {\r\n\t\t\ttry {\r\n\t\t\t\tif (!this.openid) {\r\n\t\t\t\t\tuni.showToast({ title: 'è¯·å…ˆç™»å½•', icon: 'none' })\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst url = !this.isFollowing ? '/users/follow' : '/users/unfollow'\r\n\t\t\t\t\r\n\t\t\t\tconst { data } = await uni.$http.post(url, {\r\n\t\t\t\t\tcode: this.userBase.openid,\r\n\t\t\t\t\tpublisher_id: this.user.openid\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (data.meta.status === 200) {\r\n\t\t\t\t\tthis.isFollowing = !this.isFollowing\r\n\t\t\t\t\tuni.showToast({ \r\n\t\t\t\t\t\ttitle: this.isFollowing ? 'å…³æ³¨æˆåŠŸ' : 'å–æ¶ˆå…³æ³¨', \r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.user.followers_ids.length += this.isFollowing ? 1 : -1\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst queryObj = {code: this.openid};\r\n\t\t\t\t\tconst { data: res1 } = await uni.$http.get('/users/userinfo', queryObj);\r\n\t\t\t\t\tif (res1.meta.status === 200) {\r\n\t\t\t\t\t  this.updateUserBase(res1.message)\r\n\t\t\t\t\t  console.log('imhere')\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('å…³æ³¨æ“ä½œå¤±è´¥:', error)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// è·³è½¬åˆ°å•†å“è¯¦æƒ…\r\n\t\tasync gotoDetail(goodsId) {\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log('ğŸ“Š å¢åŠ å•†å“æµè§ˆæ¬¡æ•°:', goodsId);\r\n\t\t\t\tconst { data: res } = await uni.$http.post('/goods/view', {\r\n\t\t\t\t\tgoods_id: goodsId,\r\n\t\t\t\t\tuser_openid: this.openid || null\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\tif (res.meta.status === 200) {\r\n\t\t\t\t\tconsole.log('âœ… æµè§ˆæ¬¡æ•°å¢åŠ æˆåŠŸ');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn('âš ï¸ æµè§ˆæ¬¡æ•°å¢åŠ å¤±è´¥:', res.meta.msg);\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('âŒ æµè§ˆæ¬¡æ•°å¢åŠ æ¥å£é”™è¯¯:', error);\r\n\t\t\t}\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/subpkg/goods_detail/goods_detail?goods_id=${goodsId.goods_id}`\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tgotoFollow() {\r\n\t\t\tconst payload = encodeURIComponent(JSON.stringify(this.user))\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/subpkg/follow/follow?publisher=${payload}`\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tgotoFollower() {\r\n\t\t\tconst payload = encodeURIComponent(JSON.stringify(this.user))\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/subpkg/follower/follower?publisher=${payload}`\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.publisher-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f7f7f7;\r\n}\r\n\r\n/* 1. ç”¨æˆ·å¤´éƒ¨åŒºåŸŸ - é‡æ–°è®¾è®¡ */\r\n.user-header {\r\n\tdisplay: flex;\r\n\tpadding: 40rpx 30rpx;\r\n\tbackground-color: #fff;\r\n\t\r\n\t.avatar {\r\n\t\twidth: 140rpx;\r\n\t\theight: 140rpx;\r\n\t\tborder-radius: 70rpx;\r\n\t\tmargin-right: 24rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.user-right {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\t\r\n\t\t.user-basic {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 12rpx;\r\n\t\t\tmargin-bottom: 12rpx;\r\n\t\t\t\r\n\t\t\t.nickname {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.gender {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.intro-text {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tline-height: 1.5;\r\n\t\t\tmargin-bottom: 16rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.stats-follow-row {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t\r\n\t\t\t.stats {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t\r\n\t\t\t\t.stat-item {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.stat-divider {\r\n\t\t\t\t\tmargin: 0 16rpx;\r\n\t\t\t\t\tcolor: #ddd;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.follow-btn {\r\n\t\t\t\tpadding: 10rpx 32rpx;\r\n\t\t\t\tbackground-color: #c00000;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\tborder: none;\r\n\t\t\t\t\r\n\t\t\t\t&.following {\r\n\t\t\t\t\tbackground-color: #f0f0f0;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 2. åŠ¨æ€é€‰é¡¹å¡ï¼ˆå¸¦åˆ‡æ¢å›¾æ ‡ï¼‰ */\r\n.dynamic-tab {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbackground-color: #fff;\r\n\tpadding: 24rpx 30rpx;\r\n\tmargin-top: 2rpx;\r\n\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\r\n\t.tab-title {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\t.tab-text {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t\r\n\t\t.tab-badge {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin-left: 12rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.toggle-icon {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t\tpadding: 8rpx 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 20rpx;\r\n\t\t\r\n\t\t&:active {\r\n\t\t\tbackground-color: #e8e8e8;\r\n\t\t}\r\n\t\t\r\n\t\t.toggle-text {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #666;\r\n\t\t}\r\n\t\t\r\n\t\t.toggle-arrow {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* å¸–å­åˆ—è¡¨ */\r\n.post-list {\r\n\theight: calc(100vh - 350rpx);\r\n\tbackground-color: #f7f7f7;\r\n}\r\n\r\n.post-item {\r\n\tbackground-color: #fff;\r\n\tmargin: 0 0 20rpx 0;\r\n\tpadding: 30rpx;\r\n\t\r\n\t\r\n\t&:active {\r\n\t\tbackground-color: #f9f9f9;\r\n\t}\r\n\t\r\n\t.post-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\t\r\n\t\t.post-time {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t\t\r\n\t\t.post-category {\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tcolor: #c00000;\r\n\t\t\tbackground-color: #fff0f0;\r\n\t\t\tpadding: 6rpx 12rpx;\r\n\t\t\tborder-radius: 4rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* ğŸ”¥ æ–°å¢ï¼šå†…å®¹å’Œæ—¶é—´åŒè¡Œå®¹å™¨ */\r\n\t.post-content-row {\r\n\t  display: flex;\r\n\t  align-items: flex-start;\r\n\t  gap: 10px;\r\n\t  margin-bottom: 10px;\r\n\t}\r\n\t\r\n\t/* ğŸ”¥ ä¿®æ”¹ï¼šå¸–å­å†…å®¹åŒºåŸŸ */\r\n\t.post-content {\r\n\t  flex: 1;\r\n\t  min-width: 0; /* é˜²æ­¢å†…å®¹æ’‘å¼€å®¹å™¨ */\r\n\t  \r\n\t  .content-text {\r\n\t    font-size: 15px;\r\n\t    color: #333;\r\n\t    line-height: 1.6;\r\n\t    display: -webkit-box;\r\n\t    -webkit-line-clamp: 3;\r\n\t    -webkit-box-orient: vertical;\r\n\t    overflow: hidden;\r\n\t    word-break: break-all;\r\n\t  }\r\n\t}\r\n\t\r\n\t/* ğŸ”¥ æ–°å¢ï¼šæ—¶é—´åŒ…è£¹å™¨ */\r\n\t.post-time-wrapper {\r\n\t  flex-shrink: 0; /* é˜²æ­¢æ—¶é—´è¢«å‹ç¼© */\r\n\t  align-self: flex-start;\r\n\t  \r\n\t  .post-time {\r\n\t    font-size: 12px;\r\n\t    color: #999;\r\n\t    white-space: nowrap; /* æ—¶é—´ä¸æ¢è¡Œ */\r\n\t  }\r\n\t}\r\n\t\r\n\t.post-images {\r\n\t\tdisplay: flex;\r\n\t\tgap: 12rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tposition: relative;\r\n\t\t\r\n\t\t.post-image {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tbackground-color: #f0f0f0;\r\n\t\t}\r\n\t\t\r\n\t\t.more-images {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.post-footer {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding-top: 16rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\t\r\n\t\t.footer-left {\r\n\t\t\t.view-count {\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.footer-right {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 15px;\r\n\t\t\talign-items: center;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t.like-count,\r\n\t\t\t.comment-count {\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// ğŸ”¥ æ–°å¢ï¼šæ“ä½œé¡¹å®¹å™¨\r\n\t\t\t.action-item {\r\n\t\t\t  display: flex;\r\n\t\t\t  align-items: center;\r\n\t\t\t  gap: 4px;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// ğŸ”¥ æ–°å¢ï¼šå›¾æ ‡æ ·å¼\r\n\t\t\t.action-icon-img {\r\n\t\t\t  width: 16px;\r\n\t\t\t  height: 16px;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// ğŸ”¥ ä¿®æ”¹ï¼šç»Ÿä¸€æ–‡æœ¬æ ·å¼\r\n\t\t\t.action-count {\r\n\t\t\t  font-size: 12px;\r\n\t\t\t  color: #666;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.load-more,\r\n.no-more-posts {\r\n\tpadding: 40rpx 0;\r\n\ttext-align: center;\r\n\t\r\n\t.load-text,\r\n\t.no-more-text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n}\r\n\r\n/* å•†å“åˆ—è¡¨ç€‘å¸ƒæµ */\r\n.waterfall {\r\n\tdisplay: flex;\r\n\tpadding: 20rpx 10rpx;\r\n\tgap: 20rpx;\r\n\t\r\n\t.col {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 20rpx;\r\n\t}\r\n}\r\n\r\n/* ç©ºçŠ¶æ€ */\r\n.empty-state {\r\n\tpadding: 200rpx 0;\r\n\ttext-align: center;\r\n\t\r\n\t.empty-icon {\r\n\t\tfont-size: 80rpx;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.empty-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n}\r\n\r\n.waterfall {\r\n\t\t  display: flex;\r\n\t\t  justify-content: space-between;\r\n\t\t  padding: 16rpx;\r\n\t\t  box-sizing: border-box;\r\n\t\t}\r\n\t\t\r\n\t\t.col {\r\n\t\t  width: 48%;\r\n\t\t  display: flex;\r\n\t\t  flex-direction: column;\r\n\t\t}\r\n\t\t\r\n/* å¤´åƒé¢„è§ˆ */\r\n.avatar-preview {\r\n\twidth: 600rpx;\r\n\theight: 600rpx;\r\n\tbackground-color: #000;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n\t\r\n\t.preview-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1762694513162\n      var cssReload = require(\"D:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}