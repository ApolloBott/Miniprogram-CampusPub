<!-- pages/publish-select/publish-select.vue -->
<template>
  <view class="publish-select-page">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <view class="page-header">
      <text class="header-title">é€‰æ‹©å‘å¸ƒç±»å‹</text>
      <text class="header-subtitle">è¯·é€‰æ‹©ä½ è¦å‘å¸ƒçš„å†…å®¹ç±»å‹</text>
    </view>
    
    <!-- é€‰æ‹©åŒºåŸŸ -->
    <view class="select-container">
      
      <!-- ğŸ”¥ ä¿®æ”¹ï¼šå‘å¸ƒåˆ°æ ‘æ´ - ç›´æ¥è·³è½¬ -->
      <view class="select-card" @click="gotoTopicDiscussion">
        <view class="card-icon">ğŸ’¬</view>
        <view class="card-content">
          <text class="card-title">å‘å¸ƒåˆ°æ ‘æ´</text>
          <text class="card-desc">åˆ†äº«ä½ çš„æƒ³æ³•å’Œç”Ÿæ´»ç‚¹æ»´</text>
        </view>
        <view class="card-arrow">â€º</view>
      </view>
	  
	  <!-- å‘å¸ƒåˆ°äºŒæ‰‹ -->
	  <view class="select-card" @click="gotoSoldPage">
	    <view class="card-icon">ğŸ›ï¸</view>
	    <view class="card-content">
	      <text class="card-title">å‘å¸ƒåˆ°é›†å¸‚</text>
	      <text class="card-desc">å‡ºå”®é—²ç½®ç‰©å“ï¼Œè®©å®ƒä»¬æ‰¾åˆ°æ–°ä¸»äºº</text>
	    </view>
	    <view class="card-arrow">â€º</view>
	  </view>
	  
    </view>
  </view>
</template>

<script>
import { mapState, mapMutations } from 'vuex'
export default {
  data() {
    return {
      // ğŸ”¥ ç§»é™¤ï¼šä¸å†éœ€è¦showSheet
    }
  },
  computed: {
	  ...mapState('m_user', ['token', 'code', 'userBase', 'openid']),
  },
  methods: {
    // è·³è½¬åˆ°äºŒæ‰‹é¡µé¢
    gotoSoldPage() {
		if (!this.openid) {
		  uni.switchTab({
		    url: '/pages/my/my'
		  })
		  return
		}
      uni.navigateTo({
        url: '/pages/sold/sold'
      })
    },
    
    // ğŸ”¥ ä¿®æ”¹ï¼šç›´æ¥è·³è½¬åˆ°è¯é¢˜è®¨è®ºé¡µé¢
    gotoTopicDiscussion() {
		if (!this.openid) {
		  uni.switchTab({
		    url: '/pages/my/my'
		  })
		  return
		}
      uni.navigateTo({
        url: '/subpkg/topic/topic'
      })
    }
  }
}
</script>

<style lang="scss">
.publish-select-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #FFF8E7 0%, #FFE4B5 100%);
  padding: 80rpx 32rpx;
  position: relative;
}

.page-header {
  text-align: center;
  margin-bottom: 80rpx;
  
  .header-title {
    display: block;
    font-size: 48rpx;
    color: #000;
    font-weight: 600;
    margin-bottom: 16rpx;
  }
  
  .header-subtitle {
    display: block;
    font-size: 28rpx;
    color: rgba(0, 0, 0, 0.8);
  }
}

.select-container {
  display: flex;
  flex-direction: column;
  gap: 32rpx;
  color: #5D4037
}

.select-card {
  background-color: #ffffff;
  border-radius: 24rpx;
  padding: 48rpx 32rpx;
  display: flex;
  align-items: center;
  gap: 24rpx;
  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);
  transition: all 0.3s;
  
  &:active {
    transform: scale(0.98);
    box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.15);
  }
  
  .card-icon {
    width: 96rpx;
    height: 96rpx;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 20rpx;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48rpx;
    flex-shrink: 0;
  }
  
  &:nth-child(2) .card-icon {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  }
  
  .card-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8rpx;
    
    .card-title {
      font-size: 34rpx;
      color: #333333;
      font-weight: 600;
    }
    
    .card-desc {
      font-size: 26rpx;
      color: #999999;
      line-height: 1.4;
    }
  }
  
  .card-arrow {
    font-size: 48rpx;
    color: #cccccc;
    flex-shrink: 0;
  }
}
</style>
